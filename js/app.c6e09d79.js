(function(t){function e(e){for(var s,o,n=e[0],l=e[1],c=e[2],u=0,p=[];u<n.length;u++)o=n[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,n=1;n<a.length;n++){var l=a[n];0!==r[l]&&(s=!1)}s&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},r={app:0},i=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="https://ahmedabdosoftware.github.io/system-decorating/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"00b9":function(t,e,a){"use strict";a("b412")},"0143":function(t,e,a){"use strict";a("fe28")},"01b8":function(t,e,a){},"0294":function(t,e,a){"use strict";a("a0bc")},"0390":function(t,e,a){"use strict";a("ac13")},"03f0":function(t,e,a){"use strict";a("8b11")},"043d":function(t,e,a){},"0519":function(t,e,a){},"056f":function(t,e,a){},"0580":function(t,e,a){"use strict";a("0e07")},"05fb":function(t,e,a){t.exports=a.p+"img/noPic1.fa86c06a.jpg"},"06ad":function(t,e,a){"use strict";a("199f")},"08ba":function(t,e,a){t.exports=a.p+"img/setting.1746bc06.png"},"0908":function(t,e,a){"use strict";a("88dd")},"09a6":function(t,e,a){},"0a4e":function(t,e,a){},"0b0b":function(t,e,a){"use strict";a("349e")},"0b77":function(t,e,a){"use strict";a("aed0")},"0ddf":function(t,e,a){"use strict";a("5473")},"0e07":function(t,e,a){},"0eae":function(t,e,a){},"0eda":function(t,e,a){},"0fee":function(t,e,a){},1:function(t,e){},"11cf":function(t,e,a){},"12ef":function(t,e,a){"use strict";a("6988")},"131e":function(t,e,a){t.exports=a.p+"img/Purchases.7437d280.png"},1356:function(t,e,a){"use strict";a("5d36")},"13ca":function(t,e,a){"use strict";a("cf91")},1419:function(t,e,a){"use strict";a("bce1")},1769:function(t,e,a){"use strict";a("5da7")},"17de":function(t,e,a){"use strict";a("565f")},"17f4":function(t,e,a){},"183f":function(t,e,a){"use strict";a("9f70")},"199f":function(t,e,a){},"19a2":function(t,e,a){"use strict";a("01b8")},"19ec":function(t,e,a){"use strict";a("2e20")},"1b8a":function(t,e,a){"use strict";a("a4cc")},"1baa":function(t,e,a){},"1bbb":function(t,e,a){t.exports=a.p+"img/decoration.35a47c0a.png"},"1bf5":function(t,e,a){},"1caf":function(t,e,a){"use strict";a("80b2")},"1e61":function(t,e,a){"use strict";a("c4c0")},"1f51":function(t,e,a){"use strict";a("d807")},"208a":function(t,e,a){},"20a1":function(t,e,a){},"217e":function(t,e,a){},2271:function(t,e,a){"use strict";a("41d9")},"22f2":function(t,e,a){"use strict";a("e55d")},2373:function(t,e,a){"use strict";a("9f56")},"23e1":function(t,e,a){"use strict";a("e2be")},"23e8":function(t,e,a){t.exports=a.p+"img/langauge.8c395aba.png"},2419:function(t,e,a){},2471:function(t,e,a){"use strict";a("4125")},"24b5":function(t,e,a){"use strict";a("c91b")},"254a":function(t,e,a){},2734:function(t,e,a){},"290e":function(t,e,a){"use strict";a("f0e4")},"2b5e":function(t,e,a){"use strict";a("a419")},"2bde":function(t,e,a){},"2d4e":function(t,e,a){"use strict";a("9056")},"2e20":function(t,e,a){},"2ecf":function(t,e,a){"use strict";a("4fda")},"2f7c":function(t,e,a){},3019:function(t,e,a){"use strict";a("9f1c")},"30b1":function(t,e,a){"use strict";a("254a")},"31da":function(t,e,a){"use strict";a("7bf5")},"349e":function(t,e,a){},3591:function(t,e,a){"use strict";a("f6ce")},3667:function(t,e,a){},"38be":function(t,e,a){"use strict";a("d64e")},"38dc":function(t,e,a){"use strict";a("8d48")},"3b5d":function(t,e,a){},"3ddf":function(t,e,a){},"3e24":function(t,e,a){"use strict";a("f131")},"3f0d":function(t,e,a){},"3f53":function(t,e,a){"use strict";a("f9a1")},4023:function(t,e,a){t.exports=a.p+"img/shopping-bag.83ad3fdd.png"},4125:function(t,e,a){},"41d9":function(t,e,a){},"41dd":function(t,e,a){"use strict";a("9727")},"42ae":function(t,e,a){"use strict";a("62df")},4441:function(t,e,a){},"45d9":function(t,e,a){},"45db":function(t,e,a){t.exports=a.p+"img/pull.861d44ae.png"},"45dc":function(t,e,a){},"45ee":function(t,e,a){"use strict";a("8719")},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-ps":"4c98","./ar-ps.js":"4c98","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku-kmr":"7558","./ku-kmr.js":"7558","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=i(t);return a(e)}function i(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}r.keys=function(){return Object.keys(s)},r.resolve=i,t.exports=r,r.id="4678"},"468d":function(t,e,a){},4690:function(t,e,a){},4713:function(t,e,a){"use strict";a("a63c")},4752:function(t,e,a){},"48f5":function(t,e,a){},4947:function(t,e,a){t.exports=a.p+"img/profile.e0b95a08.png"},"49c6":function(t,e,a){},"4ae2":function(t,e,a){"use strict";a("55c3")},"4b72":function(t,e,a){t.exports=a.p+"img/img.e3450420.svg"},"4c4c":function(t,e,a){"use strict";a("fc46")},"4fda":function(t,e,a){},5044:function(t,e,a){"use strict";a("9552")},"51aa":function(t,e,a){"use strict";a("2734")},"52af":function(t,e,a){},5473:function(t,e,a){},"54c8":function(t,e,a){},"554e":function(t,e,a){"use strict";a("7c6d")},"55c3":function(t,e,a){},"565f":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},i=[],o={name:"App"},n=o,l=(a("19ec"),a("2877")),c=Object(l["a"])(n,r,i,!1,null,"2c38301c",null),d=c.exports,u=a("8c4f"),p=a("260b");a("e71f"),a("ea7b"),a("588e");const h={apiKey:"AIzaSyAI2PYSZNtbkg9wsaPBAtU5NLPwFG8fw-A",authDomain:"system-for-decoration.firebaseapp.com",projectId:"system-for-decoration",storageBucket:"system-for-decoration.appspot.com",messagingSenderId:"11653410112",appId:"1:11653410112:web:1e2d9bff1295eb1a091ea5",measurementId:"G-YKCQYG1QYQ"};p["a"].initializeApp(h);const m=p["a"].firestore(),f=p["a"].auth(),v=p["a"].storage();var g=function(){var t=this,e=t._self._c;return e("v-app",[e("v-container",{staticStyle:{"background-color":"#f7f7f9"}},[e("v-card",{staticClass:"mx-auto my-5 elevation-3 rounded-lg",attrs:{"max-width":"1000"}},[e("v-card-title",{staticClass:"primary white--text d-flex align-center py-4"},[e("v-icon",{staticClass:"mr-2"},[t._v("mdi-account-group")]),t._v(" Tenants List "),e("v-spacer"),e("v-btn",{staticClass:"white--text",attrs:{icon:"",disabled:t.loading},on:{click:t.fetchUsers}},[t.loading?e("v-progress-circular",{attrs:{indeterminate:"",size:"24",color:"white"}}):e("v-icon",[t._v("mdi-refresh")])],1)],1),t.loading?e("v-progress-linear",{attrs:{indeterminate:"",color:"primary",height:"4"}}):t._e(),e("v-card-text",{staticClass:"pa-5"},[e("v-row",{staticClass:"mb-4",attrs:{align:"center"}},[e("v-col",{attrs:{cols:"12",md:"6"}},[e("v-text-field",{attrs:{label:"Search for a user...","prepend-inner-icon":"mdi-magnify",outlined:"",dense:"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e("v-col",{staticClass:"text-md-right text-left",attrs:{cols:"12",md:"6"}},[e("v-btn",{staticStyle:{width:"180px",padding:"10px"},attrs:{color:"blue",dark:""},on:{click:t.openAddDialog}},[e("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" Add New Tenant ")],1)],1)],1),e("v-data-table",{attrs:{headers:t.headers,items:t.subscriptionUsers,"items-per-page":t.itemsPerPage,search:t.search,dense:"","fixed-header":"",height:"400px",loading:t.loading},scopedSlots:t._u([{key:"item",fn:function({item:a}){return[e("tr",[e("td",{staticClass:"text-center"},[t._v(t._s(a.number))]),e("td",{staticClass:"text-center"},[e("v-avatar",{staticStyle:{"background-color":"#e0f2ff",color:"#007acc","font-weight":"bold"},attrs:{size:"30"}},[a.profileImageURL?[e("img",{attrs:{src:a.profileImageURL,alt:a.name}})]:[t._v(" "+t._s(a.name.charAt(0).toUpperCase())+" ")]],2)],1),e("td",{staticClass:"text-center"},[t._v(t._s(a.name))]),e("td",{staticClass:"text-center"},[t._v(t._s(a.email))]),e("td",{staticClass:"text-center"},[e("v-btn",{attrs:{icon:"",color:"blue"},on:{click:function(e){return t.editUser(a)}}},[e("v-icon",[t._v("mdi-pencil")])],1),e("v-btn",{attrs:{icon:"",color:"red"},on:{click:function(e){return t.confirmDeleteUser(a)}}},[e("v-icon",[t._v("mdi-delete")])],1),e("v-btn",{attrs:{icon:"",color:"green"},on:{click:function(e){return t.quickRenewUser(a)}}},[e("v-icon",[t._v("mdi-autorenew")])],1)],1)])]}}])}),e("v-row",{staticClass:"mt-5",attrs:{justify:"center"}},[e("v-pagination",{attrs:{length:t.totalPages,"total-visible":"5",color:"primary"},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1),e("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"headline"},[t._v(t._s(t.userData.id?"Edit User":"Add New User"))])]),e("v-card-text",[e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"Name",outlined:""},model:{value:t.userData.name,callback:function(e){t.$set(t.userData,"name",e)},expression:"userData.name"}})],1),e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"Company Name",outlined:""},model:{value:t.userData.company_name,callback:function(e){t.$set(t.userData,"company_name",e)},expression:"userData.company_name"}})],1),e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"Email Address",outlined:""},model:{value:t.userData.email,callback:function(e){t.$set(t.userData,"email",e)},expression:"userData.email"}})],1),e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"password",outlined:""},model:{value:t.userData.password,callback:function(e){t.$set(t.userData,"password",e)},expression:"userData.password"}})],1),e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"Phone Number",outlined:""},model:{value:t.userData.number,callback:function(e){t.$set(t.userData,"number",e)},expression:"userData.number"}})],1),e("v-col",{attrs:{cols:"12"}},[e("v-select",{attrs:{items:["Portfolio","Full System"],label:"Subscription Type",outlined:""},model:{value:t.userData.subscription_type,callback:function(e){t.$set(t.userData,"subscription_type",e)},expression:"userData.subscription_type"}})],1),e("v-col",{attrs:{cols:"12"}},[e("v-select",{attrs:{items:t.templates,"item-value":"id","item-text":"name",label:"Choose a Template",outlined:""},model:{value:t.userData.template_id,callback:function(e){t.$set(t.userData,"template_id",e)},expression:"userData.template_id"}})],1),e("v-col",{attrs:{cols:"12",md:"6"}},[e("v-text-field",{attrs:{label:"Start Date",type:"date",outlined:""},model:{value:t.userData.subscription_start,callback:function(e){t.$set(t.userData,"subscription_start",e)},expression:"userData.subscription_start"}})],1),e("v-col",{attrs:{cols:"12",md:"6"}},[e("v-text-field",{attrs:{label:"End Date",type:"date",outlined:""},model:{value:t.userData.subscription_end,callback:function(e){t.$set(t.userData,"subscription_end",e)},expression:"userData.subscription_end"}})],1),e("v-col",{attrs:{cols:"12",md:"6"}},[e("v-text-field",{attrs:{label:"Subscription Days",type:"number",outlined:""},model:{value:t.userData.subscription_days,callback:function(e){t.$set(t.userData,"subscription_days",e)},expression:"userData.subscription_days"}})],1),e("v-col",{attrs:{cols:"12",md:"6"}},[e("v-switch",{attrs:{label:"Active Subscription",inset:"",color:"green"},model:{value:t.userData.is_active,callback:function(e){t.$set(t.userData,"is_active",e)},expression:"userData.is_active"}})],1),e("v-col",{attrs:{cols:"12"}},[e("v-textarea",{attrs:{label:"Additional Notes",outlined:""},model:{value:t.userData.notes,callback:function(e){t.$set(t.userData,"notes",e)},expression:"userData.notes"}})],1)],1)],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"green"},on:{click:function(e){return t.saveUser()}}},[t._v("Save")]),e("v-btn",{attrs:{color:"grey"},on:{click:function(e){t.editDialog=!1}}},[t._v("Cancel")])],1)],1)],1),e("v-dialog",{attrs:{"max-width":"400px"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[e("v-card",[e("v-card-title",[t._v("Confirm Deletion")]),e("v-card-text",[t._v(" Are you sure you want to delete user "+t._s(t.selectedUser.name)+"? ")]),e("v-card-actions",[e("v-btn",{attrs:{color:"red"},on:{click:t.deleteUser}},[t._v("Delete")]),e("v-btn",{attrs:{color:"grey"},on:{click:function(e){t.deleteDialog=!1}}},[t._v("Cancel")])],1)],1)],1)],1)],1)},b=[],y=a("be92"),_=(a("d9e2"),a("3452")),C=a.n(_);const w="your-secret-key";function I(t){return C.a.AES.encrypt(t,w).toString()}function P(t){const e=C.a.AES.decrypt(t,w);return e.toString(C.a.enc.Utf8)}const k=Object(y["c"])("user",{state:()=>({user:null,role:null,MoreUserInfo:null,tenantInfo:null}),actions:{async registerUser(t){try{const{company_name:e,email:a,name:s,number:r,password:i,role:o,subscription_type:n,subscription_start:l,subscription_end:c,subscription_days:d,template_id:u,is_active:p,notes:h,profileImageURL:v}=t;console.log(t);const g=f.currentUser,b=g.email,y=await m.collection("users").doc(g.uid).get(),_=y.data().password,C=P(_),w=await f.createUserWithEmailAndPassword(a,i),I=w.user.uid,k={id:I,name:s,email:a,password:i,role:o,number:r||null,profileImageURL:v||null,created_at:(new Date).toISOString()};return"admin"===o&&(k.subscription_type=n||null,k.subscription_start=l||null,k.subscription_end=c||null,k.subscription_days=d||null,k.template_id=u||null,k.is_active=p||null,k.company_name=e||null,k.notes=h||"",await this.handleTenantCreation(I,t)),await m.collection("users").doc(I).set(k),await f.signOut(),g&&await this.login(b,C),console.log("✅ User registered and admin session restored"),w}catch(e){return console.error("❌ Error registering user:",e.message),{success:!1,error:e.message}}},async handleTenantCreation(t,e){const{name:a,email:s,number:r,role:i,profileImageURL:o,subscription_type:n,subscription_start:l,subscription_end:c,subscription_days:d,company_name:u,template_id:p,is_active:h,notes:f}=e;if(await m.collection("Tenants").doc(t).set({uid:t,name:a,email:s,number:r,role:i,profileImageURL:o||null,subscription_type:n||null,subscription_start:l||null,subscription_end:c||null,subscription_days:d||null,company_name:u||null,template_id:p||null,is_active:h||null,notes:f||null,createdAt:new Date}),["Portfolio","Full System"].includes(n)){const e={userId:t,logo:null,heroTitle:"Exquisite Décor, Perfect Details",heroDescription:"We bring artistic touches that blend creativity with quality, using the finest materials like Viotech, wood alternatives, marble, and GRP. With precision and expertise, we turn your vision into a stunning",email:"",phoneNumber:"",showWhatsapp:!1,whatsappNumber:"",primaryColor:"#1976D2",businessHours:[{day:"Monday - Friday",hours:"9:00 AM – 6:00 PM"},{day:"Saturday",hours:"10:00 AM – 4:00 PM"},{day:"Sunday",hours:"Closed"}],socialLinks:{facebook:"",instagram:"",website:""},location:""};try{await m.collection("portfolioHandelTemplate").doc(t).set(e),console.log("✅ تم إنشاء إعدادات القالب الافتراضية")}catch(v){console.error("❌ خطأ أثناء إنشاء إعدادات القالب:",v)}}},async login(t,e){console.log("before signInWithEmailAndPassword",t,e);const a=await f.signInWithEmailAndPassword(t,e);this.user=a.user,console.log("after signInWithEmailAndPassword",t,e),console.log("before update docment with pass");const s=await m.collection("users").doc(this.user.uid).get();if(this.MoreUserInfo=s.data(),s.exists&&["admin","superAdmin"].includes(s.data().role)){console.log("yes, he is :- ",s.data().role);const t=I(e);await m.collection("users").doc(this.user.uid).update({password:t})}return console.log("after update docment with pass"),await this.fetchUserRoleFromFirestore(),this.user.uid},async logout(){await f.signOut(),this.user=null,this.role=null,console.log(this.role),console.log(this.user)},async fetchUserRoleFromFirestore(){if(this.user){const t=await m.collection("users").doc(this.user.uid).get();t.exists?this.role=t.data().role:this.role=null}console.log(this.role)},async handleAuthStateChanged(){f.onAuthStateChanged(async t=>{t?(this.user=t,console.log("فيه حد مسجل يبوحميد",t),console.log("فيه حد مسجل يبوحميد",this.user),await this.fetchUserRoleFromFirestore()):(console.log("مفيش حد مسجل يبوحميد"),this.user=null,this.role=null)})},async updateUser({uid:t,oldEmail:e,oldPassword:a,newEmail:s,newPassword:r,name:i,number:o,profileImageURL:n}){try{console.log("Run Fun");const l=f.currentUser,c=l.email,d=await m.collection("users").doc(l.uid).get(),u=d.data().password,p=P(u);console.log("get admin data",c,p),await f.signOut(),await this.login(e,a),console.log("sign out and in user");const h=f.currentUser;console.log("user data ",h),h&&(s&&s!==e&&(console.log("before change email",h.updateEmail),await h.updateEmail(s),console.log("تم تعديل البريد الإلكتروني في Firebase Authentication")),r&&r!==a&&(await h.updatePassword(r),console.log("تم تعديل كلمة المرور في Firebase Authentication")),await m.collection("users").doc(t).update({name:i,email:s||e,number:o,profileImageURL:n}),console.log("تم تعديل بيانات المستخدم في Firestore")),console.log("updated done "),await f.signOut(),await f.signInWithEmailAndPassword(c,p),console.log("تم إعادة تسجيل الدخول بحساب الأدمن")}catch(l){console.error("حدث خطأ أثناء تعديل بيانات المستخدم:",l.code,l.message)}},async deleteUser({uid:t,oldEmail:e,oldPassword:a}){try{const r=f.currentUser,i=r.email,o=await m.collection("users").doc(r.uid).get(),n=o.data().password,l=P(n);console.log("قبل تسجيل الخروج من حساب الأدمن"),await this.logout(),console.log("تم تسجيل الخروج من الأدمن");let c=null;try{console.log("محاولة تسجيل الدخول بالحساب الذي سيتم حذفه:",e,a),await this.login(e,a),console.log("تم تسجيل الدخول بالحساب الذي سيتم حذفه"),c=f.currentUser}catch(s){console.error("فشلت محاولة تسجيل الدخول بالحساب القديم:",s.code,s.message)}c?(await c.delete(),await this.login(i,l),await m.collection("users").doc(t).delete(),alert("User updated successfully!")):(await this.login(i,l),alert("Error deleting user: "))}catch(r){console.error("حدث خطأ أثناء حذف المستخدم أو تسجيل الدخول مرة أخرى:",r.code,r.message)}},async fetchTenantByCompanyName(t){try{const e=await m.collection("Tenants").where("company_name","==",t).limit(1).get();if(e.empty)throw new Error("Tenant not found with this company name.");{const t=e.docs[0];return this.tenantInfo={id:t.id,...t.data()},this.tenantInfo}}catch(e){return console.error("❌ Error fetching tenant:",e.message),null}},async uploadImage({uid:t,file:e}){const a=v.ref(),s=a.child(`users/${t}/profile.jpg`);await s.put(e);const r=await s.getDownloadURL();console.log("before update",t),await m.collection("users").doc(t).update({profileImageURL:r}),console.log("succsed update with pic")}},getters:{isAdmin(){return"admin"===this.role||"superAdmin"===this.role},isTechnical(){return"technical"===this.role},isClint(){return"clint"===this.role}}});a("0643"),a("2382"),a("a573");const x=Object(y["c"])("useGetUserStore",{state:()=>({users:[],technicalUsers:[],clientUsers:[],subscriptionUsers:[]}),actions:{async fetchUsers(){const t=await m.collection("users").get();this.users=t.docs.map(t=>({id:t.id,...t.data()})),this.technicalUsers=this.users.filter(t=>"technical"===t.role),this.clientUsers=this.users.filter(t=>"clint"===t.role),this.subscriptionUsers=this.users.filter(t=>"admin"===t.role)},async fetchSingleUser(t){const e=await m.collection("users").doc(t).get();if(e.exists)return{id:e.id,...e.data()};throw new Error("User not found")}}});a("14d9");const D=Object(y["c"])("templateStore",{state:()=>({templates:[],loading:!1}),actions:{async fetchTemplates(){this.loading=!0;const t=await m.collection("templates").get();this.templates=t.docs.map(t=>({id:t.id,...t.data()})),this.loading=!1},async fetchTemplateById(t){try{const e=await m.collection("templates").doc(t).get();if(e.exists)return{id:e.id,...e.data()};throw new Error("Template not found.")}catch(e){throw console.error("Error fetching template:",e),e}},async addTemplate(t,e){let a="";if(e){const t=v.ref().child(`templates/${Date.now()}_${e.name}`);await t.put(e),a=await t.getDownloadURL()}const s=await m.collection("templates").add({...t,image:a});this.templates.push({id:s.id,...t,image:a})},async updateTemplate(t,e,a){let s=e.image;if(a){const t=v.ref().child(`templates/${Date.now()}_${a.name}`);await t.put(a),s=await t.getDownloadURL()}await m.collection("templates").doc(t).update({...e,image:s});const r=this.templates.findIndex(e=>e.id===t);-1!==r&&(this.templates[r]={id:t,...e,image:s})},async deleteTemplate(t){await m.collection("templates").doc(t).delete(),this.templates=this.templates.filter(e=>e.id!==t)}}});var O={data(){return{page:1,itemsPerPage:6,search:"",loading:!1,editDialog:!1,deleteDialog:!1,userData:{},selectedUser:{},headers:[{text:"Number",value:"number",align:"center"},{text:"Avatar",value:"avatar",align:"center"},{text:"Name",value:"name",align:"center"},{text:"Email",value:"email",align:"center"},{text:"Actions",value:"actions",align:"center",sortable:!1}]}},computed:{totalPages(){return Math.ceil(this.subscriptionUsers.length/this.itemsPerPage)},...Object(y["e"])(x,["subscriptionUsers"]),...Object(y["e"])(D,["templates"])},methods:{...Object(y["d"])(k,["registerUser"]),...Object(y["d"])(x,["fetchUsers"]),...Object(y["d"])(D,["fetchTemplates"]),quickRenewUser(t){const e=new Date,a=e.toISOString().split("T")[0],s=new Date(e.setDate(e.getDate()+t.subscription_days)).toISOString().split("T")[0],r={...t,subscription_start:a,subscription_end:s};this.userData=r,this.saveUser()},openAddDialog(){this.userData={},this.editDialog=!0},editUser(t){this.userData={...t},console.log(this.userData),this.editDialog=!0},async saveUser(){if(this.userData.id);else try{this.loading=!0,console.log(this.userData),await this.registerUser({role:"admin",...this.userData}),this.editDialog=!1}catch(t){console.error("Error while registering user:",t)}finally{this.loading=!1}},confirmDeleteUser(t){this.selectedUser=t,this.deleteDialog=!0},deleteUser(){console.log("delete user function - to be implemented"),this.deleteDialog=!1}},watch:{page(){this.fetchUsers()}},mounted(){this.fetchUsers(),this.fetchTemplates()}},S=O,A=(a("bdfe"),Object(l["a"])(S,g,b,!1,null,"e7e84c44",null)),B=A.exports,T=function(){var t=this,e=t._self._c;return e("div",{class:{"dark-mode":t.getDarkMode},attrs:{id:"main-layout"}},[e("HeaderAdmin",{staticClass:"headerCom"}),e("Sidebar",{class:{"dark-moode":t.getDarkMode}}),e("router-view",{staticClass:"content-view",class:{"dark-mode":t.getDarkMode}})],1)},F=[],q=function(){var t=this,e=t._self._c;return e("header",{staticClass:"header-app",class:[{scrolled:t.isScrolled,"dark-mode-header":t.getDarkMode}]},[e("div",{class:{"dark-mode":t.getDarkMode}},[e("div",{staticClass:"cont-threeLines"},[e("img",{staticClass:"threeLines",attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRDcuD37EZ7RcuSCK-xgiviaswyxNkGoXYggQ&usqp=CAU"},on:{click:function(e){return t.appearMenue()}}})]),e("div",{staticClass:"search-container"},[e("img",{staticClass:"icon-search",attrs:{src:a("ccef")}}),e("input",{attrs:{type:"text",placeholder:"Search"}}),e("button",{staticClass:"shortcut"},[t._v("⌘K")])])]),e("div",[e("div",{staticClass:"icon-noti"},[e("img",{staticClass:"icon",attrs:{src:a("23e8")}})]),e("div",{staticClass:"icon-noti dark-mode-icon-cont"},[e("img",{staticClass:"icon dark-mode-icon",attrs:{src:a("61a6")}})]),e("div",{staticClass:"icon-noti"},[e("img",{staticClass:"icon",attrs:{src:a("9d5a")}})]),t._m(0)])])},L=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"profile_header"},[e("img",{attrs:{src:"https://i.pravatar.cc/300",alt:"User Profile"}}),e("span",{staticClass:"status-dot"})])}],N={name:"HeaderAdmin",data(){return{isScrolled:!1}},methods:{appearMenue(){document.getElementById("sidebar").style.cssText="left:0%;"},handleScroll(){this.isScrolled=window.scrollY>10}},computed:{getDarkMode(){return this.$store.state.darkMode}},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeDestroy(){window.removeEventListener("scroll",this.handleScroll)}},j=N,M=(a("cfb5"),Object(l["a"])(j,q,L,!1,null,"bbdc310c",null)),U=M.exports,E=function(){var t=this,e=t._self._c;return e("div",{class:["sidebar",{"sidebar-collapsed":t.isCollapsed}],attrs:{id:"sidebar"}},[e("div",{staticClass:"content",class:{"dark-mode-content":t.getDarkMode}},[e("div",{staticClass:"header",class:{"dark-mode-header":t.getDarkMode}},[e("img",{attrs:{id:"logoSystem",src:a("e347")}}),e("img",{staticClass:"flag",attrs:{src:a("1bbb")}}),e("span",{staticClass:"x",on:{click:function(e){return t.disappear()}}},[t._v("x")])]),e("div",{staticClass:"links"},[e("div",{class:{"dark-mode-content":t.getDarkMode}},[e("router-link",{attrs:{to:"/dashboard/ManageTenants"}},[e("img",{staticClass:"iconAwesome",attrs:{src:a("cb91")}})]),t.isCollapsed?t._e():e("router-link",{attrs:{to:"/dashboard/ManageTenants"}},[e("p",{staticClass:"link"},[t._v("Manage Tenants")])]),e("font-awesome-icon",{staticClass:"arrow"})],1),e("div",{class:{"dark-mode-content":t.getDarkMode}},[e("router-link",{attrs:{to:"/dashboard"}},[e("img",{staticClass:"iconAwesome",attrs:{src:a("599a")}})]),t.isCollapsed?t._e():e("router-link",{attrs:{to:"/dashboard"}},[e("p",{staticClass:"link"},[t._v("dashboard")])]),e("font-awesome-icon",{staticClass:"arrow"})],1),e("div",{class:[{"different-color":t.isProductsOpen,"dark-mode-content":t.getDarkMode},"product-sup"],on:{click:function(e){return t.toggleSubMenu("products")}}},[e("img",{staticClass:"iconAwesome",attrs:{src:a("6df2")}}),e("p",{staticClass:"link products_p"},[t._v("products")]),t.isCollapsed?t._e():e("font-awesome-icon",{staticClass:"arrow",attrs:{icon:t.isProductsOpen?"chevron-up":"chevron-down"}}),e("DropDownMenuSidebar",{directives:[{name:"show",rawName:"v-show",value:t.isCollapsed,expression:"isCollapsed"}],attrs:{position:"products"}},[e("router-link",{attrs:{to:"/dashboard/Product"}},[t._v(" products ")]),e("router-link",{attrs:{to:"/dashboard/AddNewProduct"}},[t._v(" add products ")]),e("router-link",{attrs:{to:"/dashboard/units"}},[t._v(" units ")]),e("router-link",{attrs:{to:"/dashboard/notes"}},[t._v(" ads poster ")]),e("router-link",{attrs:{to:"/dashboard/Category"}},[t._v(" categories ")]),e("router-link",{attrs:{to:"/dashboard/addcatagory"}},[t._v(" add category ")])],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isProductsOpen&&!t.isCollapsed,expression:"isProductsOpen && !isCollapsed"}],class:[{"different-color":t.isProductsOpen,"dark-mode-content":t.getDarkMode},"supMenue"]},[e("font-awesome-icon",{staticClass:"iconAwesome",attrs:{icon:"chevron-right"}}),t.isCollapsed?t._e():e("router-link",{attrs:{to:"/dashboard/Product"}},[e("p",{staticClass:"link"},[t._v("list of products")])])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isProductsOpen&&!t.isCollapsed,expression:"isProductsOpen && !isCollapsed"}],class:[{"different-color":t.isProductsOpen,"dark-mode-content":t.getDarkMode},"supMenue"]},[e("font-awesome-icon",{staticClass:"iconAwesome",attrs:{icon:"chevron-right"}}),t.isCollapsed?t._e():e("router-link",{attrs:{to:"/dashboard/AddNewProduct"}},[e("p",{staticClass:"link"},[t._v("add products")])])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isProductsOpen&&!t.isCollapsed,expression:"isProductsOpen && !isCollapsed"}],class:[{"different-color":t.isProductsOpen,"dark-mode-content":t.getDarkMode},"supMenue"]},[e("font-awesome-icon",{staticClass:"iconAwesome",attrs:{icon:"chevron-right"}}),t.isCollapsed?t._e():e("router-link",{attrs:{to:"/dashboard/units"}},[e("p",{staticClass:"link"},[t._v("units")])])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isProductsOpen&&!t.isCollapsed,expression:"isProductsOpen && !isCollapsed"}],class:[{"different-color":t.isProductsOpen,"dark-mode-content":t.getDarkMode},"supMenue"]},[e("font-awesome-icon",{staticClass:"iconAwesome",attrs:{icon:"chevron-right"}}),t.isCollapsed?t._e():e("router-link",{attrs:{to:"/dashboard/notes"}},[e("p",{staticClass:"link"},[t._v("ads poster")])])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isProductsOpen&&!t.isCollapsed,expression:"isProductsOpen && !isCollapsed"}],class:[{"different-color":t.isProductsOpen,"dark-mode-content":t.getDarkMode},"supMenue"]},[e("font-awesome-icon",{staticClass:"iconAwesome",attrs:{icon:"chevron-right"}}),t.isCollapsed?t._e():e("router-link",{attrs:{to:"/dashboard/Category"}},[e("p",{staticClass:"link"},[t._v("list of categories")])])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isProductsOpen&&!t.isCollapsed,expression:"isProductsOpen && !isCollapsed"}],class:[{"different-color":t.isProductsOpen,"dark-mode-content":t.getDarkMode},"supMenue"]},[e("font-awesome-icon",{staticClass:"iconAwesome",attrs:{icon:"chevron-right"}}),t.isCollapsed?t._e():e("router-link",{attrs:{to:"/dashboard/addcatagory"}},[e("p",{staticClass:"link"},[t._v("add category")])])],1),e("div",{class:{"dark-mode-content":t.getDarkMode}},[e("router-link",{attrs:{to:"/dashboard/Order"}},[e("img",{staticClass:"iconAwesome",attrs:{src:a("4023")}})]),t.isCollapsed?t._e():e("router-link",{attrs:{to:"/dashboard/Order"}},[e("p",{staticClass:"link"},[t._v("orders")])])],1),e("div",{class:{"dark-mode-content":t.getDarkMode}},[e("router-link",{attrs:{to:"/dashboard/users/technicalPages/Technical"}},[e("img",{staticClass:"iconAwesome",attrs:{src:a("08ba")}})]),t.isCollapsed?t._e():e("router-link",{attrs:{to:"/dashboard/users/technicalPages/Technical"}},[e("p",{staticClass:"link"},[t._v("technician")])])],1),e("div",{class:{"dark-mode-content":t.getDarkMode}},[e("router-link",{attrs:{to:"/dashboard/users/clintPages/Clint"}},[e("img",{staticClass:"iconAwesome",attrs:{src:a("4947")}})]),t.isCollapsed?t._e():e("router-link",{attrs:{to:"/dashboard/users/clintPages/Clint"}},[e("p",{staticClass:"link"},[t._v("clients")])])],1),e("div",{staticClass:"projects",class:{"dark-mode-content":t.getDarkMode}},[e("router-link",{attrs:{to:"/dashboard/Projects"}},[e("img",{staticClass:"iconAwesome",attrs:{src:a("c4c7")}})]),t.isCollapsed?t._e():e("router-link",{attrs:{to:"/dashboard/Projects"}},[e("p",{staticClass:"link"},[t._v("projects")])])],1),e("div",{class:[{"different-color":t.isStorageOpen,"dark-mode-content":t.getDarkMode},"storage-sup"],on:{click:function(e){return t.toggleSubMenu("storage")}}},[e("img",{staticClass:"iconAwesome",attrs:{src:a("bdb4")}}),e("p",{staticClass:"link storage_p"},[t._v("storage")]),t.isCollapsed?t._e():e("font-awesome-icon",{staticClass:"arrow",attrs:{icon:t.isStorageOpen?"chevron-up":"chevron-down"}}),e("DropDownMenuSidebar",{directives:[{name:"show",rawName:"v-show",value:t.isCollapsed,expression:"isCollapsed"}],attrs:{position:"storage",getDarkMode:t.getDarkMode}},[e("router-link",{attrs:{to:"/dashboard/Branches"}},[t._v(" storage ")]),e("router-link",{attrs:{to:"/dashboard/AddNewBranch"}},[t._v(" add storage ")]),e("router-link",{attrs:{to:"/dashboard/StockAlerts"}},[t._v(" alert stock ")]),e("router-link",{attrs:{to:"/dashboard/Transfer"}},[t._v(" transfer ")]),e("router-link",{attrs:{to:"/dashboard/AddTransfer"}},[t._v(" add transfer ")])],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isStorageOpen&&!t.isCollapsed,expression:"isStorageOpen && !isCollapsed"}],class:[{"different-color":t.isStorageOpen,"dark-mode-content":t.getDarkMode},"supMenue"]},[e("font-awesome-icon",{staticClass:"iconAwesome",attrs:{icon:"chevron-right"}}),t.isCollapsed?t._e():e("router-link",{attrs:{to:"/dashboard/Branches"}},[e("p",{staticClass:"link"},[t._v("list of storage")])])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isStorageOpen&&!t.isCollapsed,expression:"isStorageOpen && !isCollapsed"}],class:[{"different-color":t.isStorageOpen,"dark-mode-content":t.getDarkMode},"supMenue"]},[e("font-awesome-icon",{staticClass:"iconAwesome",attrs:{icon:"chevron-right"}}),t.isCollapsed?t._e():e("router-link",{attrs:{to:"/dashboard/AddNewBranch"}},[e("p",{staticClass:"link"},[t._v("add storage")])])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isStorageOpen&&!t.isCollapsed,expression:"isStorageOpen && !isCollapsed"}],class:[{"different-color":t.isStorageOpen,"dark-mode-content":t.getDarkMode},"supMenue"]},[e("font-awesome-icon",{staticClass:"iconAwesome",attrs:{icon:"chevron-right"}}),t.isCollapsed?t._e():e("router-link",{attrs:{to:"/dashboard/StockAlerts"}},[e("p",{staticClass:"link"},[t._v("alert stock")])])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isStorageOpen&&!t.isCollapsed,expression:"isStorageOpen && !isCollapsed"}],class:[{"different-color":t.isStorageOpen,"dark-mode-content":t.getDarkMode},"supMenue"]},[e("font-awesome-icon",{staticClass:"iconAwesome",attrs:{icon:"chevron-right"}}),t.isCollapsed?t._e():e("router-link",{attrs:{to:"/dashboard/Transfer"}},[e("p",{staticClass:"link"},[t._v("Inventory transfer")])])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isStorageOpen&&!t.isCollapsed,expression:"isStorageOpen && !isCollapsed"}],class:[{"different-color":t.isStorageOpen,"dark-mode-content":t.getDarkMode},"supMenue"]},[e("font-awesome-icon",{staticClass:"iconAwesome",attrs:{icon:"chevron-right"}}),t.isCollapsed?t._e():e("router-link",{attrs:{to:"/dashboard/AddTransfer"}},[e("p",{staticClass:"link"},[t._v("add transfer")])])],1),e("div",{class:[{"different-color":t.isPurchasesOpen,"dark-mode-content":t.getDarkMode},"purchase-sup"],on:{click:function(e){return t.toggleSubMenu("Purchases")}}},[e("img",{staticClass:"iconAwesome",attrs:{src:a("131e")}}),e("p",{staticClass:"link purchases_p"},[t._v("Purchases")]),t.isCollapsed?t._e():e("font-awesome-icon",{staticClass:"arrow",attrs:{icon:t.isPurchasesOpen?"chevron-up":"chevron-down"}}),e("DropDownMenuSidebar",{directives:[{name:"show",rawName:"v-show",value:t.isCollapsed,expression:"isCollapsed"}],attrs:{position:"purchases"}},[e("router-link",{attrs:{to:"/dashboard/Purchases"}},[t._v(" Purchases ")]),e("router-link",{attrs:{to:"/dashboard/AddPurchase"}},[t._v(" add purchase ")]),e("router-link",{attrs:{to:"/dashboard/Returns"}},[t._v(" returns ")])],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isPurchasesOpen&&!t.isCollapsed,expression:"isPurchasesOpen && !isCollapsed"}],class:[{"different-color":t.isPurchasesOpen,"dark-mode-content":t.getDarkMode},"supMenue"]},[e("font-awesome-icon",{staticClass:"iconAwesome",attrs:{icon:"chevron-right"}}),t.isCollapsed?t._e():e("router-link",{attrs:{to:"/dashboard/Purchases"}},[e("p",{staticClass:"link"},[t._v("list of purchases")])])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isPurchasesOpen&&!t.isCollapsed,expression:"isPurchasesOpen && !isCollapsed"}],class:[{"different-color":t.isPurchasesOpen,"dark-mode-content":t.getDarkMode},"supMenue"]},[e("font-awesome-icon",{staticClass:"iconAwesome",attrs:{icon:"chevron-right"}}),t.isCollapsed?t._e():e("router-link",{attrs:{to:"/dashboard/AddPurchase"}},[e("p",{staticClass:"link"},[t._v("add purchase")])])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isPurchasesOpen&&!t.isCollapsed,expression:"isPurchasesOpen && !isCollapsed"}],class:[{"different-color":t.isPurchasesOpen,"dark-mode-content":t.getDarkMode},"supMenue"]},[e("font-awesome-icon",{staticClass:"iconAwesome",attrs:{icon:"chevron-right"}}),t.isCollapsed?t._e():e("router-link",{attrs:{to:"/dashboard/Returns"}},[e("p",{staticClass:"link"},[t._v("returns")])])],1),e("div",{class:[{"different-color":t.isPortfolioOpen,"dark-mode-content":t.getDarkMode},"Portfolio-sup"],on:{click:function(e){return t.toggleSubMenu("Portfolio")}}},[e("img",{staticClass:"iconAwesome",attrs:{src:a("f608")}}),e("p",{staticClass:"link storage_p"},[t._v("Portfolio")]),t.isCollapsed?t._e():e("font-awesome-icon",{staticClass:"arrow",attrs:{icon:t.isPortfolioOpen?"chevron-up":"chevron-down"}}),e("DropDownMenuSidebar",{directives:[{name:"show",rawName:"v-show",value:t.isCollapsed,expression:"isCollapsed"}],attrs:{position:"portfolio",getDarkMode:t.getDarkMode}},[e("router-link",{attrs:{to:"/dashboard/ManagePortfolios"}},[t._v(" Templates ")]),e("router-link",{attrs:{to:"/portfolio/companyName"}},[t._v(" Your Portfolio ")])],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isPortfolioOpen&&!t.isCollapsed,expression:"isPortfolioOpen && !isCollapsed"}],class:[{"different-color":t.isPortfolioOpen,"dark-mode-content":t.getDarkMode},"supMenue"]},[e("font-awesome-icon",{staticClass:"iconAwesome",attrs:{icon:"chevron-right"}}),t.isCollapsed?t._e():e("router-link",{attrs:{to:"/dashboard/ManagePortfolios"}},[e("p",{staticClass:"link"},[t._v("Templates")])])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isPortfolioOpen&&!t.isCollapsed,expression:"isPortfolioOpen && !isCollapsed"}],class:[{"different-color":t.isPortfolioOpen,"dark-mode-content":t.getDarkMode},"supMenue"]},[e("font-awesome-icon",{staticClass:"iconAwesome",attrs:{icon:"chevron-right"}}),t.isCollapsed?t._e():e("router-link",{attrs:{to:"/companyName"}},[e("p",{staticClass:"link"},[t._v("Your portfolio")])])],1),e("div",{staticClass:"themeCont",class:{"dark-mode-content":t.getDarkMode}},[e("img",{staticClass:"iconAwesome",attrs:{src:a("61a6")}}),t.isCollapsed?t._e():e("div",{staticClass:"theme",class:{"dark-mode-content":t.getDarkMode}},[e("p",{staticClass:"link theme",on:{click:function(e){return t.theme()}}},[t._v("theme")]),e("font-awesome-icon",{staticClass:"iconAwesome",attrs:{icon:t.getDarkMode?"moon":"sun"}})],1),e("font-awesome-icon",{staticClass:"arrow"})],1),e("div",{staticClass:"log-out",class:{"dark-mode-content":t.getDarkMode},on:{click:t.logOut}},[e("div",{staticClass:"profile-cont",class:{"dark-mode-content":t.getDarkMode}},[t._m(0)]),t.isCollapsed?t._e():e("div",{staticClass:"log-out-word",class:{"dark-mode-content":t.getDarkMode}},[e("p",{staticClass:"link"},[t._v("log out")])]),t.isCollapsed?t._e():e("font-awesome-icon",{staticClass:"log",attrs:{icon:"sign-out-alt"}})],1)]),e("div",{staticClass:"toggle-button",on:{click:t.toggleSidebar}},[e("font-awesome-icon",{attrs:{icon:t.isCollapsed?"chevron-right":"chevron-left"}})],1)])])},R=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"profile_sidbar"},[e("img",{attrs:{src:"https://i.pravatar.cc/300",alt:"User Profile"}}),e("span",{staticClass:"status-dot"})])}],Q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dropdown"},[e("div",{staticClass:"dropdown-content"},[t._t("default")],2)])},V=[],H={name:"DropDownMenuSidebar",props:["position"],computed:{}},G=H,W=(a("45ee"),Object(l["a"])(G,Q,V,!1,null,"34b0141a",null)),z=W.exports,$={data(){return{isCollapsed:!1,isProductsOpen:!1,isStorageOpen:!1,isPurchasesOpen:!1,isPortfolioOpen:!1}},components:{DropDownMenuSidebar:z},name:"Sidebar",computed:{getDarkMode(){return this.$store.state.darkMode},mood(){return this.$store.state.mood}},methods:{...Object(y["d"])(k,["logout"]),async logOut(){await this.logout(),this.$router.push("/login")},theme(){this.$store.commit("toggleDarkMode")},disappear(){document.getElementById("sidebar").style.cssText="left:-100%;"},toggleSidebar(){this.isCollapsed=!this.isCollapsed,document.querySelector("#main-layout").classList.toggle("sidebar-collapsed",this.isCollapsed),document.querySelector("#logoSystem").classList.toggle("logoSystem",this.isCollapsed)},toggleSubMenu(t){"products"===t?this.isProductsOpen=!this.isProductsOpen:"storage"===t?this.isStorageOpen=!this.isStorageOpen:"Purchases"===t?this.isPurchasesOpen=!this.isPurchasesOpen:"Portfolio"===t&&(this.isPortfolioOpen=!this.isPortfolioOpen)}}},Z=$,Y=(a("30b1"),Object(l["a"])(Z,E,R,!1,null,null,null)),K=Y.exports,X={name:"MainLayout",components:{HeaderAdmin:U,Sidebar:K},data(){return{}},methods:{},computed:{getDarkMode(){return this.$store.state.darkMode}}},J=X,tt=(a("56e8"),Object(l["a"])(J,T,F,!1,null,"7c3f7066",null)),et=tt.exports,at=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page dashboard"},[e("div",{staticClass:"dashboard_title"},[e("div",[e("div",{staticClass:"contTitle"},[t._m(0),e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("dashboard grid")])])]),e("WelcomeMessage")],1),e("StatisticsInfo"),e("TodayOrder"),e("StockAlert"),e("PurchasesUnpaid")],1)},st=[function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTUQUVkx6lAgtb3-3fMuDZnDixihOSrrNSAOg&usqp=CAU"}})])}],rt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"statistics"},[e("div",{staticClass:"statistics_search"},[e("div",{staticClass:"date-range"},[e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.toDate,expression:"toDate"}],attrs:{type:"date",id:"to-date",placeholder:"إلى"},domProps:{value:t.toDate},on:{input:function(e){e.target.composing||(t.toDate=e.target.value)}}}),e("label",{attrs:{for:"to-date"}},[t._v(":الى")])]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.fromDate,expression:"fromDate"}],attrs:{type:"date",id:"from-date",placeholder:"من"},domProps:{value:t.fromDate},on:{input:function(e){e.target.composing||(t.fromDate=e.target.value)}}}),e("label",{attrs:{for:"from-date"}},[t._v(":من")])])])]),e("div",{staticClass:"statistics_ressults"},[e("StatisticsResult",{attrs:{icon:"shopping-cart",title:"اجمالى المشتريات",value:t.calculateTotalPurchases,isLoading:!0}}),e("StatisticsResult",{attrs:{icon:"file-invoice-dollar",title:"مشتريات غير مدفوعة",value:t.calculateTotalPurchasesUnPaid}}),e("StatisticsResult",{attrs:{icon:"dollar-sign",title:"المصنعيه",value:t.calculateTotalInstallationForAllOrders,isLoading:!0}}),e("StatisticsResult",{attrs:{icon:"dollar-sign",title:"صافى المصنعيه ",value:t.calculateTotalPureInstallationForAllOrders,isLoading:!0}}),e("StatisticsResult",{attrs:{icon:"box-open",title:"بعت بكام خامات",value:t.calculateTotalSales,isLoading:!0}}),e("StatisticsResult",{attrs:{icon:"cash-register",title:"صافى ربح الخامات",value:t.calculateNetProfit,isLoading:!0}}),e("StatisticsResult",{attrs:{icon:"cash-register",title:"ليك كام برا",value:t.finalTotalBalance,isLoading:!0}})],1)])},it=[],ot=(a("13d5"),a("fffc"),a("4e3e"),a("9d4a"),a("c1df")),nt=a.n(ot);const lt=Object(y["c"])("orders",{state:()=>({orders:[]}),actions:{async fetchOrders(){const t=await m.collection("orders").orderBy("date","desc").get();this.orders=t.docs.map(t=>({id:t.id,...t.data()}))},async generateOrderNumber(){const t=await m.collection("orders").orderBy("numberOfOrder","desc").limit(1).get();if(t.empty)return 1;{const e=t.docs[0].data();return parseInt(e.numberOfOrder)+1}},async addOrder(t){const e=await m.collection("orders").add(t);return await this.fetchOrders(),e.id},async updateOrder(t){await m.collection("orders").doc(t.id).update(t),await this.fetchOrders()},async deleteOrder(t){await m.collection("orders").doc(t).delete(),await this.fetchOrders()},async uploadImage({file:t}){const e=v.ref(),a=e.child(`orders/${(new Date).getTime()}_${t.name}`);return await a.put(t),await a.getDownloadURL()},async deleteImageFromStorage(t){try{const e=v.refFromURL(t);await e.delete(),console.log("Image deleted from storage")}catch(e){throw console.error("Error deleting image from storage",e),new Error("Error deleting image from storage")}}}}),ct=Object(y["c"])("usePurchasesStore",{state:()=>({purchases:[]}),actions:{async addPurchase(t){const e=await m.collection("purchases").add(t);return e.id},async fetchPurchases(){const t=await m.collection("purchases").get();this.purchases=t.docs.map(t=>({id:t.id,...t.data()}))},async deletePurchase(t){await m.collection("purchases").doc(t).delete(),this.fetchPurchases()}}}),dt=Object(y["c"])("useReturnsStore",{state:()=>({returns:[]}),actions:{async fetchReturnsByPurchaseId(t){const e=await m.collection("returns").where("purchaseId","==",t).get();return this.returns=e.docs.map(t=>({id:t.id,...t.data()})),this.returns},async canReturnProducts(t,e){const a=await this.fetchReturnsByPurchaseId(t);console.log(a);const s=await m.collection("purchases").doc(t).get(),r=s.data();console.log(r);for(const i of e){const{id:t,quantityReturn:e}=i;if(!e||e<=0)continue;let s=0;for(const r of a){const e=r.products.find(e=>e.id===t);e&&(s+=Number(e.quantityReturn))}const o=r.products.find(e=>e.id===t),n=o?o.quantity:0;if(s+Number(e)>n)return{success:!1,id:t,message:"مجموع المرتجعات لهذا المنتج تخطى كميه الشراء "}}return{success:!0}},async checkWarehouseStock(t,e){for(const a of e){const{id:e,quantityReturn:s}=a;if(!s||s<=0)continue;const r=await m.collection("branches").doc(t).get(),i=r.data(),o=i.products.find(t=>t.id===e);if(!o||o.quantity<s)return{success:!1,id:e,message:"لا توجد كميه كافيه فى المخزن "}}return{success:!0}},async updateWarehouseStock(t,e){const a=await m.collection("branches").doc(t).get(),s=a.data();console.log("warehouse Data",s),console.log("products To Return",e);for(const r of e){const{id:t,quantityReturn:e}=r;if(!e||e<=0)continue;const a=s.products.find(e=>e.id===t);a&&(a.quantity-=e)}await m.collection("branches").doc(t).update({products:s.products})},async addReturn(t,e){const a=await m.collection("purchases").doc(t).get(),s=a.data(),r=s.BranchId,i=await this.canReturnProducts(t,e.products);if(!i.success)throw new Error(i.message);const o=await this.checkWarehouseStock(r,e.products);if(!o.success)throw new Error(o.message);console.log("ok");const n=await m.collection("returns").add(e);return await this.updateWarehouseStock(r,e.products),n.id},async fetchAllReturns(){const t=await m.collection("returns").get();this.returns=t.docs.map(t=>({id:t.id,...t.data()}))},async deleteReturn(t){await m.collection("returns").doc(t).delete(),this.fetchAllReturns()}}}),ut=Object(y["c"])("transactions",{state:()=>({transactions:[],userTransactions:[],specificTransactions:[],specificUserTransactions:[],userTransactionSummaries:[]}),actions:{async fetchTransactions(){const t=await m.collection("transactions").get();this.transactions=t.docs.map(t=>({id:t.id,...t.data()}))},async fetchTransactionById(t){const e=await m.collection("transactions").doc(t).get();return e.exists?{id:e.id,...e.data()}:(console.error("No such document!"),null)},async fetchTransactionsByUserId(t){const e=await m.collection("transactions").where("userId","==",t).get();this.userTransactions=e.docs.map(t=>({id:t.id,...t.data()}))},async addTransaction(t){return await m.collection("transactions").doc(t.id).set(t),await this.fetchTransactions(),t.id},async updateTransaction(t){await m.collection("transactions").doc(t.id).update(t),await this.fetchTransactions()},async deleteTransaction(t,e){await m.collection("transactions").doc(t).delete(),this.fetchTransactions(),this.fetchTransactionsByUserId(e)},async fetchSpecificTransactions(){const t=await m.collection("SpecificTransactions").where("status","==","open").get();this.specificTransactions=t.docs.map(t=>({id:t.id,...t.data()}))},async addSpecificTransaction(t){const e=m.collection("SpecificTransactions").doc();return await e.set(t),await this.fetchSpecificTransactions(),e.id},async fetchSpecificTransactionById(t){const e=await m.collection("SpecificTransactions").doc(t).get();return e.exists?{id:e.id,...e.data()}:(console.error("No such document!"),null)},async fetchSpecificTransactionByUserId(t){const e=await m.collection("SpecificTransactions").where("userId","==",t).get();this.specificUserTransactions=e.docs.map(t=>({id:t.id,...t.data()}))},async updateSpecificTransaction(t){await m.collection("SpecificTransactions").doc(t.id).update(t),await this.fetchSpecificTransactions()},async deleteSpecificTransaction(t,e){await m.collection("SpecificTransactions").doc(t).delete(),this.fetchTransactions(),this.fetchSpecificTransactionByUserId(e)},async fetchUsersAndTransactions(){try{const t=x(),e=t.clientUsers;console.log("clientUsers",e);const a=await Promise.all(e.map(async t=>{const e=await m.collection("SpecificTransactions").where("userId","==",t.id).get(),a=e.docs.map(t=>{const e={id:t.id,...t.data()};let a=0;const s=e.typesData.find(t=>"both"===t.type);if(s&&s.totalAmount)a=s.remainingValue;else{const t=e.typesData.find(t=>"materials"===t.type),s=e.typesData.find(t=>"manufacturing"===t.type),r=t&&Number(t.remainingValue)||0,i=s&&Number(s.remainingValue)||0;a=r+i}return{...e,remainingBalance:a}});return{userId:t.id,userName:t.name,transactions:a}}));this.userTransactionSummaries=a,console.log("userTransactionSummaries",this.userTransactionSummaries)}catch(t){console.error("Error fetching users and transactions:",t)}}},getters:{totalRemainingBalance(){return this.userTransactionSummaries.reduce((t,e)=>{const a=e.transactions.reduce((t,e)=>t+Number(e.remainingBalance),0);return t+a},0)}}}),pt=Object(y["c"])("randomTransactions",{state:()=>({addTransactions:[],addLastVisible:null,addFirstVisible:null,addHasNextPage:!1,addHasPreviousPage:!1,pullTransactions:[],pullLastVisible:null,pullFirstVisible:null,pullHasNextPage:!1,pullHasPreviousPage:!1,balance:0,allAddTransactions:[],hidden:!1,transactionsData:[]}),actions:{toggleHidden(){this.hidden=!this.hidden},async fetchAddTransactions(t=5,e=null,a){console.log("enter add function");let s=m.collection("AddRandomTransaction").where("userId","==",a);e?"next"===e&&this.addLastVisible?s=s.startAfter(this.addLastVisible).limit(t):"previous"===e&&this.addFirstVisible&&(s=s.endBefore(this.addFirstVisible).limitToLast(t)):s=s.limit(t);const r=await s.get();if(r.empty)"next"===e&&(this.addHasNextPage=!1),"previous"===e&&(this.addHasPreviousPage=!1);else{this.addTransactions=r.docs.map(t=>({id:t.id,...t.data()})),this.addFirstVisible=r.docs[0],this.addLastVisible=r.docs[r.docs.length-1];const e=m.collection("AddRandomTransaction").orderBy("date","desc").endBefore(this.addFirstVisible).limit(1),a=await e.get();this.addHasPreviousPage=!a.empty,this.addHasNextPage=r.docs.length===t}},async fetchPullTransactions(t=5,e=null,a){console.log("enter pull function");let s=m.collection("PullRandomTransaction").where("userId","==",a);e?"next"===e&&this.pullLastVisible?s=s.startAfter(this.pullLastVisible).limit(t):"previous"===e&&this.pullFirstVisible&&(s=s.endBefore(this.pullFirstVisible).limitToLast(t)):s=s.limit(t);const r=await s.get();if(r.empty)"next"===e&&(this.pullHasNextPage=!1),"previous"===e&&(this.pullHasPreviousPage=!1);else{this.pullTransactions=r.docs.map(t=>({id:t.id,...t.data()})),this.pullFirstVisible=r.docs[0],this.pullLastVisible=r.docs[r.docs.length-1];const e=m.collection("PullRandomTransaction").orderBy("date","desc").endBefore(this.pullFirstVisible).limit(1),a=await e.get();this.pullHasPreviousPage=!a.empty,this.pullHasNextPage=r.docs.length===t}},async addRandomTransaction(t,e){let a="";if("Add"===t.type)a="AddRandomTransaction";else{if("Pull"!==t.type)throw new Error("نوع المعاملة غير صالح");a="PullRandomTransaction"}const s=await m.collection(a).add(t);t.id=s.id,this.fetchTransactionsByProfile(e),"Add"===t.type?this.addTransactions.push(t):"Pull"===t.type&&this.pullTransactions.push(t)},async autoSaveTransactionOrder(t){if("Add"!==t.type)throw new Error("هذه الفانكشن تدعم فقط إضافة المعاملات");const e=await m.collection("AddRandomTransaction").add(t);return t.id=e.id,t.id},async fetchTransactionsByProfile(t){try{const e=await m.collection("AddRandomTransaction").where("userId","==",t).get(),a=e.docs.map(t=>({id:t.id,...t.data(),amount:Number(t.data().amount||0)})),s=await m.collection("PullRandomTransaction").where("userId","==",t).get(),r=s.docs.map(t=>({id:t.id,...t.data(),amount:Number(t.data().amount||0)})),i=a.reduce((t,e)=>t+e.amount,0),o=r.reduce((t,e)=>t+e.amount,0),n=i-o;this.balance=n,console.log(`Balance for profile ${t}:`,n)}catch(e){console.error("Error fetching transactions:",e)}},async fetchTransactionsForClients(){try{const t=x(),e=t.clientUsers.map(t=>t.id);console.log("clientUsers",t.clientUsers),e.length>0&&await this.fetchTransactionsByProfiles(e)}catch(t){console.error("Error fetching transactions for clients:",t)}},async fetchTransactionsByProfiles(t){try{const e=await Promise.all(t.map(async t=>{const[e,a]=await Promise.all([m.collection("AddRandomTransaction").where("userId","==",t).get(),m.collection("PullRandomTransaction").where("userId","==",t).get()]),s=e.docs.map(t=>({id:t.id,...t.data(),amount:Number(t.data().amount||0)})),r=a.docs.map(t=>({id:t.id,...t.data(),amount:Number(t.data().amount||0)})),i=s.reduce((t,e)=>t+e.amount,0),o=r.reduce((t,e)=>t+e.amount,0),n=i-o;return{profileId:t,addTransactions:s,pullTransactions:r,balance:n}}));this.transactionsData=e,console.log("Fetched Transactions Data:",this.transactionsData)}catch(e){console.error("Error fetching transactions:",e)}},async fetchAllAddTransactions(){try{const t=await m.collection("AddRandomTransaction").orderBy("date","desc").get();t.empty?console.log("لا توجد معاملات في AddRandomTransaction"):this.allAddTransactions=t.docs.map(t=>({id:t.id,...t.data()}))}catch(t){console.error("خطأ أثناء جلب المعاملات:",t)}},async deleteTransaction(t,e,a){console.log(e,t);try{"Add"==e?(await m.collection("AddRandomTransaction").doc(t).delete(),this.addTransactions=this.addTransactions.filter(e=>e.id!==t),this.fetchTransactionsByProfile(a)):(await m.collection("PullRandomTransaction").doc(t).delete(),this.pullTransactions=this.pullTransactions.filter(e=>e.id!==t),this.fetchTransactionsByProfile(a)),console.log("تم حذف المعاملة "+t)}catch(s){console.error("خطأ أثناء حذف المعاملة:",s)}},async justUpdateAutoTransaction(t,e){try{await m.collection("AddRandomTransaction").doc(t).update({amount:e}),console.log("تم تعديل المعاملة "+t)}catch(a){console.error("خطأ أثناء تعديل المعاملة:",a)}},async hideTransaction(t,e,a,s){try{console.log(e,t),"Add"==e?(await m.collection("AddRandomTransaction").doc(t).update({hidden:!a.hidden}),console.log("hidden",a.hidden),this.fetchAddTransactions(5,null,s)):(await m.collection("PullRandomTransaction").doc(t).update({hidden:!a.hidden}),console.log("hidden",a.hidden),this.fetchPullTransactions(5,null,s)),console.log("تم إخفاء او الغاء اخفاء المعاملة "+t)}catch(r){console.error("خطأ أثناء تحديث المعاملة:",r)}}}});var ht=function(){var t=this,e=t._self._c;return e("div",{staticClass:"statistics-result",class:{"statistics-result--non-paid":t.isNonPaid,"statistics-result--loading":t.isLoading}},[e("div",{staticClass:"statistics-result__icon"},[e("font-awesome-icon",{staticClass:"statistics-result__icon-img",attrs:{icon:t.icon}})],1),e("div",{staticClass:"statistics-result__content"},[e("p",{staticClass:"statistics-result__title"},[t._v(t._s(t.title))]),t._t("default",(function(){return[e("span",{staticClass:"statistics-result__value"},[t._v(t._s(t.value))])]}))],2)])},mt=[],ft={props:{icon:{type:String,required:!0},title:{type:String,required:!0},value:{type:[String,Number],default:""},isNonPaid:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}}},vt=ft,gt=(a("6441"),Object(l["a"])(vt,ht,mt,!1,null,"31159a32",null)),bt=gt.exports,yt={methods:{filterByDate(t,e){const a=nt()();return t.filter(t=>{const s=nt()(t.date);if(!s.isValid())return console.error("Invalid Date:",t.date),!1;switch(e){case"today":return s.isSame(a,"day");case"yesterday":return s.isSame(a.clone().subtract(1,"days"),"day");case"lastWeak":{const t=a.clone().subtract(7,"days").startOf("day"),e=a.clone().endOf("day");return s.isBetween(t,e,"day","[]")}case"lastMonth":{const t=a.clone().startOf("month"),e=a.clone().subtract(1,"month").startOf("month");return s.isBetween(e,t,null,"[]")}case"lastYear":return s.isBetween(a.clone().subtract(1,"year"),a,null,"[]");case"all":default:return!0}})},filterByDateRange(t,e=nt()().startOf("month").format("YYYY-MM-DD"),a=nt()().format("YYYY-MM-DD")){const s=nt()(e,"YYYY-MM-DD").startOf("day"),r=nt()(a,"YYYY-MM-DD").endOf("day");return s.isValid()&&r.isValid()?t.filter(t=>{const e=nt()(t.date);return e.isValid()?e.isBetween(s,r,null,"[]"):(console.error("Invalid Date in Data:",t.date),!1)}):(console.error("Invalid Date Range:",{fromDate:e,toDate:a}),[])}}},_t={name:"statistics",mixins:[yt],components:{StatisticsResult:bt},data(){return{selectedFilter:"all",fromDate:nt()().startOf("month").format("YYYY-MM-DD"),toDate:nt()().format("YYYY-MM-DD")}},computed:{...Object(y["e"])(lt,{orders:"orders"}),...Object(y["e"])(ct,{purchases:"purchases"}),...Object(y["e"])(ut,{transactions:"transactions",totalRemainingBalance:"totalRemainingBalance"}),...Object(y["e"])(dt,["returns"]),...Object(y["e"])(pt,["allAddTransactions"]),...Object(y["e"])(pt,["transactionsData"]),calculateTotalPurchases(){const t=this.filterByDateRange(this.purchases,this.fromDate,this.toDate),e=t.reduce((t,e)=>{const a=e.products.reduce((t,e)=>{const a=e.price_buy||0,s=e.quantity||0,r=a*s;let i=0;"percentage"===e.kindDiscount?i=r*(Number(e.valueDiscountOnBuy)/100):"fixed"===e.kindDiscount&&(i=Number(e.valueDiscountOnBuy)*s);const o=r-i;return t+o},0),s=Number(e.shipping)||0,r=this.returns.filter(t=>t.purchaseId===e.id);let i=0;r.length>0&&(i=r.reduce((t,e)=>t+e.products.reduce((t,e)=>{const a=e.price_buy||0,s=e.quantityReturn||0,r=a*s;let i=0;"percentage"===e.kindDiscount?i=r*(Number(e.valueDiscountOnBuy)/100):"fixed"===e.kindDiscount&&(i=Number(e.valueDiscountOnBuy)*s);const o=r-i;return t+o},0),0));const o=a+s-i;return t+o},0);return e.toFixed(2)},calculateTotalPurchasesUnPaid(){const t=this.filterByDateRange(this.purchases,this.fromDate,this.toDate),e=t.filter(t=>"1"==t.status),a=e.reduce((t,e)=>{const a=e.products.reduce((t,e)=>{const a=e.price_buy||0,s=a*e.quantity;return t+s},0);let s=0;"percentage"===e.discount_type?s=a*(e.discount_value/100):"fixed"===e.discount_type&&(s=Number(e.discount_value));const r=Number(e.shipping)||0,i=this.returns.filter(t=>t.purchaseId===e.id);let o=0;if(i.length>0){o=i.reduce((t,e)=>t+e.products.reduce((t,e)=>t+e.quantityReturn*e.price_buy,0),0);const t=this.calculateDiscountOnReturns(o,e);o-=t}const n=a-s+r-o;return t+n},0);return a.toFixed(2)},calculateTotalInstallationForAllOrders(){const t=this.filterByDateRange(this.orders,this.fromDate,this.toDate),e=null===t||void 0===t?void 0:t.filter(t=>"تركيب"===t.invoiceType||"تركيب وتوريد"===t.invoiceType),a=e.reduce((t,e)=>{if(e.laborPrice)return t+parseFloat(e.laborPrice);let a=0;return e.products&&(a+=e.products.reduce((t,e)=>{if(e.productInfo.priceWithLabor){const a=e.editOfInstallation?e.editOfInstallation:e.productInfo.priceWithLabor;return t+a*e.quantity}return t},0)),e.jokerFields&&(a+=e.jokerFields.reduce((t,e)=>{if(e.willBeCalculated&&"installation"===e.calculationType){if(e.value&&e.quantity)return t+e.value*e.quantity;if(e.value)return t+e.value}return t},0)),t+a},0);return a.toFixed(2)},calculateTotalPureInstallationForAllOrders(){const t=this.filterByDateRange(this.orders,this.fromDate,this.toDate),e=null===t||void 0===t?void 0:t.filter(t=>"تركيب"===t.invoiceType||"تركيب وتوريد"===t.invoiceType),a=this.filterByDateRange(this.allAddTransactions,this.fromDate,this.toDate),s=a.filter(t=>!0===t.reduce),r=s.reduce((t,e)=>t+(Number(e.amount)||0),0),i=e.reduce((t,e)=>{let a=0;e.laborPrice?a=parseFloat(e.laborPrice):(e.products&&(a+=e.products.reduce((t,e)=>{if(e.productInfo.priceWithLabor){const a=e.editOfInstallation?e.editOfInstallation:e.productInfo.priceWithLabor;return t+a*e.quantity}return t},0)),e.jokerFields&&(a+=e.jokerFields.reduce((t,e)=>{if(e.willBeCalculated&&"installation"===e.calculationType){if(e.value&&e.quantity)return t+e.value*e.quantity;if(e.value)return t+e.value}return t},0))),console.log("before transaction ");let s=null;if(e.financialTechnicalTransactionId&&(s=this.transactions.find(t=>t.id===e.financialTechnicalTransactionId),console.log("found transaction ")),s){console.log("inside transaction ",s);const e=s.DailyIndustrial?Number(s.numberOfDayes)*Number(s.DailyIndustrialPrice):Number(s.amount)||0;console.log("between transaction ",s.DailyIndustrial,s.DailyAssistantIndustrial),console.log("between transaction valus asis",s.numberOfDayesAssistant,s.DailyIndustrialPriceAssistant),console.log("between transaction valusTotal asia",Number(s.numberOfDayesAssistant)*Number(s.DailyIndustrialPriceAssistant));const r=s.DailyAssistantIndustrial?Number(s.numberOfDayesAssistant)*Number(s.DailyIndustrialPriceAssistant):0;return t+(a-(e+r))}return t+a},0),o=i-r;return o.toFixed(2)},calculateTotalSales(){const t=this.filterByDateRange(this.orders,this.fromDate,this.toDate),e=null===t||void 0===t?void 0:t.filter(t=>"توريد"===t.invoiceType||"تركيب وتوريد"===t.invoiceType),a=e.reduce((t,e)=>{let a=0;return e.products&&(a+=e.products.reduce((t,e)=>{const a=Number(e.priceWithIncrease)?Number(e.priceWithIncrease):Number(e.productInfo.priceMaterial),s=Number(a)*Number(e.quantity),r=Number(s)*(Number(e.price_offer)/100);return t+(s-r)},0)),e.jokerFields&&(a+=e.jokerFields.reduce((t,e)=>{if(e.willBeCalculated&&"material"===e.calculationType){if(e.value&&e.quantity)return t+e.value*e.quantity;if(e.value)return t+e.value}return t},0)),t+a},0);return a.toFixed(2)},calculateNetProfit(){const t=this.filterByDateRange(this.orders,this.fromDate,this.toDate),e=null===t||void 0===t?void 0:t.filter(t=>"توريد"===t.invoiceType||"تركيب وتوريد"===t.invoiceType),a=e.reduce((t,e)=>{let a=0;return e.products&&(a+=e.products.reduce((t,e)=>{var a;if(null===(a=e.productInfo)||void 0===a||!a.buyPrice||"undefined"===typeof e.productInfo.valueDiscountOnBuy||"undefined"===typeof e.productInfo.kindDiscount||!e.quantity)return t;const s=Number(e.productInfo.buyPrice),r=Number(e.quantity);let i=s*r;if("percentage"===e.productInfo.kindDiscount){const t=i*(Number(e.productInfo.valueDiscountOnBuy)/100);i-=t}else if("fixed"===e.productInfo.kindDiscount){const t=Number(e.productInfo.valueDiscountOnBuy)*r;i-=t}const o=Number(e.priceWithIncrease)?Number(e.priceWithIncrease):Number(e.productInfo.priceMaterial),n=o*r,l=n*(Number(e.price_offer)/100),c=n-l,d=c-i;return t+d},0)),e.jokerFields&&(a+=e.jokerFields.reduce((t,e)=>{if(e.willBeCalculated&&"material"===e.calculationType){const a=Number(e.purchaseCost),s=Number(e.quantity);console.log("jokerQuantity",s);let r=a*(s||1);if(console.log("jokerCost",r),"percentage"===e.kindDiscount){const t=r*(Number(e.valueDiscountOnBuy)/100);r-=t}else if("fixed"===e.kindDiscount){const t=Number(e.valueDiscountOnBuy)*s;r-=t}const i=Number(e.value),o=i*(s||1),n=o*(Number(e.price_offer||0)/100),l=o-n,c=l-r;return t+c}return t},0)),t+a},0);return a.toFixed(2)},calculateUnpaidMaterialsForAllOrders(){const t=this.filterByDateRange(this.orders,this.fromDate,this.toDate),e=t.reduce((t,e)=>{if(e.financialClientTransactionId){const s=this.transactions.find(t=>t.id===e.financialClientTransactionId);if(s&&s.amount){var a;let e=Number(s.amount);const r=(null===(a=s.payments)||void 0===a?void 0:a.filter(t=>"material"===t.type))||[];return r.forEach(t=>{e-=Number(t.amount)}),t+Math.max(e,0)}}return t},0);return e.toFixed(2)},calculateUnpaidInstallationForAllOrders(){const t=this.filterByDateRange(this.orders,this.fromDate,this.toDate),e=t.reduce((t,e)=>{if(e.financialClientTransactionId){const s=this.transactions.find(t=>t.id===e.financialClientTransactionId);if(s&&s.manufacturingAmount){var a;let e=parseFloat(s.manufacturingAmount);const r=(null===(a=s.payments)||void 0===a?void 0:a.filter(t=>"industrial"===t.type))||[];return r.forEach(t=>{e-=parseFloat(t.amount)}),t+Math.max(e,0)}}return t},0);return e.toFixed(2)},finalTotalBalance(){const t=this.totalRemainingBalance,e=this.transactionsData;console.log(t);var a=e.reduce((t,e)=>t+Number(e.balance),0);return Number(t)+a}},methods:{...Object(y["d"])(lt,["fetchOrders"]),...Object(y["d"])(ct,["fetchPurchases"]),...Object(y["d"])(dt,["fetchAllReturns"]),...Object(y["d"])(ut,["fetchTransactions","fetchUsersAndTransactions"]),...Object(y["d"])(pt,["fetchAllAddTransactions"]),...Object(y["d"])(pt,["fetchTransactionsForClients"]),...Object(y["d"])(x,["fetchUsers"]),calculateDiscountOnReturns(t,e){let a=0;if(console.log("purchase",e),"percentage"===e.discount_type)a=t*(e.discount_value/100);else if("fixed"===e.discount_type){const s=e.products.reduce((t,e)=>t+e.price_buy*e.quantity,0);a=e.discount_value*t/s}return a}},async created(){this.fetchOrders(),this.fetchPurchases(),this.fetchAllReturns(),this.fetchAllAddTransactions(),this.fetchTransactions(),await this.fetchUsers(),this.fetchTransactionsForClients(),this.fetchUsersAndTransactions()}},Ct=_t,wt=(a("0143"),Object(l["a"])(Ct,rt,it,!1,null,"041eb7d6",null)),It=wt.exports,Pt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page todayOrder"},[e("div",{staticClass:"title--todayOrder"},[e("div",{staticClass:"contTitle"},[t._m(0),e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("today orders info")])]),t._m(1)]),e("div",{staticClass:"dashboard__SearchOrder",class:{"dark-mode-box":t.getDarkMode}},[e("div",{},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],class:{"dark-mode-search":t.getDarkMode},attrs:{placeholder:"search",type:"search"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedFilter,expression:"selectedFilter"}],staticClass:"filter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedFilter=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"customerName"}},[t._v("اسم العميل")]),e("option",{attrs:{value:"numberOfOrder"}},[t._v("رقم الطلب")])])])]),e("div",{staticClass:"allContent",class:{"dark-mode-box":t.getDarkMode}},[t.isLoading?e("TableSkeleton",{attrs:{rows:5,columns:6}}):t.getOrders.length>0?e("ListTable",{staticClass:"ListTable_cont",attrs:{orders:t.getOrders}}):e("NoData",{attrs:{context:"todayOrders"}})],1)])},kt=[function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTUQUVkx6lAgtb3-3fMuDZnDixihOSrrNSAOg&usqp=CAU"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"export_cont"},[e("div",{staticClass:"export"},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmvEXj1Sr-tzeKuEP9PgzajIUDvR_-L-zfkg&usqp=CAU"}}),e("button",[t._v("export")])])])}],xt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"skeleton-table"},[e("div",{staticClass:"skeleton-row header"},t._l(t.columns,(function(t){return e("VueSkeletonLoader",{key:t,staticClass:"header-cell",attrs:{width:"100%",height:"40px",type:"rect",animation:"wave"}})})),1),t._l(t.rows,(function(a){return e("div",{key:a,staticClass:"skeleton-row"},t._l(t.columns,(function(t){return e("VueSkeletonLoader",{key:t,staticClass:"cell",attrs:{width:"100%",height:"15px",type:"rect",animation:"wave"}})})),1)}))],2)},Dt=[],Ot=a("a012"),St={name:"SkeletonTable",components:{VueSkeletonLoader:Ot["a"]},props:{columns:{type:Number,default:6},rows:{type:Number,default:5}}},At=St,Bt=(a("f9bf"),Object(l["a"])(At,xt,Dt,!1,null,"16f749a4",null)),Tt=Bt.exports,Ft=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ListTable",class:{"dark-mode":t.getDarkMode}},[e("div",{staticClass:"show__table"},[e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.orders,(function(a,s){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.date))]),e("td",[t._v(t._s(a.numberOfOrder))]),e("td",[t._v(t._s(a.customerName?a.customerName:"غير محدد"))]),e("td",{staticClass:"SoMoreSmall"},[t._v(" "+t._s(a.adress?a.adress:"غير محدد")+" ")]),e("td",[t._v(t._s(t.getStatusText(a.status)))]),e("td",{staticClass:"actions"},[e("DropdownMenu",{ref:"dropdownMenu",refInFor:!0,attrs:{order:a},on:{closeOthers:function(e){return t.openDropdownHandel(s)}}})],1)])})),0)])])])},qt=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("تاريخ")]),e("th",[t._v("رقم الطلب")]),e("th",[t._v("العميل")]),e("th",[t._v("المكان")]),e("th",[t._v("الحالة")]),e("th",[t._v("الخيارات")])])])}],Lt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dropdown"},[e("button",{staticClass:"dropbtn",on:{click:t.toggle}},[t._v(":")]),t.visible?e("div",{staticClass:"dropdown-content"},[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.viewDetails(t.order)}}},[e("span",[t._v("تفاصيل")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","eye"]}})],1),"DashboardLayout"===t.layout?e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.editOrder(t.order)}}},[e("span",[t._v("تعديل")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","edit"]}})],1):t._e(),"DashboardLayout"===t.layout?e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.delette(t.order)}}},[e("span",[t._v("حذف")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","trash"]}})],1):t._e(),t.isAdmin||t.shouldDisplayDiscount?e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.Fatora(t.order.id,!1)}}},[e("span",[t._v("فاتورة")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","file-invoice"]}})],1):t._e(),t.order.hasCustomInvoice&&(t.isAdmin||t.isClint)?e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.Fatora(t.order.id,!0)}}},[e("span",[t._v(" فاتورة (م)")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","file-invoice"]}})],1):t._e(),t.order.financialClientTransactionId&&(t.isAdmin||t.isClint)?e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.financial("TransactionDetails",t.order.financialClientTransactionId)}}},[e("span",[t._v("م.العميل ")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","file-invoice"]}})],1):t._e(),t.order.financialTechnicalTransactionId&&(t.isAdmin||t.isTechnical)?e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.financial("TransactionDetails",t.order.financialTechnicalTransactionId)}}},[e("span",[t._v(" م.الفنى")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","file-invoice"]}})],1):t._e(),t.order.customerInfo.number&&t.isTechnical||t.isAdmin?e("a",{attrs:{href:"https://wa.me/2"+t.order.customerInfo.number,target:"_blank"}},[e("span",[t._v("واتس")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fab","whatsapp"]}})],1):t._e()]):t._e()])},Nt=[],jt=a("1940"),Mt=a.n(jt),Ut={emits:["closeOthers"],name:"DropdownMenu",props:{order:Object},data(){return{visible:!1,layout:this.$route.meta.layout}},computed:{...Object(y["e"])(k,["isAdmin","isClint","isTechnical"]),shouldDisplayDiscount(){return this.isClint&&this.order.hasCustomInvoice?!!this.order.displayTowInvoice:!(!this.isClint||0!=this.order.hasCustomInvoice&&""!=this.order.hasCustomInvoice&&null!=this.order.hasCustomInvoice)}},methods:{...Object(y["d"])(lt,["deleteOrder","deleteImageFromStorage"]),toggle(){this.visible=!this.visible,this.visible&&this.$emit("closeOthers")},financial(t,e){const a=this.$route.params.profileId,s=this.$route.meta.layout;console.log("financial layout:",s),"DashboardLayout"===s?this.$router.push(`/dashboard/${t}/${e}`):"profileInDashboardLayout"===s?this.$router.push(`/dashboard/profile/${a}/${t}/${e}`):"profileOutDashboardLayout"===s&&this.$router.push(`/profile/${a}/${t}/${e}`)},viewDetails(t){console.log("View details of order:",t);const e=this.$route.meta.layout;if("DashboardLayout"===e)this.$router.push({name:"DetailsOrder",params:{orderId:t.id}});else if("profileInDashboardLayout"===e){const e=this.$route.params.profileId;this.$router.push(`/dashboard/profile/${e}/DetailsOrder/${t.id}`)}else if("profileOutDashboardLayout"===e){const e=this.$route.params.profileId;this.$router.push(`/profile/${e}/DetailsOrder/${t.id}`)}},editOrder(t){this.$router.push({name:"EditOrderNewDesign",params:{orderId:t.id}})},Fatora(t,e){const a=e?"true":"false",s=this.$route.meta.layout;if("DashboardLayout"===s)this.$router.push(`/dashboard/Fatora/${t}/${a}`);else if("profileInDashboardLayout"===s){const e=this.$route.params.profileId;this.$router.push(`/dashboard/profile/${e}/Fatora/${t}/${a}`)}else if("profileOutDashboardLayout"===s){const e=this.$route.params.profileId;this.$router.push(`/profile/${e}/Fatora/${t}/${a}`)}},nothing(){console.log("nothing")},async delette(t){try{console.log(t.id),await this.deleteOrder(t.id),console.log("order deleted from database"),t.imageUrl&&(console.log("before : order image deleted from storage"),await this.deleteImageFromStorage(this.order.imageUrl),console.log("after :order image deleted from storage")),Mt()({text:"Product deleted successfully",icon:"success"})}catch(e){console.error("Deletion failed",e),Mt()({text:"Error: "+e.message,icon:"error"})}},closeDropdown(){this.visible=!1},handleClickOutside(t){this.$el.contains(t.target)||this.closeDropdown()}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeDestroy(){document.removeEventListener("click",this.handleClickOutside)}},Et=Ut,Rt=(a("5044"),Object(l["a"])(Et,Lt,Nt,!1,null,"ce0f6d9a",null)),Qt=Rt.exports,Vt={name:"ListTable",components:{DropdownMenu:Qt},props:["orders"],data(){return{openDropdownProp:null}},computed:{getDarkMode(){return this.$store.state.darkMode}},methods:{getStatusText(t){switch(t){case"0":return"معلق";case"3":return"منتهى";case"1":return"مؤكد";default:return"غير معروف"}},openDropdownHandel(t){null!==this.openDropdownProp&&this.openDropdownProp!==t&&this.$refs.dropdownMenu[this.openDropdownProp].closeDropdown(),this.openDropdownProp=t}}},Ht=Vt,Gt=(a("3591"),Object(l["a"])(Ht,Ft,qt,!1,null,"2df4a45b",null)),Wt=Gt.exports,zt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"no-data"},[e("font-awesome-icon",{staticClass:"icon",attrs:{icon:t.icon,size:"4x"}}),e("p",[t._v(t._s(t.message))])],1)},$t=[],Zt={props:["context"],name:"NoData",computed:{icon(){switch(this.context){case"orders":return"sticky-note";case"todayOrders":return"sticky-note";case"products":return"box-open";case"categories":return"tags";case"users":return"user-slash";case"transactions":return"file-invoice";case"units":return"balance-scale";case"storage":return"warehouse";case"purchases":return"shopping-cart";case"returns":return"undo";case"unpaidPurchases":return"shopping-cart";case"transfers":return"exchange-alt";case"stock-alerts":return"bell";case"projects":return"tasks";default:return"exclamation-circle"}},message(){switch(this.context){case"orders":return"لا توجد طلبات";case"todayOrders":return"لا توجد طلبات اليوم";case"products":return"لا توجد منتجات";case"categories":return"لا توجد تصنيفات";case"users":return"لا يوجد مستخدمون";case"transactions":return"لا توجد معاملات";case"units":return"لا توجد وحدات";case"storage":return"لا توجد مخازن";case"purchases":return"لا توجد مشتريات";case"unpaidPurchases":return"لا توجد مشتريات غير مدفوعه (اجل)";case"transfers":return"لا توجد تحويلات";case"returns":return"لا توجد مرتجعات";case"stock-alerts":return"لا توجد تنبيهات مخزون";case"projects":return"لا يوجد مشاريع";default:return"لا توجد بيانات"}}},created(){console.log("prop",this.context)}},Yt=Zt,Kt=(a("0b0b"),Object(l["a"])(Yt,zt,$t,!1,null,"612ee9e9",null)),Xt=Kt.exports,Jt={name:"TodayOrder",components:{ListTable:Wt,NoData:Xt,TableSkeleton:Tt},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(lt,["orders"]),getOrders(){let t=this.orders.filter(t=>"1"==t.status);const e=nt()();return t=t.filter(t=>{const a=nt()(t.date);return a.isSame(e,"day")}),this.searchQuery&&(t=t.filter(t=>{const e=t[this.selectedFilter].toString().toLowerCase();return console.log(t[this.selectedFilter].toString().toLowerCase()),e.includes(this.searchQuery.toLowerCase())})),t}},async created(){await this.fetchOrders(),this.isLoading=!1},methods:{...Object(y["d"])(lt,["fetchOrders"])},data(){return{searchQuery:"",selectedFilter:"customerName",isLoading:!0}}},te=Jt,ee=(a("8512"),Object(l["a"])(te,Pt,kt,!1,null,"29b8fe2c",null)),ae=ee.exports,se=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page StockAlerts"},[e("div",{staticClass:"title"},[e("div",[e("div",[e("div",{staticClass:"contTitle"},[t._m(0),e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("stock alert")])])]),t._m(1)]),e("div",{class:{"dark-mode-box":t.getDarkMode}},[e("div",{},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],class:{"dark-mode-search":t.getDarkMode},attrs:{placeholder:"search",type:"search"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedFilter,expression:"selectedFilter"}],staticClass:"filter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedFilter=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"branchName"}},[t._v("branch Name")]),e("option",{attrs:{value:"productName"}},[t._v("product Name")]),e("option",{attrs:{value:"productQuantity"}},[t._v("productQuantity")])])]),e("div",{class:{"dark-mode-box":t.getDarkMode}},[e("div",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectStatus,expression:"selectStatus"}],staticClass:"filter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectStatus=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"all"}},[t._v("الكل")]),e("option",{attrs:{value:"0"}},[t._v("فى مستوى خطير")]),e("option",{attrs:{value:"1"}},[t._v("مستوى متوسط")]),e("option",{attrs:{value:"3"}},[t._v("عادى")])])]),t._m(2)])])]),e("div",{staticClass:"allContent",class:{"dark-mode-box":t.getDarkMode}},[t.isLoading?e("TableSkeleton",{attrs:{rows:5,columns:6}}):t.getStockAlerts.length>0?e("ListTable",{staticClass:"ListTable_cont",attrs:{StockAlerts:t.getStockAlerts}}):e("NoData",{attrs:{context:"stock-alerts"}})],1)])},re=[function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTUQUVkx6lAgtb3-3fMuDZnDixihOSrrNSAOg&usqp=CAU"}})])},function(){var t=this,e=t._self._c;return e("div",[e("div",[e("div",{staticClass:"export"},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmvEXj1Sr-tzeKuEP9PgzajIUDvR_-L-zfkg&usqp=CAU"}}),e("button",[t._v("export")])])])])},function(){var t=this,e=t._self._c;return e("div",[e("button",[t._v("last aded")]),e("img",{staticClass:"arroow aded",attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS_HHn9uGD0sPLHcGzdjI_WX8Au22ap-x1b1Q&usqp=CAU"}})])}];const ie=Object(y["c"])("useBranchesStore",{state:()=>({branches:[]}),actions:{async fetchBranches(){const t=await m.collection("branches").get();this.branches=t.docs.map(t=>({id:t.id,...t.data()}))},async addBranch(t){await m.collection("branches").add(t),this.fetchBranches()},async updateBranch(t){await m.collection("branches").doc(t.id).update(t),this.fetchBranches()},async deleteBranch(t){await m.collection("branches").doc(t).delete(),this.fetchBranches()},async fetchBranchById(t){const e=m.collection("branches").doc(t),a=await e.get();if(a.exists)return{id:a.id,...a.data()};throw new Error("Branch not found")}}});var oe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ListTable",class:{"dark-mode":t.getDarkMode}},[e("div",{staticClass:"show__table"},[e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.StockAlerts,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.branchName))]),e("td",[t._v(t._s(a.productName))]),e("td",[t._v(t._s(a.productQuantity))]),e("td",[t._v(t._s(a.alertQuantity))]),e("td",[t._v(t._s(t.getStatusText(a.status)))])])})),0)])])])},ne=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("اسم المخزن")]),e("th",[t._v("المنتج")]),e("th",[t._v("الكمية المتاحة")]),e("th",[t._v("التنبية")]),e("th",[t._v("الحالة")])])])}],le={name:"ListTable",components:{},props:["StockAlerts"],data(){return{}},computed:{getDarkMode(){return this.$store.state.darkMode}},methods:{getStatusText(t){switch(t){case"0":return"خطير";case"3":return"عادي";case"1":return"متوسط";default:return"غير معروف"}}}},ce=le,de=(a("e28a"),Object(l["a"])(ce,oe,ne,!1,null,"7d561872",null)),ue=de.exports,pe={name:"StockAlerts",components:{ListTable:ue,NoData:Xt,TableSkeleton:Tt},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(ie,["branches"]),getStockAlerts(){let t=[];return this.branches.forEach(e=>{e.products.forEach(a=>{if(a.quantity<=a.alert){let s="";const r=a.quantity/a.alert;s=r<=.3?"0":r<=.7?"1":"3",t.push({branchName:e.nameBranch,productName:a.name,productQuantity:a.quantity,alertQuantity:a.alert,status:s})}})}),"all"!==this.selectStatus&&(t=t.filter(t=>t.status==this.selectStatus)),this.searchQuery&&(t=t.filter(t=>{const e=t[this.selectedFilter].toString().toLowerCase();return console.log(t[this.selectedFilter].toString().toLowerCase()),e.includes(this.searchQuery.toLowerCase())})),t}},async created(){await this.fetchBranches(),console.log(this.transferes),this.isLoading=!1},methods:{...Object(y["d"])(ie,["fetchBranches"])},data(){return{searchQuery:"",selectStatus:"all",selectedFilter:"branchName",isLoading:!0}}},he=pe,me=(a("0390"),Object(l["a"])(he,se,re,!1,null,"e1a9936a",null)),fe=me.exports,ve=function(){var t=this;t._self._c;return t._m(0)},ge=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"welcomeMessage"},[e("p",[t._v("! مرحبا يا محمد")])])}],be=(a("f139"),{}),ye=Object(l["a"])(be,ve,ge,!1,null,"034e022a",null),_e=ye.exports,Ce=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Purchases"},[e("div",{staticClass:"title"},[e("div",[e("div",{staticClass:"contTitle"},[t._m(0),e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("unpaid Purchases")])]),t._m(1)]),e("div",{class:{"dark-mode-box":t.getDarkMode}},[e("div",{},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],class:{"dark-mode-search":t.getDarkMode},attrs:{placeholder:"search",type:"search"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedFilter,expression:"selectedFilter"}],staticClass:"filter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedFilter=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"date"}},[t._v("date")]),e("option",{attrs:{value:"adress"}},[t._v("Supplier")]),e("option",{attrs:{value:"selectedBranch"}},[t._v("branch")])])]),e("div",{class:{"dark-mode-box":t.getDarkMode}},[e("div",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectStatus,expression:"selectStatus"}],staticClass:"filter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectStatus=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"all"}},[t._v("الكل")]),e("option",{attrs:{value:"1"}},[t._v("اجل")])])]),t._m(2)])])]),e("div",{staticClass:"allContent",class:{"dark-mode-box":t.getDarkMode}},[t.isLoading?e("TableSkeleton",{attrs:{rows:5,columns:6}}):t.getPurchases.length>0?e("ListTable",{staticClass:"ListTable_cont",attrs:{purchases:t.getPurchases}}):e("NoData",{attrs:{context:"unpaidPurchases"}})],1),e("div",{staticClass:"scrollUp",attrs:{id:"scrollUp"}})])},we=[function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTUQUVkx6lAgtb3-3fMuDZnDixihOSrrNSAOg&usqp=CAU"}})])},function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"export"},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmvEXj1Sr-tzeKuEP9PgzajIUDvR_-L-zfkg&usqp=CAU"}}),e("button",[t._v("export")])])])},function(){var t=this,e=t._self._c;return e("div",[e("button",[t._v("last aded")]),e("img",{staticClass:"arroow aded",attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS_HHn9uGD0sPLHcGzdjI_WX8Au22ap-x1b1Q&usqp=CAU"}})])}],Ie=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ListTable",class:{"dark-mode":t.getDarkMode}},[e("div",{staticClass:"show__table"},[e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.purchases,(function(a,s){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.date))]),e("td",[t._v(t._s(a.adress))]),e("td",[t._v(t._s(a.selectedBranch))]),e("td",[t._v(t._s(t.getStatusText(a.status)))]),e("td",{staticClass:"actions"},[e("DropdownMenu",{ref:"dropdownMenu",refInFor:!0,attrs:{purchase:a},on:{closeOthers:function(e){return t.openDropdownHandel(s)}}})],1)])})),0)])])])},Pe=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("تاريخ")]),e("th",[t._v("اسم المورد")]),e("th",[t._v("الفرع")]),e("th",[t._v("الحالة")]),e("th",[t._v("الخيارات")])])])}],ke=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dropdown"},[e("button",{staticClass:"dropbtn",on:{click:t.toggle}},[t._v(":")]),t.visible?e("div",{staticClass:"dropdown-content"},[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.viewPurchase(t.purchase)}}},[e("span",[t._v("التفاصيل")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","eye"]}})],1),e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.returnPurchase(t.purchase)}}},[e("span",[t._v(" اضف مرتجع")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","edit"]}})],1),e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.listReturnPurchase(t.purchase.id)}}},[e("span",[t._v("ق. المرتجعات ")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","undo"]}})],1),e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.delette(t.purchase)}}},[e("span",[t._v("حذف")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","trash"]}})],1)]):t._e()])},xe=[],De={emits:["closeOthers"],name:"DropdownMenu",props:{purchase:Object},data(){return{visible:!1}},methods:{...Object(y["d"])(ct,["deletePurchase"]),toggle(){this.visible=!this.visible,this.visible&&this.$emit("closeOthers")},viewPurchase(t){console.log(t),this.$router.push({name:"DetailsPurchase",params:{purchasesId:t.id}})},returnPurchase(t){console.log(t),this.$router.push({name:"PurchaseReturn",params:{purchasesId:t.id}})},listReturnPurchase(t){console.log(t),this.$router.push({name:"ReturnsWithId",params:{purchaseId:t}})},async delette(t){try{console.log(t.id),await this.deletePurchase(t.id),console.log("purchase deleted from database"),Mt()({text:"purchase deleted successfully",icon:"success"})}catch(e){console.error("Deletion failed",e),Mt()({text:"Error: "+e.message,icon:"error"})}},closeDropdown(){this.visible=!1},handleClickOutside(t){this.$el.contains(t.target)||this.closeDropdown()}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeDestroy(){document.removeEventListener("click",this.handleClickOutside)}},Oe=De,Se=(a("8ca4"),Object(l["a"])(Oe,ke,xe,!1,null,"0bedc777",null)),Ae=Se.exports,Be={name:"ListTable",components:{DropdownMenu:Ae},props:["purchases"],data(){return{openDropdownProp:null}},computed:{getDarkMode(){return this.$store.state.darkMode}},methods:{getStatusText(t){switch(t){case"0":return"مدفوع";case"1":return"اجل";default:return"غير معروف"}},openDropdownHandel(t){null!==this.openDropdownProp&&this.openDropdownProp!==t&&this.$refs.dropdownMenu[this.openDropdownProp].closeDropdown(),this.openDropdownProp=t}}},Te=Be,Fe=(a("8d31"),Object(l["a"])(Te,Ie,Pe,!1,null,"81f61d88",null)),qe=Fe.exports,Le={name:"Purchase",components:{ListTable:qe,NoData:Xt,TableSkeleton:Tt},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(ct,["purchases"]),getPurchases(){let t=this.purchases.filter(t=>"1"==t.status);return"all"!==this.selectStatus&&(t=t.filter(t=>t.status==this.selectStatus)),this.searchQuery&&(t=t.filter(t=>{const e=t[this.selectedFilter].toString().toLowerCase();return console.log(t[this.selectedFilter].toString().toLowerCase()),e.includes(this.searchQuery.toLowerCase())})),t}},async created(){await this.fetchPurchases(),this.isLoading=!1},methods:{...Object(y["d"])(ct,["fetchPurchases"])},data(){return{searchQuery:"",selectStatus:"all",selectedFilter:"date",isLoading:!0}}},Ne=Le,je=(a("7989"),Object(l["a"])(Ne,Ce,we,!1,null,"8136f0b8",null)),Me=je.exports,Ue={name:"dashboard",components:{StatisticsInfo:It,TodayOrder:ae,StockAlert:fe,WelcomeMessage:_e,PurchasesUnpaid:Me},computed:{getDarkMode(){return this.$store.state.darkMode}},async created(){},methods:{},data(){return{}}},Ee=Ue,Re=(a("868b"),Object(l["a"])(Ee,at,st,!1,null,"5dd8be2a",null)),Qe=Re.exports,Ve=function(){var t=this,e=t._self._c;return e("div",{staticClass:"reviews"},[e("div",{staticClass:"moveToShop"},[e("div",{staticClass:"contTitle"},[t._m(0),e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("reviews grid")])]),e("button",{staticClass:"viewShop"},[t._v("view shop")])]),e("div",{staticClass:"info-review",class:{"dark-mode-box":t.getDarkMode}},[e("div",{class:{"dark-mode-box":t.getDarkMode}},[e("div",[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("reviews")])]),e("div",[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("total reviews")])]),e("div",[e("div",[e("span",{class:{"dark-mode-title":t.getDarkMode}},[t._v("10.0k")]),e("span",[t._v("July")])]),t._m(1)])]),e("div",{class:{"dark-mode-box":t.getDarkMode}},[e("div"),e("div",[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("average rating")])]),e("div",[e("div",[e("span",{staticClass:"rate",class:{"dark-mode-title":t.getDarkMode}},[t._v("4.0")]),t._m(2)]),t._m(3)])]),e("div",{class:{"dark-mode-box":t.getDarkMode}},[e("div",[e("div",[e("p",{staticClass:"date",class:{"dark-mode-title":t.getDarkMode}},[t._v(" February 2022.july 2023 ")])])]),e("div",[e("div",[e("span"),e("span",{class:{"dark-mode-title":t.getDarkMode}},[t._v("1")]),e("div"),e("span",{class:{"dark-mode-title":t.getDarkMode}},[t._v("80%")])]),e("div",[e("span"),e("span",{class:{"dark-mode-title":t.getDarkMode}},[t._v("2")]),e("div"),e("span",{class:{"dark-mode-title":t.getDarkMode}},[t._v("48%")])]),e("div",[e("span"),e("span",{class:{"dark-mode-title":t.getDarkMode}},[t._v("3")]),e("div"),e("span",{class:{"dark-mode-title":t.getDarkMode}},[t._v("22%")])]),e("div",[e("span"),e("span",{class:{"dark-mode-title":t.getDarkMode}},[t._v("4")]),e("div"),e("span",{class:{"dark-mode-title":t.getDarkMode}},[t._v("10%")])])])])]),e("div",{staticClass:"contReviews",class:{"dark-mode-box":t.getDarkMode}},[e("div",{class:{"dark-mode-box":t.getDarkMode}},[t._m(4),e("div",[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("towhidur rahman")]),e("p",[t._v("Total purchases 1200$")]),e("p",[t._v("total reviews 12")])]),t._m(5),t._m(6),e("div",[e("div",[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("puplic commint")])]),e("div",[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("direct message")])]),e("div",{class:{"dark-mode-white":t.getDarkMode}},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT43kvGUBvK8hAfRMdMOQdLL5Fj_tXt7hUI5A&usqp=CAU"}})])])]),e("div",{},[t._m(7),e("div",[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("ahmed mohsen")]),e("p",[t._v("Total purchases 600$")]),e("p",[t._v("total reviews 1")])]),t._m(8),t._m(9),e("div",[e("div",[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("puplic commint")])]),e("div",[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("direct message")])]),e("div",{class:{"dark-mode-white":t.getDarkMode}},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT43kvGUBvK8hAfRMdMOQdLL5Fj_tXt7hUI5A&usqp=CAU"}})])])]),e("div",{},[t._m(10),e("div",[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("said khalaf")]),e("p",[t._v("Total purchases 400$")]),e("p",[t._v("total reviews 7")])]),t._m(11),t._m(12),e("div",[e("div",[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("puplic commint")])]),e("div",[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("direct message")])]),e("div",{class:{"dark-mode-white":t.getDarkMode}},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT43kvGUBvK8hAfRMdMOQdLL5Fj_tXt7hUI5A&usqp=CAU"}})])])]),e("div",{},[t._m(13),e("div",[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("abdelsatar ali")]),e("p",[t._v("Total purchases 340$")]),e("p",[t._v("total reviews 9")])]),t._m(14),t._m(15),e("div",[e("div",[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("puplic commint")])]),e("div",[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("direct message")])]),e("div",{class:{"dark-mode-white":t.getDarkMode}},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT43kvGUBvK8hAfRMdMOQdLL5Fj_tXt7hUI5A&usqp=CAU"}})])])]),e("div",{},[t._m(16),e("div",[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("ali mohamed")]),e("p",[t._v("Total purchases 562$")]),e("p",[t._v("total reviews 26")])]),t._m(17),t._m(18),e("div",[e("div",[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("puplic commint")])]),e("div",[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("direct message")])]),e("div",{class:{"dark-mode-white":t.getDarkMode}},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT43kvGUBvK8hAfRMdMOQdLL5Fj_tXt7hUI5A&usqp=CAU"}})])])])])])},He=[function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTvmm3AQQCvFDSZUj4-3CyRkHHlL5Ep4-xwUA&usqp=CAU"}})])},function(){var t=this,e=t._self._c;return e("div",[e("p",{staticClass:"reviewsLastMonth"},[t._v("reviews until last month")])])},function(){var t=this,e=t._self._c;return e("div",[e("span",[e("img",{staticClass:"star",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg"}})]),e("span",[e("img",{staticClass:"star",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg"}})]),e("span",[e("img",{staticClass:"star",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg"}})]),e("span",[e("img",{staticClass:"star",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg"}})])])},function(){var t=this,e=t._self._c;return e("div",[e("p",{staticClass:"rating"},[t._v("rating until last month")])])},function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBUVFRgVFRUYGRgYGBkYGBgYGBkYGBoaGBgaGhwYGBkcIS4lHB4rIRgaJjgmKy8xNTU2GiQ7QDs0Py40NTEBDAwMEA8QGhISGjQhJCsxNDQ0NDQ0NDE0MTQ0NDQ0NDQ0NDQ1NDQ0NDQ0NDQ0NDQ0MTQ0NDQ0NDQ0NDQ0NDQ0NP/AABEIARMAtwMBIgACEQEDEQH/xAAcAAABBQEBAQAAAAAAAAAAAAAAAgMEBgcFAQj/xABAEAACAQIEAwUFBQcDAwUAAAABAhEAAwQSITEFQVEGImFxgRMykaHwByNCscEUUmKCktHhcqKyM0PxFSRTc8L/xAAYAQADAQEAAAAAAAAAAAAAAAAAAQIDBP/EACQRAQEBAAICAgEEAwAAAAAAAAABAhEhAzESQVEEE2GBIjJx/9oADAMBAAIRAxEAPwDmIKkKKbtin1FIziCnUFIQU8opU49UU6gpKinVFIFIKcWkLTqigzlulV4temnQt/Af+gn83/Nq6Fc7gQ+4T+b/AJtXRpJFR8Dvc/1n51JqNhB37n+oflTgS6KKKZCgUUUAUUGigPK9oooDw0UNRQGKpT6U0gp9BQZ1RTqikKKdUUqcKUU6tIUU4opgtRTi0hacSpM4gpcV4orj9puLnDWxk1d5Czygat8wPWgLXiOO/suGUpae68OQiTtnPecx3R9dYouL+0nEtOVFQxGWCSDpuTt8OXrXKPHmFtvvGLFcozAc92JBzDrNV9cPIL5pOYLGuYlsxn5fnTnfsWcel04T2lxVyHe/cLK0MM2VQI0MqIE+IjQdatlntS9hkXEFJfScsFiDAbukgCDBgGCNzNZ5gMYlkKlxtICuisQYltSBsdRB3+FTU7QJnazdzXbObMM4Uxp74AEAgjloZ+Od556aSZ47bDhuLIwXN3GbkTInwbn1ro1k+H4jh8hyMXtoBmtElptzqbZYyGXXuknTbbW3dn+PI1z2OfMpMI0yQcpIUz1AkHrIOo1M7vPFTrE45i1UUUVqyBryvaDQBXlFBoDxjRSGNFAY6gp9BTaCnkFBnVFOrTaCnQKk4WtOLSFpxaoFrS1pIpS1IPJWZduMYzYpkMwgUActVDaf1T5+QrT7dZJ2suFsZfLbh8oHgqqo+IAPrVZ9lXLDmpFm9G0/U/3ptLBI+tPM08mGIjSaq2HxQ9xnMyT5zT7YVwM2UxEbHY6xVn7L8HDmWQQDrMb1d7uAtxGQfCsNb4vTbPj5nbGczTMmeeu/Krd9muHd8VbAnKjKxPIBMzfrH81d3GcAsOwGSCxju6HWtB7PcAs4VALaQSBmO5J5605r5dcJ1n4fbr0UUVoxFFFFAeV4aVSGoBtzRSLhooDJ0FPIKbWn1oMpRToptRToqQUtOLTa04KozimvUNJFKWgHlNZt2ywJ/btP+97Mg8pMW/zX51ooNVftlb+8wrgSy3cvpKtH+00ueBJzYVa7LWiqKpZWK5wxYMGHKVgROh02nnRguETeCFdATm00jSfiNPImrJgMIqul0ZSCCpGmYjKFXUnYRsOfWptoKHYgDxPyrm+V+67rnMvUKtWEQQqqoHQAVzcV2iwyNlNwSNzBIHrXYvoGBG0iqZxrs4HJyu+vLugfICnOOe03n6Xns3xDDuZlS51VtxA6dD/arPbvqxhWBO8A6x1rLOy3Z1LbifeKsobnJUgAnzirp2L4E2GsD2hzXX7zsQJEkkJPQTt1JrTHvph5Zx3fayV5XtFasHlFFFAeUhqVSGoBhzRQ9FAZYop9RTCVIWgyhTopsUsUAtaWKbBpYoMuaAaTNAagEYvFpZTPdYIoIEnqeQA1J8BXAucWs4y4iWs5Ftmcsy5QZUqAJ16nUDlVc7b8W9teyKe5alfAv+JvT3f5T1rqdkcL7NFY+85J8QNAo/X1qfJ/jlfhz8tT+F0vAogIJEQSBzjrTmAee95z0Pp1oxoHsmPPLXL4VxEAZDof71yyO213bhI2qPcO5r23cA97Y+BGunWuRxfF3JhA2Qc1j9SJpwR18FxTDqwDOcwhoCnSNdSdJ8K0C04ZQwmCARIgwROx2rLeweBLYsXDbvd0HvOpCAkHUmIJiQIPOtUrfxzhyee9yPaK8r2tGDyiva8oBJptzThpq4aAj3DRTd1oophmiU+tMpTwpGWKXSFFL21NAKFKAquX+0Bz5LaZhMB2J7+2qDmN9THUTNLs8Yuhu8MpHTKwE/ynzif8P40vlFkFsnlUHH41LSO7OoKqxAkSSAYEdSarvGOIYjLm/aGI0lCcsSfeMDT0j0qn4nEM7Ekk8tSW+BJ20pzI+ReDwgf2jvmOTLtGrM0S5P4YDbayV2q68HuAvbXlBHrUfsLhrV9b1hyA7jMBHeIAGYr1IIR46r4mpuHwD2sQqMsFT6HxB5gzpWfmjf8AT3urdiLeZCOUVVOI8OuJLgyBzmGjlrVvdhFV/jd5mUqNBXLzxXTxy4WH48SMjNOoG4BHn4VLu8RR1ILEEbEEVReJ6OQOW5p7gi57gDklMrkyYAy23YEnwKg+ldP7Ms5c/wC/c3hvH2f4N0wqvcuM7OSwzHREnuoo2GkE+J8KtFZ/2W7crlWzibQtFYQOmiQNO8h1Tx3FX5LgYBlIIOoIIII8CKuZ46Ya18ryVRRRQT2iiigEmmLtPtTF00BDuCii5RTJnC04KbWnRSUWKqvbPi2UCwh1YZrhHJfwp67nwA61Y8biltW3uNsikx1PIepgetZdib7O7O5lmOYnxPTw5VWZ9la6HCrzveBnaSJ8Pzqw/tqB2zsFjSW0H/n68qrwy8EbMTGh239KbxV/OSeUz1+J5mrQkcVx4djk0T4Zo5kVzxy8a9FesNqFL19ldhTiXae8lo5evfdZYf0x61rGK4Vbu5Swhl91huJ1I8R4VhfZLFXUxNtLFx0N10RisEFQ0kHMNoLfGvohU0qdTmcUZtl5ir4js5eLErdTLyBRgfkxqDjuzJKw1yAd8oGY+RMx/SauxHT41Se1XbbC4U3bYOfEINLYBy5iAQGeMogGSJnlvWc8Wfw0vm1+WQ8etIuJuJbHdR8g3JldGkkzObN8OVTsDgSjFGlQ6MkkgTnRk7oGr+9ppHjUfhftLl5jCNcuh3DHuhHdyc/ukAzm5bHlT2NxT2rmZwJkaKzEd38X4dZ6+oNas3b4BfGIw6sI/aLYA6F1UCJ8YJE1YuC8afDEZdFPvL+GZ/d66686zbhONFq4WSQsnKJkgT3QfTSrXbx4cZ4jMZ9fyosDT8J2rtGBd7kxDg5k1015r8wOtWIGsSt4pWlTBDGIOunMR5A1o/ZPi+e2ltxEAIh1kgaASd9o9BvvU2CVZ6K8oqTJao101Iaol40BGc0Um41eVRM9U06tNLTq1Klb7b4nLbRB+Nix8kH92HwqlrrXf7XY9LlxVSfu8yMeRaROXwG3pVfRgJneNOesj9JrTM4iK8r0mnAkjl9flSfZ1REzThH19fWteC3qM2g+jTj76D8/SgLd9leDz49DErbR322OiDw/GfhW7Gsy+xvh2VL2IIjOwROfdSZI/mYj+WtMqdHHG7WcX/ZcLevj3kSEHV3IRPTMw9Jr52tOGfPcJbvF3JEsxJkljzk7z1rY/thvxgkT9++inxCo7x8VHwrLjhra4YMA2dyBIeF0kkFcuuxG+6yNtSCur2SwoAa825kDwEGI8orm8ftg5TpOs/Xw+NWDCobeHXuNmCgnQ6bgzO3OuJxl0Ik6DKYH8UwfDQ+u+lBOZhba+82w5czXfsNNstECdByiPl9dK5XB7qKTOrHQbCNN9QZ6RA8+lmwzJqHVx5kPtLSQcuuUjaZkGKdDi2GOrAnukiRy5AyOmY/KrtwDFuFt3l79po9ohMulxYOZPhPkT6UvE3Bas5YDNdeAQ0QigZjHOc0TMa+U2bsZigqMFMgPInaDzPSlTjYbVwOoZTIYSD4GlGuZwS+GUqPw6jwB/SumazUbc1DvmpTmoV804VR3orxqKoM/Sk4rEBEdz+BWb4DT50pa5fae6Fw7D98qo5fiDH5KaiezUF5OtNU66/8Ag6GkEaxWxFgcxv1pWckRl16jp5fXlQopRXnp/mhJIBnfbb8+foKdRGdgqSWdgqxoCWMAH40yp0NWn7PuHe1xSudVtjN6nRQfmfQUBtPZrhy4fD27S7IgHmY1J8SdfWuqaZsbCnZqKqM8+2FScPY0JH7RqBP/AMVzXToJrNOIuQiBBKIsMQsahn0Y5R3hDCD13rT/ALWbRfDWgGCn2wMkkCMlwbjzrOr9rJZuAYlSGRSyHMWeCJy7KozA6anxNOFU5bAxF4q7qhRLOuUPOcO2kmANpJ67Vyu03C1sOgDEq4JEqq6jLIlRrqTvt61ycPinV86t3hG+oIBWAQeQgR0gRECpWM4tcuottwuVD3T3yw0iJZjPrTMvh+RDnMNEFTouusSzEBdtvGrbju0WGfCXFYgM1t7akIzHPlMCQoB0ZdZgTv1oiWWYgKCzHYAST4AV1+1GEOHNi0HzZLYcjTu3GbvnTkSsiZ2osDkXrhlVP4FCjwiZHxJ+FWzsZehSnNn+UDn8dPGqXl8Zru9msTc9sgDQiyWGwiOZ86Eto7GAl7jTIyovqCf71azVS7KYhc5g5Q+pHVmIhvl86tjVnfaoZumoNw1KvNURzRBTRopLGiqCgiqx2wv95E6At6sYHyU7HntVnWqR2jvh8Q4GuUBB/LM9CdSevlU59nXInl9flp8BSfEefXx8aUzfX15+FNs2h+vz/Q1ogpEkCvbogxO2lIVpA9aUo/SmCSP/AAdK1f7NOHZLWciC5zemwHw/Os44Pg/auAdpE6fX1Fbj2ewoRFA6UqpYLe1KLV4ooNSFC+1WwXsWgGAi6Trz7jCBqOvWsxx9t0tlRczIxDFZQETr7oYka9DWudvcKj2kV0V1zHuswWTEiCSIMAnflVGxPCMqlMiNb2U5WLKP3c43gyJY8udOFVJVDuQYIMGDrHTrS1QkwKnYwBGtoT3Qk+MMeR66DWneHYYyGndsve6kiNRod6ZO72awJV1MaSWmIJyzz8yK4XbG9nxt4Agi2RbEbfdhVYf1ZjV44LFuXaYVQSNNQrZ2yjyRvDSsqdyzMx3Zix56sZNKKKNdjgGJCXUy2w8nvM8kx1RZyiOrA+lcdbeupHrP9q7eGxiW0yWyWdwM5Cazr3QSfdGnLrTS0bsvZdLwvOxLXLiKF5BBPu893mfOtKc1lXZ7jy3biMyDMj25lg4AJAnSFQAay2uukkVqTtUaVEW9Ue41O3jUVzRCptjRSWNFUajA1nGMZWd2UEguzAnmCx0jl860ZazniWHNu46ZiQrQCZEjcaA+NTkaR8w8fDp89qafSPHX63mgsOn1615kzMFQFixAAA1LHQADrJirCRcVQiQCCUJaTMsXcAjoMoWkLJ0A1/vU/jk+2cFAhUIpRfdUoiqVXwBBFQrA7w8JPkQCf0ogWzslYzXB0H1PrWycNSFFZR2ESX+Fa/hRoKNFElRXjtFKmmbjVJqX9oDk2kGQuM85AiuTCtsjaHf03qqobkuoUKpUEoWykSzCcjL1H4TzqwfaPf7loB8kXCS0TIyMIiNdxpp51TMPiwCZCN/GcocQxO24G/8AVThUxj+Ds7qVdFhQsNKgQTtoTGtdPs9gchKXCBr7wO0cwYkQeRkHpXC/9bzBVZVJGgaIOmgk89K7/CWPeLLJVWcCY00ETHR6KSHxXijYfPh8wcC06aaQbmzE6klUY7ad/wAK4HaHhf7M9pO9mfDWbzg/he4pYqI5DQc+dds8Ad8TYLnOt+/bVzHNnUusH8OUtHgIqw/bXgAt/D3lGr23ttsF+7ZWX1i42n8NH4UzOyyyM23MgSfzFdnCWbDDQa7S7IoJBB0Vi5/2zXFZPqD/AJpdtyNmIPhIPyIppXXhZZACZ0cR7xEg7oWA1OU+4hbXQjWNrdudfPnCeIZSVOfX3jk1MbZspzN0guq+m28pdDIjDZlUjbmAeVTThFxqjOaddqYY0GQxoryimSjXLqopZ2CqNSSYAFZnicRndm5sxYnxJmrr2l4a9+2AjGUJOSYD7f7hGk9TVDVCTABJ2gAzPSN5pZOgtUjheNNi8l4DMUbNl2kRBE8tCalLwDElc3sXA6nKvyJmoXsGVocQV1M/L50/lm9Si51O7E3it8PcdwPfd28szEgflUXDnvjyP5EU0WqRYHeHl/j9aaWhdg7Os1qeGGlZz2Dt92a0iwNKWvZz0eJpi6afNMXqk2afapcXJZVmZQXcyomIUDUSNO8azlcSADoSYZc09Qw1HrNaT9oikvZWVGZbmjoXU960IKgHrVCxnCzofZOjFwug+7Ybd2dVPdOhqoVc3DWSx0ExqavmHuZLCLqSwXMI/AwaPyHxWq1wrCzcyJKwe+TrlE6iI1Oh08+hqx28QHuQBOZlAE67wsDwGlOk73ZuyRisJbZpYNdc85W1buKD4a3EP8tR/ts4rbPsMMAS6n2zHkqsroq+JJBPgF8aOyF4vxmIIW3hTkH8LrbcN4E+118gOVSvti4JZNoYwlheBSyBmUK6lmbVWEswBb3SNNTIWp+1fTHg/wBbfkKm4fHIohrStHz0jUtm+UcqjW0nkeewH9qmW7dsRma4vXuK3TbvDlNWlPw1+24k4bKC4EoYAGh1hGYnUe6F39K2/hzH2FqZ/wCmm+/uDeQNfQeQrDkw6XRFq8rvIAW5ZyNE5R3hn6jmN63DD2yiIhMlEVCYicqgTHLap0cKdqZJpbmkCg3oooopBRprkXcOiYgMqgFxLRzbNBPgdRtXXrm8TXv22/1J/UJH/E1jv/WtfFeNR2MTcBtzttPnMVm3Fnl286vbOGtOxMADMegyA/qKzi85ZiTzJPxqf0091t+qvqG6k4b3vT9RTNSMCO99df8AFdbirWOwqdytAsjSqN2Gtwgq929qnXs56Kao7rUgmo+KxCW0LudB6knkAOZqTZ59pqBWw5Y6FLy6Nl/HhzGbl7setUhTbdkRJQ+2tBklipBkSDtIkz4A1aO3Fx7ly095ZVkuFLYI7oV7Gs83Ib9B41jIQUORFCnMoV2ZwShHeU8sxmes+VVPRVNw6C0kod2JPKS0RPpy8af7LhnLONWEqoM/iEGDGhjNHjGtNcSgYZmAiGP9Q+jUfszdKKW17qs5g5SYUkCfHb1pkvfZG2zcVuXWEf8As1APJszWgSPIqw9Kof2h8euYjF309q5spcKImY5B7MZGYJsWLBjm373StJ7LX/aXPazlBw1zOw0gk2Dm/h/FpyKms64B2WS6qtczaiQZKtqNyOVZ61M91pnF11FYw2KKagKeoZQQR4eNdrA8WtEQQE8NlPlGnTepXFexFxAXsuHA1ytCv6HY/KqnctspKspUjcEQarO869UtY1n3FpTD3Pb2/Y5SzsptOAsrcDBgrFQNBl1nkT41s9w1gnZfjX7LiEuMudFJleYzKULJ/EAT5yRzkbsjhgGUyGAIPUESDTqYCa8oNFBAUUUUgogqHxZCbbEboQ4/lMn5TUuh0BBU7EEH1EVk1nVV7imNy4Zxzcqo/mOZvlIqpiuxxl4RUO6uwPjAIrkA1finEPza+Wv6eE10eE28xnxrmlat3Z/hxypI1Jn4/wCK0YtK7K2MqL5VakrkcHtZUA8K7Kioq3rMAJNcl09q+d/dX3B/+qn4hc3d5c6SU/COVIKL28TK2FuQCQ91IPukPZY5WHMSgPpVZxa21R2GdZKAKNber5ZUkSp20mNNhNXT7RLKm1Yn8OJQEdVuK9o/NxWd4626KLQGVHdCEZlzhg5MxOg7vIRPPYVeU0ri10/s0H8bE6epJpfCrLfs8poztGv7qgfKZ+FKfC5gEfQCSdBpE1NtWciW0A7qoAfMkuf+celUTq8Hdyr4YTN5AjMJOS2Mhu+WYdweLzyq0WOFLbSANeXpsKjdkuHkI7n8RhZ/dXfylifhXbxVwLr0rj8uudV2eKcZ4VviqE6wVSBPQmNaqGK4E2PvZLZVCglnYGAvQwNTOw8/GrVxrGM0W0GZ3OVVHMn9K7PBuGrhrYQase87fvN/YbD/ADS8Obbyrzakzwodj7LyHGbEgpzyWyrnwBLEL56+VaLh7QRFRZhFVROphQAJ8dKcrwmutxik0TXk0JeiivAaKFKKK9NeLXtYrVHtZahwepn4rr+VV0ir/wAWwSXFlhMaHqOhHkfkTVWxHBXAlO8vwYec/pV51J1Rca1OZ25+FSWE7Tr/AGrU+zlpXW2V6k/DSs8s4JoGh0nT6+tKuXZLGrh3U4hlt22BCsxgBiQYPSYPwp3UvQmNTvhqOESAKlmofD8ZaurNu6jjqjqw+RqaB/EKEkC2etIuXAo03obEpOX2iT0DCfhSoTeR5k0iVHtvhWOCv3D7yBHA6C3cRz8lqqdskCI2VyqlQwTUq5Vlca8n036VfO0HFMG1m7YuYqwpe26ENdQEZ1K7TPOqNj+IJewlv2uhfDooA1LMLag5BzGY6yfOqgqIeIIb8vJUoNd1ll1k/wA1SsC6OxRASBOo9dI56VTr7XHAnSAggDvEhMu3ISrb/CtB+zTDh/a3Dtltr11GcspnpI02EmKN3jNsPE51JV3RcqKE92AV6QarvaHiOTnoPmZiPGuxxBwi8wBoI8un1tXD4Jww3bhxF0d1D92h2DD8RHh+evSuKZurw7LZmcpPAOGFPv7nvuO6p/7anl/qI36bV2SaU5pBrszmZnEcetXV5opJr2myaZPTXlBNBNMAmikMaKApCGlTSBXtYrDCdOtQ8IRJBGxKt9enzqY1MoFDkSoLCYJA0g6/FfmajyTpt4dcXhIw2CUiIg5QQfmD/io97hwxdhk9xgxA0910JG3T9DUvEcew+GBzuGfLKqkMx6AgbSDuYGlU3h3a+9ZuXHCIwuHNkMwhiAQRvoBPWOVT486vca+TyYnVcIZ7NxoZkdGKkoxVgQYIDLB5VMxHHsU65XxN5l6G48Hzg6+tQsViGuOzuZZ2LMdtTTddn/XDf4dXC8TsrhXsNhke4zEpfMZlzADXSTEGNfxfHkEA76+dLRJYLIEkAsdhJiT4Df0rSsP2Gw9kZrrG6QOfdTbSFG433JqdamZ2rGLq8RR+DcBuYmWUBUXdyNJ/dUD3j+VWa2rWbYQhfuzCuyySCQwQoN5GYBiREHlsrifay3Z+7sqrBRELARQOQjc+A0qyWcOAqOGklZB65xrpsRrsegO4msb5dS82dN54c2cS9xTSl12ZmthSwlWKgq6kr3SwLZjIOsmPTS59lmGHVwzMXd84LaxOgBHgNPH1pv8AZQvLyEfXxpu+7rCxq20wPD4VGvLd9emmPDnHfurVcuLf7itMe8fmfryqaqhQFGwECql2A4yt04m3IzI6lIIMoREgjfvAk/6lq2O1a4z8Z37c3k18r16JY0kUktXorRm9LUkmgmkGgFk0kmkg0E0wAaK8BooCkA0sU0ppYNZrKNU/tmv3yaz92NOnebX1/SrcTVG7TXy+JefwBUHkFzfmxp59pvpygK9oorUhRRRFAFLN9yuUuxUaZSzFY6BZikRRSDyrT2d7WGwq27ys6LohUjMg/dg+8PXSqvRS1manFPOrm8xpJ7WYZhm9plJ2BtuWX1iCa4HFu0SQy4cuSykF2zKRm0JEmS0EiTtvVUpVRnw5l5Xrzas4Xb7LsGzYh7g0W3bynxLsIHwRj8K1Jmqo/ZrhQmDz87tx2PkhyAf7CfWrSWmqrMsGvZpANBNADGkk0E0maYKFeE15NBNCRNFAooUo4pQoorNT01nfEf8Aq3P/ALH/AObUUVWC0j0UUVoQooooDyvaKKAKKKKAK9oooDZexWmAseTn43XNdtaKKkF141FFAJNeCiigCiiihIooooN//9k="}})])},function(){var t=this,e=t._self._c;return e("div",[e("span",[e("img",{staticClass:"starRev",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg"}})]),e("span",[e("img",{staticClass:"starRev",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg"}})]),e("span",[e("img",{staticClass:"starRev",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg"}})]),e("span",[e("img",{staticClass:"starRev",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg"}})]),e("p",[t._v("23-10-2023")])])},function(){var t=this,e=t._self._c;return e("div",[e("p",[t._v(" updated throughout the entire process. I had a question about the product, and their support team responded promptly and professionally. Overall, my experience with [Store Name] was outstanding, and I can't wait for my next purchase. ")])])},function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRTm0qy1hfpWWmK21gtFjbcAxTamCyVt4sQGw&usqp=CAU"}})])},function(){var t=this,e=t._self._c;return e("div",[e("span",[e("img",{staticClass:"starRev",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg"}})]),e("span",[e("img",{staticClass:"starRev",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg"}})]),e("span",[e("img",{staticClass:"starRev",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg"}})]),e("span",[e("img",{staticClass:"starRev",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg"}})]),e("p",[t._v("23-10-2023")])])},function(){var t=this,e=t._self._c;return e("div",[e("p",[t._v(" updated throughout the entire process. I had a question about the product, and their support team responded promptly and professionally. Overall, my experience with [Store Name] was outstanding, and I can't wait for my next purchase. ")])])},function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBYWFRgVFhYYGRgYGhodGRwaGh4YGhgZGhwZHBgaGhgcIS4lHB4rHxkYJzgnKzAxNTU1HCQ7QDszPy40NTEBDAwMEA8QHhISHjQrJCs0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDE0NDQ0NDQ0NDQ0NP/AABEIARMAtwMBIgACEQEDEQH/xAAbAAABBQEBAAAAAAAAAAAAAAAFAAIDBAYBB//EAEEQAAIBAgQEBAQCCAQEBwAAAAECEQAhAwQSMQVBUWEicYGRBhMyobHBFCNCUnLR4fAHYpLxFiQzwhVDgpOisvL/xAAZAQACAwEAAAAAAAAAAAAAAAAAAQIDBAX/xAAmEQACAgIBAwMFAQAAAAAAAAAAAQIRAxIhBDFBIlFhEzIzcYEj/9oADAMBAAIRAxEAPwDZHDrhWrJimvFbLM5ABTChNTFhSGIBRYUVzhmmNhmrhxvKm6xT2CiqFqQCpGYdKbqpNhRzTXa6DXYosKGxT1FIClpNKxjxFcYV1UpMtIDgNOmo6eiUrGKpViuqhpFaVjOmKSrNc008GKLAaVikrVx3rlMRIGpVGDSqI7KE0qaXrhJqZE7qpaqZSmmA8PTqjFOU0AOp6Cmg12aAJQtOAqNat4STSAjVKkRKm+XXQtAEZWomSrRFRk0AQrh10CnMaaDUWOywgpNhmmIaf8ykOzowiKaz8op/z6hZ6aA4Y6U17cqWquWpiEs9KVODClSsClArhApuoU1mpiEaaTSLVwGmAgacDTDXRQBIpqRTUS08GgCVVmrWGKqK1PGIaVgXfmVwvVPVXdVKwLJemsahL1zXRY6Ja4aiOJTC5pgT/OqM4lRGuUCJ1euM1V/mUjiUDJjiVw4tQTTgKiBJ82lUemlQMjZaaRV1sGuDL0rCinFdC1bOXrnyO1PYWpXAroFWVyp6VKMi3SjYepRIpCiacObpT/8Aw6jZBqCxTpokchVXNhEFyJ6Ex/ftRsGpACa7TcvnEZ9HiDDe1lmdMkxvBg9uVqvrhAiRcHY7g0WFFMCnDDNXRh1xhSsCkUpEVZNQuKYiE0xhUjVGxoAYRXIpEUop2Khy04NTRS1GlYxM9KmmaVAF4PUgequqkHqNDsvK1TKRQ1cU1IuMajRJMKIwqQYgoUMc1355oodhb9IqNszQ75tZP/EPjD4OWIRyruwWV+oJBLEEfTtE23tRVB3Kf+IXxrp/5bLv4hPzHBI08giwbneZsNt9vP8AL8dzC7O8He8/70EZ9bWmTtRHhfDsV2AVT5m1VSlXLLYRb4SL441jhwRiMGiJ7CIE9B9r0e4X8YOukszrBk6AIfl4gZ6dB51B/wAD4pAIYT2k+886zfFspiZZzhvuQL3286hHLGTqL5LZYJRVtcHsnCPi3Dx+TKe8EEzaIJoycWsV8AcKT5AxWUamiDvyU7dQ03rZDA71oi+OTLJJPg7r70008ZXuK7+iHqKlaFRCYppipjlu4pDLd6WwUQQK4TVoZWnDKUtg1KRNcmiAyVO/Q+1Gwag2aVFFyfalRuPU8hynxNmV/wDN1D/OFf77/eiGB8a4v7SYbeWpfzNZVUU7bnlS0xeKzqb9y1wXsbH/AI6cb5cf+4R/2VdyXxojWfDZPJg/4gVg1cGx37U5gRsalvL3FrE9fyuaTEXUjBh25HoQbg9jU4FeScP4k+E0o5Ro3GxHQg2PrWkynxnjL9aI47eBvcSPtU1kXkg8fsbkA0C+N8gMTI487ohcEf5PER5EA07KfGGWf6mfDP8AmWR7pNvOKvPxnLOmIPmK4GG7Og+o4YU6wFO5ibVLZMNWjxbgOHAJI3Nq2vBVuIiRWMyeC3yoXUIZhazEcr8qs5B8XDYMrMJsQXL+twINZci2vk3YXrVo9b4dmAenqayX+JHDdRw8YDwgaGI5EmV1djJE9Y613i/AWdsLEwwCjhS2ssQDadiLb0azXByMnioQJ0agoZmEpDLGrY+EWrHFqEk0zZkTnFpotfAmA75LDJiQcQdLK7gfYCtD+gv1HvQv4WGjAXCiPlnTI2eQH1A99d+4NGie9dOM9opo4+SGsmmVzlXHT3rgyz9R71MR3phXvU7IUd/Q3/eX3pfopH7QrmnvXdPeiwocmH3qWAOdQwBzrheojLaMOtTIo6mh4epA56UmMJ/LHIn1ilQ7WelKojPIhkkDatNo3MEW39Lb0OxMPQ2kORJIEjf2H49Kt5Hi0IoMyAVkbadxYDe3586HcRz+p50wBMWB33uex51jgpJ0zfNwasnfhjxdQxjwlbBiOW2/aqaYD7gkW2ZTHuJrTcEzobCXTMzDAmIveI67+pqvxVCNOKv0LMxurtIXlsTPLfzimsslLVkXii47ICaDsyx3BEe9OVipgg+dSBgGljoDhiPCQPFJ5XiRVpRpIZxqQ21cx0MDcbWqxyK1Ar25+9d0T0YURzOVwUVWViQREAxM3BEz29qpY6aSOhEqeoiR6+dKM7CWNxK6eD1JPvXcziGAQBI5bT0p+ZQ6J6H0PWDzqriLqAF5nl06U/NlsHa5PTuBZhnwUVlUaVAIkzqG4II6Rzolm8YIjMxIVVLGN4USY72rKcAy7MAdeIoAgAGx23kmbj71qMzhF8N0PNGB9VIrDKt6NslUbM5lPjjBQBEwX0gm5YA9rX5d6J4Xxrlm3GIvmogeoY15q2X9O4/MVEcIgdfL+VdWNJUjjTuTbkeuYfxHlmE/ORf45SPPVApP8Q5UETmMO/RpG03IsNudeQhxtMedqkZBF6lZCj13D45lmsMzgz0OIoPsTV1cQESrAjqDI9xXhowL2Pn19qs5TMvhGUd8M2urFdXnG487UxUezM5pupu1YbhnxriJAxUXEXmw8GJHWR4T5QPOtpwn4gyePZX0P+5ifq29L6W9Cai5UPUl+Y3WlrbrRhMunSRTv0dP3ai5oerAututKjgw0/dWlS3QanhuJlVwjs8E2MSFMLuYvvzPI260OI4ZMWtuD2HKee1a7DTBBk6gdyNLbxpnVqj3qLAyWCwMQQDFibHa4JMjvVCtOzS1aoxWS4g+Gx0tHXnb+lbbh2IMXBdWtrUTbYxKsOsGDXG4Ll/3Ek8yL9xuOtEFywAKpabXOqDy5dPKjJUu3ccLjw+xncwfm4SqogoYaeUE9NhJPtUeSwYmTYkhl3VvvY8pHOtCMgFBgYZsdwoNxcaxynrUuBh6IEYcEdJv6Cl4oLAuawFZdJCrpAuDA0gc+ogehPs/LZbUjYbCWgaXYyVIG/WLkETEUZcIZ1BDPJVAb/43qBs9h4YChJgWB5QIFySRahRdcErsEIVODiKQAVlSpMwwvadr0A1MpkUV4ljl2LEBZ5KIFtu59ar5DDDtobntR9qZZFN8Gw+Emd8MMGAAgMALiPWtdhACw9e/nWH+HMBsB2BB0nnyMVr8nmNZLDasOT7uDXTceTE8X+GsVGJwwGW+24EmLMb2j1FB8TJOsBgA37XTex7dD0r1LM4qruwHrQ7iCYTrqdCwHPSbeR5VphnkuGZ5dPGXKPNsXIsfqS/exif3p/PnUeFhkqSoaFMHVFj7CNxWywuFYbwNB02iXNgBAsO3eg/GuGsF0IuiT9ZLOCAZiNUe961QmpcJqzJkxOPLToEYmUKgSpHpIEb32qPEw3AnTY7GDFulE8thsunUTKyJVnAgiPpLH8akRo7+c/lHKrUpIpbj8gXDHaD+NTnDt/On5vJu76xilNvCogW8zf1qbDw3A8TauhKR7hd6lTFsifhnG8xlxGHiFVn6TDL/AKWkCeoitTw7/EBhbHwdXVsMwQOuhpn/AFCsnqgXRD5Bhv21fnXVc7hFB8m/ntUXCxbI9V4b8S5XGsmIJ6MCh9NQE+k0q8o1dVX2I/OlUPo/I9kFArmIF+REW8+nSusjgkqxJnbn97cudSY2e2OkkXv0B/hm8/nXEzRHIGYmCQZPYgzVZpIcq2KyGQofVIGoN4fDGpNQDbt+0OXWn5bEx0ksVYW06VKEdQysxAIJ2UnrO4q1hZpiT4GM9Yt2gC0mN6euPH7AANrffdelJiEMdm3AmOx5DcnbnSXLhiI3MbMTvHeunGUqBpv337XjbnP3oXmsx4tI/ZsSDz5j3oGk2y7xHOaPAn1/tGxjt5/hQvHwygBIN+Z3NW+HZMltR51a4466VUbiq3NbUjTGFRsF5bCVzA9qnbhMbWaZHalw/B0+Kroc6hUZSdk4RVch44P/AC41RqixoLw/iLp+qPO4I3mjuA+tIPSs58rTimd5qiKTuy5poPZfAA8Rud786t4+LqUryNqpF/DXcHEqDZOiPCwiluVWlyoY3Eg7jrUoQGnYNjFR3adhrwAOIcOCOVgRuN5Knb++1UTkx0/GthncPUAeYsNo9Z9aH46wCY23sW9gPyHKuzgnvBM4eeGs2jONkx+7UZyI7ewo8+KNioHeI+9MDzzUntpPlaTVxTQDGQH9z+VOGVPfyEmjMHpT11/u/wB+UUrHQBbBI3n1pUcbFYW0H0EflSpWFFXHwk1LsDyEDVEXI6egrmiGBIGk7ggsSdthNqZ8/wAN31SbEHTN/pGmSTy2qTAxCJMHxXBMKg5EKOvmKyGs6mIqXVVmSJCk6SPqHYesVawMOTfkQTa9uclbneb8hYXqrhtcqBHPVMHlyFp8qdg5zxkWGrkAdZO2oyQLUAd4xmFTDZlB+mFMSuqdIhiZEG8GduVZXJPJAon8S5nUieFhqczqUqSUBAB1b78rUFyj3pPsWY+5rMtigLq6ChmPia2k1Wzud0IBO9U8nmSxB61So+TS5LsaDLi1SLgmb1Jw9bVeKVXKVF0UXuGrAvWc4niFcw3SbVpMgKzHxFiAZlh0C/hUMfLHPhBbAxZUVLhNehmUewojl1k0pIkgvgLIoe2cjFKdPzFFcvYUAyio+YxWH78eqgKfuKpaslF8sJcSx2XBLKYIKxYHcgHe3OheBxltnWe8D7iiHGlK4JIEgFZ8pj8SKzq4y/ytv61v6WUox4Od1UYuQbTO4bb6Qe4K/cW+9PLIwP0kD/OCOXU+VA9YIMXPnHuQKkwkYsFUgE9Tp+5rWsrMjxoLnDM+FpI3H1++g2qFcJ9wecwAf5U05bEUw7IY7vI9Qs1awUEQWA/1E+xSrU7KmimHdZkD1AH2ilV79Gv9aCNidakDmAQD2pUACMPCZcQLOGEAvob9ZfcFSLi3I9LGrGKgcagk8iHO45ypDCfY0zAhhdFCAXJfXPeSSQPam4GKmooA41fSWBbDmP2WJ22rGaSQoJ06ToC2W4X3nTHsKg1lTLLqQ81GrSdr6RGkbTv3q3j4mgLqb6zZViGOwudt/vVJssHXwSNDQUNhvMCBTQmDfi1PAjcw0E7gyGNufKs/gE70d+JS5wV+ZoLl7FAANIBt9RM7UByp5UMtgVeLOxWp+H41gRVrP5aUNZvh+MVZl5SY7GnFXEbbjLk9H4ZmRRpHBrz7I8SYNECLc7meg51r8jmwedZMsWmbsclJGiyaxWC+KXK5pydjp/8AqLVtMDNKBc1luL5X57sRcHY9x0POq8LqXJLJG0M4bmZitDlsQC9ZLJ5DGQxp1Acx+YNaLK5fGaBpAB7zFGVq+GPGnXI/inxGq4Tsm8hU5+JjAkcoufShfwzmo361N8XZCMvYxoZWJj6ioJNAuF4sEDrUowThaE5VKj0nOHXhsvVD7xb71iMdoIUo28HUI02BP9J51tMu8qDWQbDEsFJOgsjLFwyNYlgbyI9DyIBq3pX3Rl6qNU0RNh6LqDcbA35bqxsIIv5966mKD18iL0x0ddRVrMdiNIkgbhlJkXvuQRMwKdjY3iGlCwiSQULDtEgyIAnnv5a6MVl7BzuKhBDEgR4W8QjpDcvKDRhOJYTi4GG1pn6CezDb1ArLthL9ena95UyOWk86WM7dQNpB5zsNx+dOMmiLima3DxQbgEgblYYdrilWRV2HigHlIEMOxPLypVPYjqFMLLrLNhppDkmJbTPPSrk6RbYG9TZzCsAXaFEwYQAzJhdR6U3LZpXUqm6z4SSFBNydPL2G9V+K5FMQA4ouIJ2Akc25daz+S3wW8xmdXjIgCIgW2id7A9utMTFd1JQgqrww1eLxSYvBiL71BlMUOh5qLALdhHMty8m3puWJw3IXxK9+jWtBSLnn0qQdwX8TYolFXDdFGqdekBmtOnSSCB170NyySwq38S5YoyMWJ1TYiNMRt51DwxJYVGXCLsavg06ZBXwzO8WNeaYuX0YzDUGBggi48QBI8wSVPcV69gJGCT2P4VkuP8GQYTYqoqspVpViAwYhWhLjnMiNvenppu5F/UpLUzaKZsaMZXFdYlr+VCsDpRE4cgEGrJpMIOgnh4zvabHfrRrMpowFYbqw9jWf4fgvNq0+NhscswPITWabUWkjTG5K2WeH46kSaI4byIArI8KzMmDyrW5TEGnvWeaaZZaceAf8SYQfC0G2vUDtzRhz8xXnuQchlJtG/mP616BxnFhQWEgn2F7/AN9KwvFcNUxZBBVxrBBBjUTqUxzBm3cVrwK8ZkyS1yV8G74XmgUF6jzeAmty5xFLxDYegmNOkyHF/pHOY2ishwziTagosJ/v8K1nFAGwA+nXpN16g+hnlUYRcJ/seWp438ETlSqgDxAQ5JiSdoF4MDdd+lVczhCzEb2kgQd9wYuaaqF2RFIA/ZglAvIKQLnmKmzakPpjZexQne94nynyrYYChiZdiT4x2VW8ajqVkqTtv1puXwDEPGmSVYEKQeYhQBPP0vVl8RdIlRDfWq/XpvdVsGv3HOoMoUuqP4YuJNjvcEzO/Kn4I+SPFi2rCYx0ZRG+4LAGfWlU2Jg8oBg8/vEg8+VKiwosY2ewkOlzpYg72Fu5gUxkdrMwKHyU/wCrnXM5lkdgjJYAGQI19RI2/Gm47mQqIDIjxA6T9+lJUMkz5+WgCQgME9COh5g1EuMjIF1MjEkagxWeo1ibdjBqbiToieICRsCJjymoOGYcIWDBleCQIKi2xBtNPxYeSh8RKP1d5nX9tAFd4JgeIVFxEhscKAIUD1JM39IrV5fhn6sMv1AVnzT1jRswRvktZlwuER1Ee9ZziOeRsJ0iIRpXbSYIW/O8bTyox8x5VQjuxBMLEjYSZ5CaGcd4di/o7u6FIKzJWSpYAWVjsYqPTpJNvyHUNuSijGIJHerGBmSDBtUuHh1PmcoNGqPOrm0JRfgN8LxgY/GtEuKChXqKxHC3Wwk+9a3JKCtqxZVTNmN3EG4GUOvw0eymAw+oiOgoRlsyGdgpBgkHcEEbi4vWgwFJAmqpt+SxcIpcYYqmvksT/DMNfyNYPjk60JF5YGZJ/ZiZ7fhW/wCPj9RifwH8Kx3xOwOHhsLyw8QvqlCQZ9PvWzpH6WjD1KW6YMya+IedbxGjLz0K9uYrC5ASwFbpknLEE6bDxdpF6Mr9S/ZZFeiX6BgLFy4bUrCNMSh23iQfSPSuBJTXH61J1oFKsgIAQq7gmJJ2BsLxXMXHVROtVMaT+yjtFpEGL3teJqDK4zF3WS8WbQdaSIusgEAczA51qS4Oa2NfC+ZqCOqmRqbQjMDpiGUXi45jlfcUsTLhCUEEaoB1FgguBBNyva8DrUgVfFD+LUFZWAVryBYgExBqLFxEWQ74iLEQqsZPK8eI72BB70/gTLGZy+Fh2HiM6Wix1ruI6gGbcjXaoPguny9GOmKrgshZWkfUCoYBjAA2I5UqKDYSM7P4WKqN1N53tFT5jNAjQwE3gbz6V0Zhm+lZU89ve0VzDw4OsgmOsGCegB+/ejsSIMtjgFcJ2RVuQ2INKrtYufU0S/8ABkwwXOZwUQkQS9j/AAzA2PtQ3Gz6zpdNXkBPQbwN6nzmRUINCCDcnDgE+ZFRd37Aqr3BmYVUzJ0uHWFIcCAZUTFb/hzygHUV5pmsQjGB0lbCxM22F/IVv+A40qB2rL1K7G/pmnEbxTE0Mjq2g+IagoYgEXgEETbmDQHj/GAmGVdsRi/hUE2JPUcombfyo5x/B1aLkaXBsJkAGRWJ/wAQ1GrDcEbMY7ylT6WKlFJlHVycZWvgq5fMjnvR7BxVZCKxWSzStAax77H1ouWOGVuYarJ4+aJY8qastpgkNKn0rVcIzRUXrLLiXnrRnKP4Qaoyq1yaMb9g9kAmqQLzc7zRbVWZ4dmgCwMWO8nbr0qPinxYmGCEEkc+X9azvHKcqSLXOMY22TfHHERhZZhPic6QO259I/GsLw3EL5NwT/0nUqOisRPp9ZqjxbOPjk4jtOrboqjYAcpJ+1d+G81DPgEErjoUgbh4bQw92Hr2rp4cP04V5OVnzb5E12QV4W/iU16Fik/o50kg2gi5BkXFea8JMken3r0TM4xw8uDEwVEDcyf79qzZl61+zZjl/m38A7SHRSblTJBHgeLEGRMdtqZh5JUvhIEZoJaWYMQQZIBEGQDYRNWEQMjRI1gQpgXveBM+9DkypwwzI8MSLTH25mtKMDLeZbEdiPCIKly6h9QiDpM+E77jvzqUogUr4lPQyVI3udXI7CKdk8cuklSrgQSBzHOOlDDxJ1fTiMkAwsyuubkEgSLTsNgaat8CdIWNg6BOhCxNiqhfPUCd4i83rlXuJ5MwrAa0Y+AsJQ+GSusEaSL77xSqVMQw5pEEQPCLTYE94sJ5x1NSOW0yVPiBIDWYLe5EXP40MZ5dWkFgbCAB7betFMtgO7s+I4M3LEAHsq8gAOlu1VukWcsG4uQGpXdwoBB0kG/S429uVXMUyIS9+hXfziedMzbrBH1QLbxbbfeu8PTUoX6SZMlSLDoR+ZpvtbEvZGe44kOjTuv4E/zrWfCmMDbsKyfHMVmIBWChIBuJB/8Az96NfCrxfkao6hXA1dK+aDPxZjhEVj+8I+/SsJ8W4pZEDoVdWmWM6gRcAgCd1PpW6+J8scQIo5GTcA2BmJ53rz744zDPjJIhVQBRMn6mkm25gD/0ip9H9q/pV1j9T/hmwOlWsvmWHgLEqJIXoe07elRZYrJ1qWGlogxDEeEnqBvFOy7HSRIjUJJF7dDuN62tGJOghl+MADSwNtjvbuP5Uby/HEAA1Cw3NgfXnWOZOh+1PXHCoU0DUTOqTPlG0VVLDGRdHPKJo83x5RI1TP7uw6UExs5rJAnnfr0t51Bp1eE7yCBG4IuZ5Wj7U9xA0wPb+5qUYRj2ISyyl3JcypVQnWJ8oEfgaq5Z4cN0IPlBp5YDc+lQMwm1hVhWarhTr8zfwliAegJ8P5V6DxBgMJA+0i294MCvOOAprcLyJFeg8RwiyJ4oIcGe4Vret652avqI6eJv6LHcHzQQMiw4INjBZJ6DmPMdKo56zgFRobeJn07+Yrr5dlbVAZZvNmXrDTERttVbF4iyMAF1SehBjr/vV67mR9hyM2oAeJDzAYMp5TEiKizof5w+YpdDCkgC3iFwy3O3rHUzVzK4wYkxpbVsL8p586j4pmIMMCwi8GCDyP8AYpp8ia4BGZzeJhtoXLti4a/T8xwSJ6KPS4+1KjWQM7tqUiQGKsy9uv40qNvgNfkE5PJ62EA2EyY/Pf2otiYUpoJ1WIIt62FCMHPIo0A+MTBuCBGwN5Eza1E8kzRqLBgdh/Ub0n7skvYCZvUpABICxAkm0jc7n70fy+YWbSJve8xe3WKp5nAV9jpJ6g/epsuVAUA8on+7flTk7QoqmVviR9eGYQWIOodtyfSa58JPcrV3O4SsjJIkqQCTzIjagvwnjRiAHnVORXBmnA6ma74hmU0xIm59BXlvxRmtePNvCii07yTz53Fem/EialSOhttO1p8pryLiVsVxP0uy/wCk6R+FS6Rekr61+sgB/s1KrHYRHaoVqRUraYh4B70mSR1rnyzyNIhhQBLlQLk7gEX6WI/A0sbed57UzDJvf+4qN3vvSAbiJzNvx9qjpxq9wTLa8QTst/XlQ3SscVs6NN8J5UqUkXN/Kt1mcRAUV4vJE84Ef91COAoNWmLg/a35zRbimUUvhsx2DiLEEHTMzXMnLbKrOuo64GkDs/lCp+YjXtsZj+XkaqYmfcRrJAO5iSPf+VXUwNDEpoEwAPlgR1urA3ruPguPE7hgd10AD0g/jWlM57XscXBR0UpE82JJJF943Mx96HpmGVz8xNaz9QvHrz/pUePiOjEYcDnBBt7GiOUxGcB1g2h0Nw1gG0tAYX235VKqFdlXGTDYAo2k/unwn70q7mcDUJW0WYGLHv58qVHAGVywJxpdSYMwfpMbKa1fzgEUKpEm4H7PnFo6RQzNZTTieHr329D0osjGNhFEndMcVVgTiSuSfET2kxUWRxirCXjTHP1ge33ozmMukFovyE0MPD3ZgyERzmR6g+1STTRGmmFc/pdNdgQARtB5gi1iCAZ/Ks1kMXRi25MR7GimbST8sMQWtH7x5gdTQidOMeY1E9Zk9edQa9NF2OXqs3maIZEcjVpj0O1h715h8WKozeNogrqFxEaiql9rfVqr07hqLi4Gj79J/wBq84+Mcp8vMtEwyqRI03ACtYSN1n1FQ6VpXEl1kXal4AK1ZRCedV1FWcI962mE6VYbGajbHI+oVOzdKq4nWkA5sYR7VBNMFOpgPArQ/CqgB2Own7L/AFrOUd4Y+nAc8oa/e/8ASoZOY0W4eJWbD4NzWp1B53n0mtL8ShhhoVN9YHurfyrB/AasYjlqM+hE+V61fGuJGMMaQQ4dgp/yBSPsxrBKP+ySOipXgcmUMPEZSCzE9bgkdd6lw8+HcBWIJ3VtvOLihWJmkMkypO69O46+lWeDZOT8y+x03g3jptWlqlbMKdukEuLZQldQPiG/ehXDc3iLigRIax/I1oNbFT+1PoV29xQTiuV0mYpRdqgkqdhbERj4llWO45+RjelVHhnEXIKsZI5ET66qVFMLRcTDDN4hMkzynbpUCb12lVZMHZvHYTf8+feruW+k0qVWeCHkF4ttR56W/Aj86E4g8a/wj8TSpU32HDujYfDZ8LeafnQj/FTCWMBovLCe1q7SrNj/ADI25vwM87Sp8OlSrpHJLI2qnj70qVICbiOGBhYBAuUae/6x6qClSoQM4akw8Vv+nJ0lrjlypUqbBdzc/CVsF4/cf86scTcnOZcTYYa2/iD6velSrCvzP+nSy/gX8IuJYYkCKHfC+ccYxwwx0Fh4dx96VKtHgxeTVZ3GZXXSSPFy/ij8Ks4iAhpE0qVVLwWe4HwV/WHypUqVSfciux//2Q=="}})])},function(){var t=this,e=t._self._c;return e("div",[e("span",[e("img",{staticClass:"starRev",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg"}})]),e("span",[e("img",{staticClass:"starRev",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg"}})]),e("span",[e("img",{staticClass:"starRev",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg"}})]),e("span",[e("img",{staticClass:"starRev",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg"}})]),e("p",[t._v("23-10-2023")])])},function(){var t=this,e=t._self._c;return e("div",[e("p",[t._v(" updated throughout the entire process. I had a question about the product, and their support team responded promptly and professionally. Overall, my experience with [Store Name] was outstanding, and I can't wait for my next purchase. ")])])},function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRO3A4SB_bVvw2Vxc9hun6vynQgbnQWuwgyJg&usqp=CAU"}})])},function(){var t=this,e=t._self._c;return e("div",[e("span",[e("img",{staticClass:"starRev",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg"}})]),e("span",[e("img",{staticClass:"starRev",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg"}})]),e("span",[e("img",{staticClass:"starRev",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg"}})]),e("span",[e("img",{staticClass:"starRev",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg"}})]),e("p",[t._v("23-10-2023")])])},function(){var t=this,e=t._self._c;return e("div",[e("p",[t._v(" updated throughout the entire process. I had a question about the product, and their support team responded promptly and professionally. Overall, my experience with [Store Name] was outstanding, and I can't wait for my next purchase. ")])])},function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTl6yj4gfcwZQjS-QEbDOSJ5-vNM7fIemBm-g&usqp=CAU"}})])},function(){var t=this,e=t._self._c;return e("div",[e("span",[e("img",{staticClass:"starRev",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg"}})]),e("span",[e("img",{staticClass:"starRev",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg"}})]),e("span",[e("img",{staticClass:"starRev",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg"}})]),e("span",[e("img",{staticClass:"starRev",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg"}})]),e("p",[t._v("23-10-2023")])])},function(){var t=this,e=t._self._c;return e("div",[e("p",[t._v(" updated throughout the entire process. I had a question about the product, and their support team responded promptly and professionally. Overall, my experience with [Store Name] was outstanding, and I can't wait for my next purchase. ")])])}],Ge={name:"Reviews",computed:{getDarkMode(){return this.$store.state.darkMode}}},We=Ge,ze=(a("38be"),Object(l["a"])(We,Ve,He,!1,null,"68faa949",null)),$e=ze.exports,Ze=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page category"},[e("div",{staticClass:"title--noFilterSearch"},[e("div",[e("div",{staticClass:"contTitle"},[t._m(0),e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("category grid")])]),e("div",[t._m(1),e("router-link",{attrs:{to:"/dashboard/addcatagory"}},[e("button",{staticClass:"add"},[t._v("+ add catagory")])])],1)]),e("div",{class:{"dark-mode-box":t.getDarkMode}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],class:{"dark-mode-search":t.getDarkMode},attrs:{placeholder:"search",type:"search"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),e("div",{class:{"dark-mode-box":t.getDarkMode}},[t._m(2),t._m(3)])])]),e("div",{staticClass:"allContent",class:{"dark-mode-box":t.getDarkMode}},[t.isLoading?e("div",t._l(6,(function(t){return e("BoxSkeletonLoader",{key:t})})),1):t.filteredCategories.length>0?e("CategoryList",{attrs:{Categories:t.filteredCategories}}):e("NoData",{attrs:{context:"categories"}})],1)])},Ye=[function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRfifgpU6f6DdemdITBpg_essXRVuwWFaTnhJgl9QGDvchprPgRpZFDLgAZhDRlBiYvEd8&usqp=CAU"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"export"},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmvEXj1Sr-tzeKuEP9PgzajIUDvR_-L-zfkg&usqp=CAU"}}),e("button",[t._v("export")])])},function(){var t=this,e=t._self._c;return e("div",[e("button",[t._v("category")]),e("img",{staticClass:"arroow point",attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJcAAACUCAMAAACp1UvlAAAAbFBMVEUjHyD///8AAAAgHB0fGhv39/cVDxEaFRYIAAD6+vodGBmLioqCgYERCgzt7e3w8PBZV1g9OzzJyclramopJSbS0tKcm5vZ2dlzcnLk5OSxsbEPDg5eXFy7u7tBQEBSUFGoqKgxLy+Tk5NJRkc4fOKtAAAFd0lEQVR4nM2c63arIBCFcVAwRkziJcYk5lLf/x2PxHiaKHiryuyfXavtt2CYARw2sabLyZKzv48vF8Y8mxIpSm3Oyh8com2eZM70v02m/mJwPu1jAS6vgBqymQvicN3mmzW5stDnAMxTIn3AcQFwOCa7dbhC/+aC3Y30Kw5sv82W5tqkWwAxGOqN5sLzMRJtHFce0eEj9T1qTz9diCs4x8B6QkovKuAeDl+gw7keBXhToSoxiMKZuZxyrP5IVZHdkzm5wuscVFKC+YPSxhCu7ARsHioi4+xyHBBmA7jyJ8xG9SKDa//S7OUK9tMyQ5cY9A5ZH1d+cOemkoJ7T57t5tr5c8V7U4w9pnMF93kj61M2/HTtNbq48ni+ZagQ3IJJXDnwJbEIcW/6danl2mxhci0cKg7auqTjKrGWpiJyW5uP43KiNbBkjj2P4XL8dbBKsIs6Xyi5nGiRZKoGAyWYimuz2mi9wC6qGFNxrYolR0yxKhVcj3WxylVJ2nmszXUWi+etpnjcquItrvSyUKXuktg39z1NruC2aE3UyfV7uFbMEF9qZosG13HtmK9l06SDK5l+bv2r2N3Rcu0KI8FVCXwt1yp7CK1EqOEK189cn+JFoORy9gZnUQp+lFzG1mIt6qUKrkB9U7qmxGnT5vKFaaxyJsMWV2oudf2K31pcpgrQt9y8wZWYDvpK/L775sIQXVKQf3GlZlPqr/jhi2vlLX2H3kuy4tphGa5yX1HlsIrrgWIxvkRp+p9rt1/45maMqipJECWJSjb/z+XjmUbyjvwXl40m6qWE/+YKMU0jIZ6835RcWyS5vpacSCJvnQ2csLskTyAlV4oq6km1IomB+5teQSa5TB832oKH5EI3XGWNLLlSfFx8vyMIw4vQOCXospeUG5LNFdFeohY8SHBDllWlhE/SGFXRrsTvBNXeq1Y5VDlGLnIhCNMEkVxbbFX7JUZOCNOX5MJ0FPqVR4rZu0nmECVPhOlLKjYNoBFWLqzCOl5YubCuxwNKLoo039skQnd6lOJo9xPGv6IpxdDuV5Fdyr3FSEoRJgrvRrIDwg0Yi4iD8rx9JNYJYQKDnFhHfAmM2inBdksu5RUBsRx8XCyS95gxugsd90dyme3KUQkSyYUvwOB1f48us4qo+j6ELYPJnmnJdcY1kfSZVVwBLi4Wbd7fRXF9iXm1vr+4cO0Nwam5UN2Vy9VY909g+uZRNZxUXIi+XfH97qM/544m8t8NyW8uNLXI5s4nF5rddN0rWvelnXHsWu1n1ugvPKAYMFG31v7nQpFbKQmaXM4VwZKEo9XkskLzuZUXuzaXdTI+k/D7wumDKzN9ABFXS8Vlusvws538+72C2WrkHi0NV8oNnkDE3dJxmZxJ20v1XNZKz0QVcr8fjja4gqehcgSR1cVlJWZeU7DC6eYy095kx80XkO33jwZayym0nrK2uTbX1Rel2376q3jH6hQrV/DP90wdXFZ2WDXvw0lhrKB8v509VwRTYmneuyfrgblXpaWIxh8ge64UY3BSO53o/BTS2ypgOiy9/0RQLJ8uqN5LRO/XESxew204av97l7+J7y5aKxnrcJHq9IM5L+lw4h66zK26/XOSYrG5hKjTEq/Hb2gXze+CJMXh0e3U1+vPlMcLJIx+56h+P6t0Nu+vWhy2vU5bQ/y/zrc5o8weYrM1zC8t8GczJqPgnoe43w30l8siMQsZxJ1uUaO5rE1Y/HnMbAGDTQxH+BeGkfhLybQh9oebPo7xe9yEEUxcm5QB+xlj+DjSHzM43mF81bSBRRofppm4ygqQnADE8FGj3AXvmI71YZ3kv5r7hRi0CqgAeh01f3/iKuczfUTepftaymbiecrTaWa6/wAPjj1FFbPtkAAAAABJRU5ErkJggg=="}})])},function(){var t=this,e=t._self._c;return e("div",[e("button",[t._v("last aded")]),e("img",{staticClass:"arroow aded",attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS_HHn9uGD0sPLHcGzdjI_WX8Au22ap-x1b1Q&usqp=CAU"}})])}];const Ke=Object(y["c"])("useCategoriesStore",{state:()=>({categories:[]}),actions:{async fetchCategories(){const t=await m.collection("catogries").get();this.categories=t.docs.map(t=>({id:t.id,...t.data()}))},async addCategory(t){await m.collection("catogries").add(t),this.fetchCategories()},async updateCategory(t){await m.collection("catogries").doc(t.id).update(t),this.fetchCategories()},async deleteCategory(t){await m.collection("catogries").doc(t).delete(),this.fetchCategories()},async uploadImage(t){const e=v.ref(),a=e.child("images/"+t.name);await a.put(t);const s=await a.getDownloadURL();return console.log("we got url from 'getDownloadURL' "),s},async deleteImageFromStorage(t){try{console.log(t);const e=v.refFromURL(t);await e.delete(),console.log("Image deleted from storage")}catch(e){throw console.error("Error deleting image from storage",e),new Error("Error deleting image from storage")}}}});var Xe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cont-categoryBox"},t._l(t.Categories,(function(t){return e("div",{key:t.id},[e("BoxCatogery",{attrs:{category:t}})],1)})),0)},Je=[],ta=function(){var t=this,e=t._self._c;return e("div",{staticClass:"contPro"},[e("div",{class:{"dark-mode":t.getDarkMode}},[e("div",[e("img",{attrs:{src:t.category.imgUrl||t.defaultImage,alt:"Category Image"}})]),e("div",[e("span",[t._v(" "+t._s(t.category.name)+" ")]),e("p",[t._v(t._s(t.category.desc))]),e("div",{staticClass:"cont-star"},t._l(5,(function(t){return e("img",{key:t,staticClass:"star",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg",alt:"star"}})})),0),e("span",[t._v(".....")]),e("router-link",{attrs:{to:{name:"EditCategory",params:{id:t.category.id}}}},[e("button",{staticClass:"edit"},[t._v("edit")])]),e("button",{staticClass:"delete",on:{click:function(e){return t.delette(t.category.id)}}},[t._v("delete")])],1)])])},ea=[],aa={name:"BoxCatogery",props:["category"],data(){return{defaultImage:a("05fb")}},computed:{getDarkMode(){return this.$store.state.darkMode}},created(){console.log(this.category)},methods:{...Object(y["d"])(Ke,["deleteCategory","deleteImageFromStorage"]),async delette(t){try{await this.deleteCategory(t),await this.deleteImageFromStorage(this.category.imgUrl),console.log("done"),Mt()({text:"Product deleted successfully",icon:"success"})}catch(e){console.error("Deletion failed",e),Mt()({text:"Error: "+e.message,icon:"error"})}}}},sa=aa,ra=(a("1769"),Object(l["a"])(sa,ta,ea,!1,null,"0c34c17b",null)),ia=ra.exports,oa={name:"CategoryList",props:["Categories"],components:{BoxCatogery:ia}},na=oa,la=(a("c6b3"),Object(l["a"])(na,Xe,Je,!1,null,"5df3e03c",null)),ca=la.exports,da=function(){var t=this,e=t._self._c;return e("div",{staticClass:"skeleton-box"},[e("VueSkeletonLoader",{staticClass:"image",attrs:{width:"100%",height:"200px",type:"rect",animation:"wave"}}),e("VueSkeletonLoader",{staticClass:"title",attrs:{width:"70%",height:"20px",type:"rect",animation:"wave"}}),e("VueSkeletonLoader",{staticClass:"description",attrs:{width:"90%",height:"15px",type:"rect",animation:"wave"}}),e("VueSkeletonLoader",{staticClass:"description",attrs:{width:"80%",height:"15px",type:"rect",animation:"wave"}})],1)},ua=[],pa={name:"BoxSkeletonLoader",components:{VueSkeletonLoader:Ot["a"]}},ha=pa,ma=(a("3e24"),Object(l["a"])(ha,da,ua,!1,null,"79e68b36",null)),fa=ma.exports,va={name:"Category",components:{CategoryList:ca,NoData:Xt,BoxSkeletonLoader:fa},data(){return{searchQuery:"",isLoading:!0}},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(Ke,["categories"]),filteredCategories(){const t=this.searchQuery.toLowerCase();return t?this.categories.filter(e=>e.name.toLowerCase().includes(t)):this.categories}},methods:{...Object(y["d"])(Ke,["fetchCategories"])},async created(){await this.fetchCategories(),this.isLoading=!1}},ga=va,ba=(a("5ddc"),Object(l["a"])(ga,Ze,Ye,!1,null,"6b7b86bd",null)),ya=ba.exports,_a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"addCategory"},[e("div",{staticClass:"addCategory__title"},[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("creat category")])]),e("div",{staticClass:"addCategory__allContent",class:{"dark-moode":t.getDarkMode}},[e("div",{staticClass:"allContent__title"},[e("h3",{class:{"dark-mode-title":t.getDarkMode}},[t._v("add category")])]),e("ValidationObserver",{ref:"observer",staticClass:"wraper-form",scopedSlots:t._u([{key:"default",fn:function({invalid:a}){return[e("form",{staticClass:"allContent__cont-form",on:{submit:function(e){return e.preventDefault(),t.creatNewCategory.apply(null,arguments)}}},[e("div",{staticClass:"allContent__cont-form__name"},[e("ValidationProvider",{attrs:{name:"الاسم الاول",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("fill name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.categoryName,expression:"categoryName"}],attrs:{type:"text",placeholder:"name category"},domProps:{value:t.categoryName},on:{input:function(e){e.target.composing||(t.categoryName=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"allContent__cont-form__description"},[e("ValidationProvider",{attrs:{name:"الوصف",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("description")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{type:"text",placeholder:"description category"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),e("p",{staticClass:"note"},[t._v("you will be able to edit it later.")]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"allContent__cont-form__image"},[e("label",[t._v(" imge")]),e("input",{staticClass:"filee",attrs:{id:"fileImage",type:"file"},on:{change:t.handleFileUpload}})]),e("div",{staticClass:"allContent__cont-form__Availability"},[e("label",{class:{"dark-mode-title":t.getDarkMode},attrs:{id:"IsService"}},[t._v("is service?")]),e("div",[e("ValidationProvider",{attrs:{name:"التصنيف",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.service,expression:"service"}],attrs:{type:"radio",id:"service",value:"1"},domProps:{checked:t._q(t.service,"1")},on:{change:function(e){t.service="1"}}}),e("label",{attrs:{for:"service"}},[t._v("yes")]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("ValidationProvider",{attrs:{name:"التصنيف",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.service,expression:"service"}],attrs:{type:"radio",id:"noService",value:"0"},domProps:{checked:t._q(t.service,"0")},on:{change:function(e){t.service="0"}}}),e("label",{attrs:{for:"noService"}},[t._v("No")]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),1==t.service?e("div",{staticClass:"allContent__cont-form__Availability"},[e("label",{class:{"dark-mode-title":t.getDarkMode},attrs:{id:"Availability"}},[t._v("Availability")]),e("div",[e("ValidationProvider",{attrs:{name:"تركيب",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.availability,expression:"availability"}],attrs:{type:"radio",id:"installation",value:"تركيب"},domProps:{checked:t._q(t.availability,"تركيب")},on:{change:function(e){t.availability="تركيب"}}}),e("label",{attrs:{for:"installation"}},[t._v("Installation")]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("ValidationProvider",{attrs:{name:"توريد",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.availability,expression:"availability"}],attrs:{type:"radio",id:"sale",value:"توريد"},domProps:{checked:t._q(t.availability,"توريد")},on:{change:function(e){t.availability="توريد"}}}),e("label",{attrs:{for:"sale"}},[t._v("Sale")]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("ValidationProvider",{attrs:{name:"تركيب وتوريد",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.availability,expression:"availability"}],attrs:{type:"radio",id:"both",value:"تركيب وتوريد"},domProps:{checked:t._q(t.availability,"تركيب وتوريد")},on:{change:function(e){t.availability="تركيب وتوريد"}}}),e("label",{attrs:{for:"both"}},[t._v("Both")]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]):t._e(),e("div",{staticClass:"allContent__cont-form__submit"},[e("router-link",{attrs:{to:"/dashboard/Category"}},[e("button",[t._v("cancle")])]),e("button",{staticClass:"creat",class:{"disabled-btn":a},attrs:{disabled:a}},[t._v(" creat ")])],1)])]}}])})],1),e("CircleLoader",{attrs:{show:t.isLoading}})],1)},Ca=[],wa=a("7bb1"),Ia=a("4c93"),Pa=function(){var t=this,e=t._self._c;return t.show?e("div",{staticClass:"circle-loader"},[t._m(0)]):t._e()},ka=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"lds-spinner"},[e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div")])}],xa={name:"CircleLoader",props:{show:{type:Boolean,default:!1}}},Da=xa,Oa=(a("d372"),Object(l["a"])(Da,Pa,ka,!1,null,"c2da2814",null)),Sa=Oa.exports;Object(wa["c"])("required",{...Ia["g"],message:"{_field_} مطلوب"});var Aa={name:"AddCatagory",components:{CircleLoader:Sa},data(){return{categoryName:"",description:"",imageUrl:"",service:null,file:null,availability:"تركيب وتوريد",isLoading:!1}},computed:{getDarkMode(){return this.$store.state.darkMode}},methods:{...Object(y["d"])(Ke,["addCategory","uploadImage"]),handleFileUpload(t){this.file=t.target.files[0]},async creatNewCategory(t){t.preventDefault();try{this.isLoading=!0;let t="";this.file&&(t=await this.uploadImage(this.file));const e={name:this.categoryName,desc:this.description,imgUrl:t,service:this.service,availability:this.availability};await this.addCategory(e),Mt()({text:"created",icon:"success"}),this.isLoading=!1}catch(e){Mt()({text:"uncreated",icon:"error"}),console.error(e),this.isLoading=!1}}}},Ba=Aa,Ta=(a("c628"),Object(l["a"])(Ba,_a,Ca,!1,null,"2e9b34bc",null)),Fa=Ta.exports,qa=function(){var t=this,e=t._self._c;return e("div",{staticClass:"addCategory"},[e("div",{staticClass:"addCategory__title"},[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("update category")])]),e("div",{staticClass:"addCategory__allContent",class:{"dark-moode":t.getDarkMode}},[e("div",{staticClass:"allContent__title"},[e("h3",{class:{"dark-mode-title":t.getDarkMode}},[t._v("update category")])]),e("ValidationObserver",{ref:"observer",staticClass:"wraper-form",scopedSlots:t._u([{key:"default",fn:function({invalid:a}){return[e("form",{staticClass:"allContent__cont-form",on:{submit:function(e){return e.preventDefault(),t.updateCategoryItem.apply(null,arguments)}}},[e("div",{staticClass:"allContent__cont-form__name"},[e("ValidationProvider",{attrs:{name:"الاسم الاول",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("fill name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.categoryName,expression:"categoryName"}],attrs:{type:"text",placeholder:"name category"},domProps:{value:t.categoryName},on:{input:function(e){e.target.composing||(t.categoryName=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"allContent__cont-form__description"},[e("ValidationProvider",{attrs:{name:"الوصف",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("description")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{type:"text",placeholder:"description category"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),e("p",{staticClass:"note"},[t._v("you will be able to edit it later.")]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"allContent__cont-form__image"},[e("label",[t._v(" imge")]),e("input",{staticClass:"filee",attrs:{id:"fileImage",type:"file"},on:{change:t.handleFileUpload}})]),e("div",{staticClass:"allContent__cont-form__Availability"},[e("label",{class:{"dark-mode-title":t.getDarkMode},attrs:{id:"IsService"}},[t._v("is service?")]),e("div",[e("ValidationProvider",{attrs:{name:"التصنيف",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.service,expression:"service"}],attrs:{type:"radio",id:"service",value:"1"},domProps:{checked:t._q(t.service,"1")},on:{change:function(e){t.service="1"}}}),e("label",{attrs:{for:"service"}},[t._v("yes")]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("ValidationProvider",{attrs:{name:"التصنيف",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.service,expression:"service"}],attrs:{type:"radio",id:"noService",value:"0"},domProps:{checked:t._q(t.service,"0")},on:{change:function(e){t.service="0"}}}),e("label",{attrs:{for:"noService"}},[t._v("No")]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),1==t.service?e("div",{staticClass:"allContent__cont-form__Availability"},[e("label",{class:{"dark-mode-title":t.getDarkMode},attrs:{id:"Availability"}},[t._v("Availability")]),e("div",[e("ValidationProvider",{attrs:{name:"تركيب",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.availability,expression:"availability"}],attrs:{type:"radio",id:"installation",value:"تركيب"},domProps:{checked:t._q(t.availability,"تركيب")},on:{change:function(e){t.availability="تركيب"}}}),e("label",{attrs:{for:"installation"}},[t._v("Installation")]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("ValidationProvider",{attrs:{name:"توريد",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.availability,expression:"availability"}],attrs:{type:"radio",id:"sale",value:"توريد"},domProps:{checked:t._q(t.availability,"توريد")},on:{change:function(e){t.availability="توريد"}}}),e("label",{attrs:{for:"sale"}},[t._v("Sale")]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("ValidationProvider",{attrs:{name:"تركيب وتوريد",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.availability,expression:"availability"}],attrs:{type:"radio",id:"both",value:"تركيب وتوريد"},domProps:{checked:t._q(t.availability,"تركيب وتوريد")},on:{change:function(e){t.availability="تركيب وتوريد"}}}),e("label",{attrs:{for:"both"}},[t._v("Both")]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]):t._e(),e("div",{staticClass:"allContent__cont-form__submit"},[e("router-link",{attrs:{to:"/dashboard/Category"}},[e("button",[t._v("cancle")])]),e("button",{staticClass:"creat",class:{"disabled-btn":a},attrs:{disabled:a}},[t._v(" creat ")])],1)])]}}])})],1),e("CircleLoader",{attrs:{show:t.isLoading}})],1)},La=[];Object(wa["c"])("required",{...Ia["g"],message:"{_field_} مطلوب"});var Na={name:"AddCatagory",props:["category"],components:{CircleLoader:Sa},data(){return{categoryName:"",description:"",imageUrl:"",id:null,file:null,service:null,availability:null,isLoading:!1}},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(Ke,["categories"])},methods:{...Object(y["d"])(Ke,["updateCategory","uploadImage","deleteImageFromStorage"]),handleFileUpload(t){this.file=t.target.files[0]},async updateCategoryItem(t){t.preventDefault();try{this.isLoading=!0;let t="";this.file&&(await this.deleteImageFromStorage(this.imageUrl),t=await this.uploadImage(this.file));const e={name:this.categoryName,desc:this.description,id:this.id,availability:this.availability,service:this.service};this.file&&(e.imgUrl=t),await this.updateCategory(e),Mt()({text:"updated",icon:"success"}),this.isLoading=!1}catch(e){Mt()({text:"unupdated",icon:"error"}),console.error(e),this.isLoading=!1}}},mounted(){this.id=this.$route.params.id;const t=this.categories.find(t=>t.id===this.id);t&&(this.categoryName=t.name,this.description=t.desc,this.imageUrl=t.imgUrl,this.service=null|t.service,this.availability=t.availability,console.log(this.service),console.log(t.availability))}},ja=Na,Ma=(a("860a"),Object(l["a"])(ja,qa,La,!1,null,"24c86dca",null)),Ua=Ma.exports,Ea=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page product"},[e("div",{staticClass:"title"},[e("div",[e("div",[e("Breadcrumb",{attrs:{breadcrumbs:t.breadcrumbs}})],1),e("div",[e("div",[t._m(0),e("router-link",{attrs:{to:"/dashboard/AddNewProduct"}},[e("button",{staticClass:"add"},[t._v("+ add product")])])],1)])]),e("div",{staticClass:"filter_by_search",class:{"dark-mode-box":t.getDarkMode}},[e("div",{},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],class:{"dark-mode-search":t.getDarkMode},attrs:{placeholder:"search",type:"search"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedFilter,expression:"selectedFilter"}],staticClass:"filter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedFilter=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"name"}},[t._v("title")]),e("option",{attrs:{value:"priceMaterial"}},[t._v("priceMaterial")]),e("option",{attrs:{value:"priceWithLabor"}},[t._v("priceWithLabor")])])]),e("div",{class:{"dark-mode-box":t.getDarkMode}},[e("div",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedCategory,expression:"selectedCategory"}],staticClass:"filter productsFilter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedCategory=e.target.multiple?a:a[0]}}},[e("option",[t._v("all")]),t._l(t.categories,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])}))],2)]),t._m(1)])])]),e("div",{staticClass:"allContent",class:{"dark-mode-box":t.getDarkMode}},[t.isLoading?e("div",t._l(6,(function(t){return e("BoxSkeletonLoader",{key:t})})),1):t._e(),t.isLoading?t._e():e("div",[e("ProductList",{attrs:{products:t.getProduct}})],1),0==t.getProduct.length?e("NoData",{attrs:{context:"products"}}):t._e()],1)])},Ra=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"export"},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmvEXj1Sr-tzeKuEP9PgzajIUDvR_-L-zfkg&usqp=CAU"}}),e("button",[t._v("export")])])},function(){var t=this,e=t._self._c;return e("div",[e("button",[t._v("last aded")]),e("img",{staticClass:"arroow aded",attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS_HHn9uGD0sPLHcGzdjI_WX8Au22ap-x1b1Q&usqp=CAU"}})])}];const Qa=Object(y["c"])("useProductsStore",{state:()=>({products:[]}),actions:{async fetchProducts(){const t=await m.collection("products").get();this.products=t.docs.map(t=>({id:t.id,...t.data()}))},async addProduct(t){const e=await m.collection("products").add(t);return this.fetchProducts(),e.id},async updateProduct(t){await m.collection("products").doc(t.id).update(t),this.fetchProducts()},async deleteProduct(t){await m.collection("products").doc(t).delete(),this.fetchProducts()},async uploadImage(t){const e=v.ref(),a=e.child(`images/${(new Date).getTime()}.jpg`),s=await a.putString(t,"data_url");return await s.ref.getDownloadURL()},async deleteImageFromStorage(t){try{const e=v.refFromURL(t);await e.delete(),console.log("Image deleted from storage")}catch(e){throw console.error("Error deleting image from storage",e),new Error("Error deleting image from storage")}}}});var Va=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cont-ProductsBox"},t._l(t.products,(function(t){return e("div",{key:t.id},[e("BoxProduct",{attrs:{oneProduct:t}})],1)})),0)},Ha=[],Ga=function(){var t=this,e=t._self._c;return e("div",{staticClass:"contPro"},[e("div",{class:{"dark-mode":t.getDarkMode}},[e("div",[e("img",{attrs:{src:t.oneProduct.imageUrl||t.defaultImage,alt:"Product Image"}})]),e("div",[e("span",[t._v(" "+t._s(t._f("subName")(t.oneProduct.name)))]),e("p",{staticClass:"descrption"},[t._v(t._s(t._f("sub")(t.oneProduct.description)))]),e("div",{staticClass:"cont-star"},t._l(5,(function(t){return e("img",{key:t,staticClass:"star",attrs:{src:"https://img.freepik.com/free-vector/start_53876-25533.jpg",alt:"star"}})})),0),e("span",[t._v(t._s(t.oneProduct.priceMaterial)+" : سعرال"+t._s(t.oneProduct.unitName.name))]),t.oneProduct.priceWithLabor?e("span",[t._v(t._s(t.oneProduct.priceWithLabor)+" : مصنعية")]):t._e(),e("router-link",{attrs:{to:{name:"EditProduct",params:{id:t.oneProduct.id}}}},[e("button",{staticClass:"edit"},[t._v("edit")])]),e("button",{staticClass:"delete",on:{click:function(e){return t.delette(t.oneProduct.id)}}},[t._v("delete")])],1)])])},Wa=[],za={name:"BoxProduct",props:["oneProduct"],data(){return{defaultImage:a("05fb")}},computed:{getDarkMode(){return this.$store.state.darkMode}},methods:{...Object(y["d"])(Qa,["deleteProduct","deleteImageFromStorage"]),async delette(t){try{await this.deleteProduct(t),console.log("Product deleted from database"),await this.deleteImageFromStorage(this.oneProduct.imageUrl),console.log("Product image deleted from storage"),Mt()({text:"Product deleted successfully",icon:"success"})}catch(e){console.error("Deletion failed",e),Mt()({text:"Error: "+e.message,icon:"error"})}}}},$a=za,Za=(a("7de5"),Object(l["a"])($a,Ga,Wa,!1,null,"16e8f08c",null)),Ya=Za.exports,Ka={name:"ProductList",props:["products"],components:{BoxProduct:Ya}},Xa=Ka,Ja=(a("0580"),Object(l["a"])(Xa,Va,Ha,!1,null,"2b7dc6e8",null)),ts=Ja.exports,es=function(){var t=this,e=t._self._c;return e("nav",{staticClass:"breadcrumb"},[e("ul",[e("li",{staticClass:"icon"},[e("font-awesome-icon",{attrs:{icon:"fa-solid fa-home"}})],1),t._l(t.breadcrumbs,(function(a,s){return e("li",{key:s},[s!==t.breadcrumbs.length-1?e("span",[e("router-link",{attrs:{to:a.link}},[t._v(t._s(a.label))]),e("span",{staticClass:"separator"},[t._v("»")])],1):e("span",{staticClass:"current"},[t._v(t._s(a.label))])])}))],2)])},as=[],ss={name:"Breadcrumb",props:{breadcrumbs:{type:Array,required:!0,default:()=>[]}}},rs=ss,is=(a("74bb"),Object(l["a"])(rs,es,as,!1,null,"44e28485",null)),os=is.exports,ns={name:"Product",components:{NoData:Xt,BoxSkeletonLoader:fa,ProductList:ts,Breadcrumb:os},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(Qa,["products"]),...Object(y["e"])(Ke,["categories"]),getProduct(){let t=this.products;return"all"!==this.selectedCategory&&(t=t.filter(t=>t.categoryId===this.selectedCategory)),this.searchQuery&&(t=t.filter(t=>{const e=t[this.selectedFilter].toString().toLowerCase();return e.includes(this.searchQuery.toLowerCase())})),t}},async created(){await this.fetchProducts(),this.isLoading=!1,this.fetchCategories()},methods:{...Object(y["d"])(Qa,["fetchProducts"]),...Object(y["d"])(Ke,["fetchCategories"]),loaderToggle:function(t){let e=document.getElementById("loader");e.style.visibility=t?"visible":"hidden"},showScrollUp:function(){let t=document.getElementById("scrollUp");window.onscroll=function(){scrollY>=500?t.style.visibility="visible":t.style.visibility="hidden"}}},data(){return{searchQuery:"",selectedCategory:"all",selectedFilter:"name",isLoading:!0,breadcrumbs:[{label:"Dashboard",link:"/dashboard"},{label:"Products",link:"/dashboard/Product"}]}}},ls=ns,cs=(a("d281"),Object(l["a"])(ls,Ea,Ra,!1,null,"4812221c",null)),ds=cs.exports,us=function(){var t=this,e=t._self._c;return e("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function({invalid:a}){return[e("div",{staticClass:"addProduct"},[e("div",{staticClass:"create_title"},[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("create product")])]),e("div",{staticClass:"allContentt",class:{"dark-moode":t.getDarkMode}},[e("form",{staticClass:"cont-form",on:{submit:function(e){return e.preventDefault(),t.creatNewProduct.apply(null,arguments)}}},[e("div",{staticClass:"name"},[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("product title")]),e("ValidationProvider",{attrs:{name:"Product Title",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.productTitle,expression:"productTitle"}],attrs:{type:"text",placeholder:"title product"},domProps:{value:t.productTitle},on:{input:function(e){e.target.composing||(t.productTitle=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"description"},[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("description")]),e("ValidationProvider",{attrs:{name:"Description",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{type:"text",placeholder:"description product"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)}),e("p",{staticClass:"note"},[t._v("you will be able to edit it later.")])],1),e("div",{staticClass:"imgeCont"},[e("ValidationProvider",{attrs:{name:"Image",rules:"required|image"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{attrs:{id:"inputField",type:"file"},on:{change:function(e){return e.preventDefault(),t.pushOnArray()}}}),e("span",[t._v(t._s(a[0]))])]}}],null,!0)}),e("div",{staticClass:"uploadCont uploadContImge"},[e("img",{staticClass:"upload",attrs:{id:"up",src:t.imageUrl[0]}})]),e("div",{staticClass:"uploadCont uploadContImge"},[e("img",{staticClass:"upload",attrs:{id:"up",src:t.imageUrl[1]}})]),e("div",{staticClass:"uploadCont uploadContImge"},[e("img",{staticClass:"upload",attrs:{id:"up",src:t.imageUrl[2]}})]),e("div",{staticClass:"uploadCont uploadImge",attrs:{id:"btn"},on:{click:function(e){return e.preventDefault(),t.uploadFile()}}},[e("img",{staticClass:"upload",attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRbQN9NvIcWwtddjv-IerO_kox9AJ0cCFU2Ew&usqp=CAU"}}),e("span",{staticClass:"upUnderImge"},[t._v("upload")])])],1),e("div",{staticClass:"tags"},[e("label",[t._v("tags")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tags,expression:"tags"}],attrs:{type:"text",placeholder:"enter tags"},domProps:{value:t.tags},on:{input:function(e){e.target.composing||(t.tags=e.target.value)}}})]),e("div",{staticClass:"contCatoSup"},[e("div",{staticClass:"cato"},[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("category")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedCategoryId,expression:"selectedCategoryId"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedCategoryId=e.target.multiple?a:a[0]}}},t._l(t.categories,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),0)]),e("div",{staticClass:"cato"},[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("unit")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedUnitId,expression:"selectedUnitId"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedUnitId=e.target.multiple?a:a[0]},t.fetchUnitName]}},t._l(t.units,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),0)])]),e("div",{staticClass:"contPrice"},[e("div",{staticClass:"price"},[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("price Material (sell)")]),e("ValidationProvider",{attrs:{name:"Price Material",rules:"required|double:1|min_value:0"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.priceMaterial,expression:"priceMaterial"}],attrs:{placeholder:"type here",type:"text"},domProps:{value:t.priceMaterial},on:{input:function(e){e.target.composing||(t.priceMaterial=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)}),e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v(" discount ")]),e("ValidationProvider",{attrs:{name:"Price With Labor",rules:"required|double:1|min_value:0"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.valueDiscountOnBuy,expression:"valueDiscountOnBuy"}],staticClass:"valueDiscount discount",attrs:{placeholder:"type here",type:"text"},domProps:{value:t.valueDiscountOnBuy},on:{input:function(e){e.target.composing||(t.valueDiscountOnBuy=e.target.value)}}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.kindDiscount,expression:"kindDiscount"}],staticClass:"kindDiscount discount",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.kindDiscount=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"fixed"}},[t._v("ثابت")]),e("option",{attrs:{value:"percentage"}},[t._v("نسبة")])]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)}),e("label",{staticClass:"branch-label",class:{"dark-mode-title":t.getDarkMode}},[t._v(" quantity - branch")]),e("ValidationProvider",{attrs:{name:"branch",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.quantityInBranch,expression:"quantityInBranch"}],staticClass:"branch",attrs:{placeholder:"type here",type:"text"},domProps:{value:t.quantityInBranch},on:{input:function(e){e.target.composing||(t.quantityInBranch=e.target.value)}}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.brancheId,expression:"brancheId"}],staticClass:"branch",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.brancheId=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"noChoose"}},[t._v("غير محدد")]),t._l(t.branches,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.nameBranch)+" ")])}))],2),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"price offer"},[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("offer price (optionally)")]),e("ValidationProvider",{attrs:{name:"Offer Price",rules:"double:1|min_value:0"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.offerPrice,expression:"offerPrice"}],attrs:{placeholder:"type here",type:"text"},domProps:{value:t.offerPrice},on:{input:function(e){e.target.composing||(t.offerPrice=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)}),e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("buy price ")]),e("ValidationProvider",{attrs:{name:"buy Price",rules:"double:1|min_value:0"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.buyPrice,expression:"buyPrice"}],attrs:{placeholder:"type here",type:"text"},domProps:{value:t.buyPrice},on:{input:function(e){e.target.composing||(t.buyPrice=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)}),e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("price With Labor ")]),e("ValidationProvider",{attrs:{name:"Price With Labor",rules:"required|double:1|min_value:0"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.priceWithLabor,expression:"priceWithLabor"}],attrs:{placeholder:"type here",type:"text"},domProps:{value:t.priceWithLabor},on:{input:function(e){e.target.composing||(t.priceWithLabor=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"puplish-allCont"},[e("div",{staticClass:"price-options"}),e("div",{staticClass:"display-options"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.displayOnSite,expression:"displayOnSite"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.displayOnSite)?t._i(t.displayOnSite,null)>-1:t.displayOnSite},on:{change:function(e){var a=t.displayOnSite,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&(t.displayOnSite=a.concat([i])):o>-1&&(t.displayOnSite=a.slice(0,o).concat(a.slice(o+1)))}else t.displayOnSite=r}}}),t._v(" Display Product on Site ")])])]),t.displayOnSite?e("div",{staticClass:"puplish-allCont",staticStyle:{"margin-left":"10px"}},[e("div",{staticClass:"price-options"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.showLaborPrice,expression:"showLaborPrice"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.showLaborPrice)?t._i(t.showLaborPrice,null)>-1:t.showLaborPrice},on:{change:function(e){var a=t.showLaborPrice,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&(t.showLaborPrice=a.concat([i])):o>-1&&(t.showLaborPrice=a.slice(0,o).concat(a.slice(o+1)))}else t.showLaborPrice=r}}}),t._v(" Show Labor Price ")])]),e("div",{staticClass:"display-options"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.showMatrialPrice,expression:"showMatrialPrice"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.showMatrialPrice)?t._i(t.showMatrialPrice,null)>-1:t.showMatrialPrice},on:{change:function(e){var a=t.showMatrialPrice,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&(t.showMatrialPrice=a.concat([i])):o>-1&&(t.showMatrialPrice=a.slice(0,o).concat(a.slice(o+1)))}else t.showMatrialPrice=r}}}),t._v(" Show Material price ")])])]):t._e(),e("div",{staticClass:"submit_cont"},[e("button",{staticClass:"submit",class:{"disabled-btn":a},attrs:{disabled:a},on:{click:t.creatNewProduct}},[t._v(" submit item ")])])])]),e("CircleLoader",{attrs:{show:t.isLoading}})],1)]}}])})},ps=[];const hs=Object(y["c"])("useUnitsStore",{state:()=>({units:[]}),actions:{async fetchUnits(){const t=await m.collection("units").get();this.units=t.docs.map(t=>({id:t.id,...t.data()})),console.log(this.units),console.log(this.units[0])},async addUnit(t){await m.collection("units").add(t),this.fetchUnits()},async updateUnit(t){await m.collection("units").doc(t.id).update(t),this.fetchUnits()},async deleteUnit(t){await m.collection("units").doc(t).delete(),this.fetchUnits()}}});Object(wa["c"])("required",{...Ia["g"],message:"{_field_} is required to create a product."}),Object(wa["c"])("double",{...Ia["b"],message:"{_field_} must be a number."}),Object(wa["c"])("min_value",{...Ia["e"],message:"{_field_} must be at least {min}."}),Object(wa["c"])("image",{...Ia["d"],message:"{_field_} must be a valid image file."});var ms={name:"AddNewProduct",components:{CircleLoader:Sa},data(){return{productTitle:"",description:"",imageUrl:[],tags:"",priceMaterial:"",priceWithLabor:"",offerPrice:"",buyPrice:"",valueDiscountOnBuy:0,kindDiscount:"fixed",brancheId:"noChoose",quantityInBranch:0,showLaborPrice:!1,showMatrialPrice:!0,displayOnSite:!1,selectedCategoryId:"",selectedUnitId:"",unitName:"",isLoading:!1}},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(Ke,["categories"]),...Object(y["e"])(hs,["units"]),...Object(y["e"])(ie,["branches"])},async created(){await this.fetchCategories(),this.selectedCategoryId=this.categories[0].id,await this.fetchUnits(),this.selectedUnitId=this.units[0].id,this.unitName=this.units[0],await this.fetchBranches(),console.log("brancheId",this.brancheId)},methods:{...Object(y["d"])(Qa,["addProduct","uploadImage"]),...Object(y["d"])(Ke,["fetchCategories"]),...Object(y["d"])(hs,["fetchUnits"]),...Object(y["d"])(ie,["fetchBranches","updateBranch","fetchBranchById"]),fetchUnitName(){const t=this.units.find(t=>t.id===this.selectedUnitId);t&&(this.unitName=t)},pushOnArray:function(){const t=event.target.files[0];if(t){const e=new FileReader;e.onload=t=>{const e=t.target.result;this.imageUrl.push(e)},e.readAsDataURL(t)}},uploadFile(){document.getElementById("inputField").click()},async addToBranch(t){if("noChoose"!==this.brancheId){const e=await this.fetchBranchById(this.brancheId);e.products.push({id:t,name:this.productTitle,quantity:this.quantityInBranch,alert:0}),await this.updateBranch({products:e.products,id:e.id})}},async creatNewProduct(t){t.preventDefault();try{this.isLoading=!0;var e="";this.imageUrl.length>0&&(console.log(this.imageUrl[0]),e=await this.uploadImage(this.imageUrl[0]),console.log(e));let t={name:this.productTitle,description:this.description,priceMaterial:parseFloat(this.priceMaterial),priceWithLabor:parseFloat(this.priceWithLabor),offerPrice:parseFloat(this.offerPrice),buyPrice:parseFloat(this.buyPrice),valueDiscountOnBuy:parseFloat(this.valueDiscountOnBuy),kindDiscount:this.kindDiscount,categoryId:this.selectedCategoryId,unitId:this.selectedUnitId,unitName:this.unitName,imageUrl:e,showLaborPrice:this.showLaborPrice,showMatrialPrice:this.showMatrialPrice,displayOnSite:this.displayOnSite};const a=await this.addProduct(t);this.addToBranch(a),Mt()({text:"created",icon:"success"}),this.isLoading=!1}catch(a){Mt()({text:"uncreated",icon:"error"}),console.log(a),this.isLoading=!1}}}},fs=ms,vs=(a("94e4"),Object(l["a"])(fs,us,ps,!1,null,"556c6d24",null)),gs=vs.exports,bs=function(){var t=this,e=t._self._c;return e("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function({invalid:a}){return[e("div",{staticClass:"editProduct"},[e("div",{staticClass:"create_title"},[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("update product")])]),e("div",{staticClass:"allContentt",class:{"dark-moode":t.getDarkMode}},[e("form",{staticClass:"cont-form",on:{submit:function(e){return e.preventDefault(),t.creatNewProduct.apply(null,arguments)}}},[e("div",{staticClass:"name"},[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("product title")]),e("ValidationProvider",{attrs:{name:"Product Title",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.productTitle,expression:"productTitle"}],attrs:{type:"text",placeholder:"title product"},domProps:{value:t.productTitle},on:{input:function(e){e.target.composing||(t.productTitle=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"description"},[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("description")]),e("ValidationProvider",{attrs:{name:"Description",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{type:"text",placeholder:"description product"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)}),e("p",{staticClass:"note"},[t._v("you will be able to edit it later.")])],1),e("div",{staticClass:"imgeCont"},[e("ValidationProvider",{attrs:{name:"Image",rules:"required|image"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{attrs:{id:"inputField",type:"file"},on:{change:function(e){return e.preventDefault(),t.pushOnArray()}}}),e("span",[t._v(t._s(a[0]))])]}}],null,!0)}),e("div",{staticClass:"uploadCont uploadContImge"},[e("img",{staticClass:"upload",attrs:{id:"up",src:t.imageUrl[0]}})]),e("div",{staticClass:"uploadCont uploadContImge"},[e("img",{staticClass:"upload",attrs:{id:"up",src:t.imageUrl[1]}})]),e("div",{staticClass:"uploadCont uploadContImge"},[e("img",{staticClass:"upload",attrs:{id:"up",src:t.imageUrl[2]}})]),e("div",{staticClass:"uploadCont uploadImge",attrs:{id:"btn"},on:{click:function(e){return e.preventDefault(),t.uploadFile()}}},[e("img",{staticClass:"upload",attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRbQN9NvIcWwtddjv-IerO_kox9AJ0cCFU2Ew&usqp=CAU"}}),e("span",{staticClass:"upUnderImge"},[t._v("upload")])])],1),e("div",{staticClass:"tags"},[e("label",[t._v("tags")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tags,expression:"tags"}],attrs:{type:"text",placeholder:"enter tags"},domProps:{value:t.tags},on:{input:function(e){e.target.composing||(t.tags=e.target.value)}}})]),e("div",{staticClass:"contCatoSup"},[e("div",{staticClass:"cato"},[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("category")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedCategoryId,expression:"selectedCategoryId"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedCategoryId=e.target.multiple?a:a[0]}}},t._l(t.categories,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),0)]),e("div",{staticClass:"cato"},[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("unit")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedUnitId,expression:"selectedUnitId"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedUnitId=e.target.multiple?a:a[0]},t.fetchUnitName]}},t._l(t.units,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),0)])]),e("div",{staticClass:"contPrice"},[e("div",{staticClass:"price"},[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("price Material (sell)")]),e("ValidationProvider",{attrs:{name:"Price Material",rules:"required|double:1|min_value:0"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.priceMaterial,expression:"priceMaterial"}],attrs:{placeholder:"type here",type:"text"},domProps:{value:t.priceMaterial},on:{input:function(e){e.target.composing||(t.priceMaterial=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)}),e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("discount ")]),e("ValidationProvider",{attrs:{name:"Price With Labor",rules:"required|double:1|min_value:0"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.valueDiscountOnBuy,expression:"valueDiscountOnBuy"}],staticClass:"valueDiscount discount",attrs:{placeholder:"type here",type:"text"},domProps:{value:t.valueDiscountOnBuy},on:{input:function(e){e.target.composing||(t.valueDiscountOnBuy=e.target.value)}}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.kindDiscount,expression:"kindDiscount"}],staticClass:"kindDiscount discount",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.kindDiscount=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"fixed"}},[t._v("ثابت")]),e("option",{attrs:{value:"percentage"}},[t._v("نسبة")])]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"price offer"},[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("offer price (optionally)")]),e("ValidationProvider",{attrs:{name:"Offer Price",rules:"double:1|min_value:0"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.offerPrice,expression:"offerPrice"}],attrs:{placeholder:"type here",type:"text"},domProps:{value:t.offerPrice},on:{input:function(e){e.target.composing||(t.offerPrice=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)}),e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("buy price ")]),e("ValidationProvider",{attrs:{name:"buy Price",rules:"double:1|min_value:0"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.buyPrice,expression:"buyPrice"}],attrs:{placeholder:"type here",type:"text"},domProps:{value:t.buyPrice},on:{input:function(e){e.target.composing||(t.buyPrice=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)}),e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("price With Labor ")]),e("ValidationProvider",{attrs:{name:"Price With Labor",rules:"required|double:1|min_value:0"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.priceWithLabor,expression:"priceWithLabor"}],attrs:{placeholder:"type here",type:"text"},domProps:{value:t.priceWithLabor},on:{input:function(e){e.target.composing||(t.priceWithLabor=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"puplish-allCont"},[e("div",{staticClass:"price-options"}),e("div",{staticClass:"display-options check"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.displayOnSite,expression:"displayOnSite"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.displayOnSite)?t._i(t.displayOnSite,null)>-1:t.displayOnSite},on:{change:function(e){var a=t.displayOnSite,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&(t.displayOnSite=a.concat([i])):o>-1&&(t.displayOnSite=a.slice(0,o).concat(a.slice(o+1)))}else t.displayOnSite=r}}}),t._v(" Display Product on Site ")])])]),t.displayOnSite?e("div",{staticClass:"puplish-allCont",staticStyle:{"margin-left":"10px"}},[e("div",{staticClass:"price-options"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.showLaborPrice,expression:"showLaborPrice"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.showLaborPrice)?t._i(t.showLaborPrice,null)>-1:t.showLaborPrice},on:{change:function(e){var a=t.showLaborPrice,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&(t.showLaborPrice=a.concat([i])):o>-1&&(t.showLaborPrice=a.slice(0,o).concat(a.slice(o+1)))}else t.showLaborPrice=r}}}),t._v(" Show Labor Price ")])]),e("div",{staticClass:"display-options"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.showMatrialPrice,expression:"showMatrialPrice"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.showMatrialPrice)?t._i(t.showMatrialPrice,null)>-1:t.showMatrialPrice},on:{change:function(e){var a=t.showMatrialPrice,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&(t.showMatrialPrice=a.concat([i])):o>-1&&(t.showMatrialPrice=a.slice(0,o).concat(a.slice(o+1)))}else t.showMatrialPrice=r}}}),t._v(" Show Material price ")])])]):t._e(),e("div",{staticClass:"submit_cont"},[e("button",{staticClass:"submit",class:{"disabled-btn":a},attrs:{disabled:a}},[t._v(" submit item ")])])])]),e("CircleLoader",{attrs:{show:t.isLoading}})],1)]}}])})},ys=[];Object(wa["c"])("required",{...Ia["g"],message:"{_field_} is required to create a product."}),Object(wa["c"])("double",{...Ia["b"],message:"{_field_} must be a number."}),Object(wa["c"])("min_value",{...Ia["e"],message:"{_field_} must be at least {min}."}),Object(wa["c"])("image",{...Ia["d"],message:"{_field_} must be a valid image file."});var _s={name:"AddNewProduct",components:{CircleLoader:Sa},data(){return{productTitle:"",description:"",imageUrl:[],tags:"",priceMaterial:"",priceWithLabor:"",offerPrice:"",buyPrice:"",valueDiscountOnBuy:"",kindDiscount:"fixed",selectedCategoryId:"",selectedUnitId:"",unitName:"",id:null,clickedBeforeToUpload:!1,oldImageUrl:"",showLaborPrice:!1,showMatrialPrice:!0,displayOnSite:!1,isLoading:!1}},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(Qa,["products"]),...Object(y["e"])(Ke,["categories"]),...Object(y["e"])(hs,["units"])},async created(){await this.fetchCategories(),await this.fetchUnits(),this.id=this.$route.params.id,this.fetchDetails()},methods:{...Object(y["d"])(Qa,["updateProduct","deleteImageFromStorage","uploadImage"]),...Object(y["d"])(Ke,["fetchCategories"]),...Object(y["d"])(hs,["fetchUnits"]),fetchUnitName(){const t=this.units.find(t=>t.id===this.selectedUnitId);t&&(this.unitName=t)},fetchDetails(){const t=this.products.find(t=>t.id===this.id);t&&(this.productTitle=t.name,this.description=t.description,this.imageUrl[0]=t.imageUrl,this.oldImageUrl=t.imageUrl,this.priceMaterial=t.priceMaterial,this.priceWithLabor=t.priceWithLabor,this.offerPrice=t.offerPrice||0,this.buyPrice=t.buyPrice||0,this.valueDiscountOnBuy=t.valueDiscountOnBuy||0,this.kindDiscount=t.kindDiscount||"fixed",this.selectedCategoryId=t.categoryId,this.selectedUnitId=t.unitId,this.unitName=t.unitName,this.showLaborPrice=t.showLaborPrice||!1,this.showMatrialPrice=t.showMatrialPrice||!0,this.displayOnSite=t.displayOnSite||!1)},pushOnArray:function(){!1===this.clickedBeforeToUpload&&(this.imageUrl=[],this.clickedBeforeToUpload=!0);const t=event.target.files[0];if(t){const e=new FileReader;e.onload=t=>{const e=t.target.result;this.imageUrl.push(e)},e.readAsDataURL(t)}},uploadFile(){document.getElementById("inputField").click()},async creatNewProduct(t){t.preventDefault();try{let t;this.isLoading=!0,this.imageUrl.length>0&&this.imageUrl[0]!==this.oldImageUrl&&(await this.deleteImageFromStorage(this.oldImageUrl),t=await this.uploadImage(this.imageUrl[0]));let e={name:this.productTitle,description:this.description,priceMaterial:parseFloat(this.priceMaterial),priceWithLabor:parseFloat(this.priceWithLabor),offerPrice:parseFloat(this.offerPrice),buyPrice:parseFloat(this.buyPrice),valueDiscountOnBuy:parseFloat(this.valueDiscountOnBuy),kindDiscount:this.kindDiscount,categoryId:this.selectedCategoryId,unitId:this.selectedUnitId,unitName:this.unitName,showLaborPrice:this.showLaborPrice,showMatrialPrice:this.showMatrialPrice,displayOnSite:this.displayOnSite,id:this.id};this.imageUrl[0]!==this.oldImageUrl&&(e.imageUrl=t),await this.updateProduct(e),Mt()({text:"Product updated successfully",icon:"success"}),this.isLoading=!1}catch(e){Mt()({text:"Failed to update product",icon:"error"}),console.error(e),this.isLoading=!1}this.$router.push("/dashboard/Product")}}},Cs=_s,ws=(a("f8fd"),Object(l["a"])(Cs,bs,ys,!1,null,"666e62cc",null)),Is=ws.exports,Ps=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page units"},[e("div",{staticClass:"title--noFilterSearch"},[e("div",[e("div",{staticClass:"contTitle"},[t._m(0),e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("units grid")])]),e("div",[t._m(1),e("router-link",{attrs:{to:"/dashboard/AddUnit"}},[e("button",{staticClass:"add"},[t._v("+ add unit")])])],1)]),e("div",{class:{"dark-mode-box":t.getDarkMode}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],class:{"dark-mode-search":t.getDarkMode},attrs:{placeholder:"search",type:"search"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),e("div",{class:{"dark-mode-box":t.getDarkMode}},[t._m(2),t._m(3)])])]),e("div",{staticClass:"allContent",class:{"dark-mode-box":t.getDarkMode}},[t.isLoading?e("TableSkeleton",{attrs:{rows:5,columns:6}}):t.getUnits.length>0?e("unitList",{staticClass:"ListTable_cont",attrs:{units:t.getUnits}}):e("NoData",{attrs:{context:"units"}})],1)])},ks=[function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRfifgpU6f6DdemdITBpg_essXRVuwWFaTnhJgl9QGDvchprPgRpZFDLgAZhDRlBiYvEd8&usqp=CAU"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"export"},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmvEXj1Sr-tzeKuEP9PgzajIUDvR_-L-zfkg&usqp=CAU"}}),e("button",[t._v("export")])])},function(){var t=this,e=t._self._c;return e("div",[e("button",[t._v("units")]),e("img",{staticClass:"arroow point",attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJcAAACUCAMAAACp1UvlAAAAbFBMVEUjHyD///8AAAAgHB0fGhv39/cVDxEaFRYIAAD6+vodGBmLioqCgYERCgzt7e3w8PBZV1g9OzzJyclramopJSbS0tKcm5vZ2dlzcnLk5OSxsbEPDg5eXFy7u7tBQEBSUFGoqKgxLy+Tk5NJRkc4fOKtAAAFd0lEQVR4nM2c63arIBCFcVAwRkziJcYk5lLf/x2PxHiaKHiryuyfXavtt2CYARw2sabLyZKzv48vF8Y8mxIpSm3Oyh8com2eZM70v02m/mJwPu1jAS6vgBqymQvicN3mmzW5stDnAMxTIn3AcQFwOCa7dbhC/+aC3Y30Kw5sv82W5tqkWwAxGOqN5sLzMRJtHFce0eEj9T1qTz9diCs4x8B6QkovKuAeDl+gw7keBXhToSoxiMKZuZxyrP5IVZHdkzm5wuscVFKC+YPSxhCu7ARsHioi4+xyHBBmA7jyJ8xG9SKDa//S7OUK9tMyQ5cY9A5ZH1d+cOemkoJ7T57t5tr5c8V7U4w9pnMF93kj61M2/HTtNbq48ni+ZagQ3IJJXDnwJbEIcW/6danl2mxhci0cKg7auqTjKrGWpiJyW5uP43KiNbBkjj2P4XL8dbBKsIs6Xyi5nGiRZKoGAyWYimuz2mi9wC6qGFNxrYolR0yxKhVcj3WxylVJ2nmszXUWi+etpnjcquItrvSyUKXuktg39z1NruC2aE3UyfV7uFbMEF9qZosG13HtmK9l06SDK5l+bv2r2N3Rcu0KI8FVCXwt1yp7CK1EqOEK189cn+JFoORy9gZnUQp+lFzG1mIt6qUKrkB9U7qmxGnT5vKFaaxyJsMWV2oudf2K31pcpgrQt9y8wZWYDvpK/L775sIQXVKQf3GlZlPqr/jhi2vlLX2H3kuy4tphGa5yX1HlsIrrgWIxvkRp+p9rt1/45maMqipJECWJSjb/z+XjmUbyjvwXl40m6qWE/+YKMU0jIZ6835RcWyS5vpacSCJvnQ2csLskTyAlV4oq6km1IomB+5teQSa5TB832oKH5EI3XGWNLLlSfFx8vyMIw4vQOCXospeUG5LNFdFeohY8SHBDllWlhE/SGFXRrsTvBNXeq1Y5VDlGLnIhCNMEkVxbbFX7JUZOCNOX5MJ0FPqVR4rZu0nmECVPhOlLKjYNoBFWLqzCOl5YubCuxwNKLoo039skQnd6lOJo9xPGv6IpxdDuV5Fdyr3FSEoRJgrvRrIDwg0Yi4iD8rx9JNYJYQKDnFhHfAmM2inBdksu5RUBsRx8XCyS95gxugsd90dyme3KUQkSyYUvwOB1f48us4qo+j6ELYPJnmnJdcY1kfSZVVwBLi4Wbd7fRXF9iXm1vr+4cO0Nwam5UN2Vy9VY909g+uZRNZxUXIi+XfH97qM/544m8t8NyW8uNLXI5s4nF5rddN0rWvelnXHsWu1n1ugvPKAYMFG31v7nQpFbKQmaXM4VwZKEo9XkskLzuZUXuzaXdTI+k/D7wumDKzN9ABFXS8Vlusvws538+72C2WrkHi0NV8oNnkDE3dJxmZxJ20v1XNZKz0QVcr8fjja4gqehcgSR1cVlJWZeU7DC6eYy095kx80XkO33jwZayym0nrK2uTbX1Rel2376q3jH6hQrV/DP90wdXFZ2WDXvw0lhrKB8v509VwRTYmneuyfrgblXpaWIxh8ge64UY3BSO53o/BTS2ypgOiy9/0RQLJ8uqN5LRO/XESxew204av97l7+J7y5aKxnrcJHq9IM5L+lw4h66zK26/XOSYrG5hKjTEq/Hb2gXze+CJMXh0e3U1+vPlMcLJIx+56h+P6t0Nu+vWhy2vU5bQ/y/zrc5o8weYrM1zC8t8GczJqPgnoe43w30l8siMQsZxJ1uUaO5rE1Y/HnMbAGDTQxH+BeGkfhLybQh9oebPo7xe9yEEUxcm5QB+xlj+DjSHzM43mF81bSBRRofppm4ygqQnADE8FGj3AXvmI71YZ3kv5r7hRi0CqgAeh01f3/iKuczfUTepftaymbiecrTaWa6/wAPjj1FFbPtkAAAAABJRU5ErkJggg=="}})])},function(){var t=this,e=t._self._c;return e("div",[e("button",[t._v("last aded")]),e("img",{staticClass:"arroow aded",attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS_HHn9uGD0sPLHcGzdjI_WX8Au22ap-x1b1Q&usqp=CAU"}})])}],xs=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ListTable",class:{"dark-mode":t.getDarkMode}},[e("div",{staticClass:"unit__table"},[e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.units,(function(a,s){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.shorthand))]),e("td",[t._v(t._s(a.allowShorthand?"نعم":"لا"))]),e("td",{staticClass:"actions"},[e("DropdownMenu",{ref:"dropdownMenu",refInFor:!0,attrs:{unit:a},on:{closeOthers:function(e){return t.openDropdownHandel(s)}}})],1)])})),0)])])])},Ds=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("اسم الوحدة")]),e("th",[t._v("اختصار الوحدة")]),e("th",[t._v("السماح بالاختصار")]),e("th",[t._v("الخيارات")])])])}],Os=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dropdown"},[e("button",{staticClass:"dropbtn",on:{click:t.toggle}},[t._v(":")]),t.visible?e("div",{staticClass:"dropdown-content"},[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.editUnit(t.unit)}}},[e("span",[t._v("تعديل")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","edit"]}})],1),e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.delette(t.unit)}}},[e("span",[t._v("حذف")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","trash"]}})],1)]):t._e()])},Ss=[],As={emits:["closeOthers"],name:"DropdownMenu",props:{unit:Object},data(){return{visible:!1}},methods:{...Object(y["d"])(hs,["deleteUnit"]),toggle(){this.visible=!this.visible,this.visible&&this.$emit("closeOthers")},editUnit(t){this.$router.push({name:"EditUnit",params:{unitId:t.id}})},async delette(t){try{console.log(t.id),await this.deleteUnit(t.id),console.log("unit deleted from database"),Mt()({text:"unit deleted successfully",icon:"success"})}catch(e){console.error("Deletion failed",e),Mt()({text:"Error: "+e.message,icon:"error"})}},closeDropdown(){this.visible=!1},handleClickOutside(t){this.$el.contains(t.target)||this.closeDropdown()}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeDestroy(){document.removeEventListener("click",this.handleClickOutside)}},Bs=As,Ts=(a("7879"),Object(l["a"])(Bs,Os,Ss,!1,null,"7903e72a",null)),Fs=Ts.exports,qs={name:"ListTable",components:{DropdownMenu:Fs},props:["units"],data(){return{openDropdownProp:null}},computed:{getDarkMode(){return this.$store.state.darkMode}},methods:{openDropdownHandel(t){null!==this.openDropdownProp&&this.openDropdownProp!==t&&this.$refs.dropdownMenu[this.openDropdownProp].closeDropdown(),this.openDropdownProp=t}}},Ls=qs,Ns=(a("75a9"),Object(l["a"])(Ls,xs,Ds,!1,null,"23f2a9d7",null)),js=Ns.exports,Ms={name:"Units",components:{unitList:js,NoData:Xt,TableSkeleton:Tt},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(hs,["units"]),getUnits(){const t=this.searchQuery.toLowerCase();return t?this.units.filter(e=>e.name.toLowerCase().includes(t)):this.units}},methods:{...Object(y["d"])(hs,["fetchUnits"])},async created(){await this.fetchUnits(),this.isLoading=!1},data(){return{searchQuery:"",isLoading:!0}}},Us=Ms,Es=(a("c136"),Object(l["a"])(Us,Ps,ks,!1,null,"3bd22db1",null)),Rs=Es.exports,Qs=function(){var t=this,e=t._self._c;return e("div",{staticClass:"add"},[e("div",{staticClass:"add_title"},[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Create Units")])]),e("div",{staticClass:"add_allConten",class:{"dark-moode":t.getDarkMode}},[e("div",[e("h3",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Add Units")])]),e("ValidationObserver",{ref:"observer",staticClass:"wraper-form",scopedSlots:t._u([{key:"default",fn:function({invalid:a}){return[e("form",{staticClass:"add_allContent_cont-form add_allContent_cont-form--units",on:{submit:function(e){return e.preventDefault(),t.createNewUnit.apply(null,arguments)}}},[e("div",{staticClass:"cont-form_field Name"},[e("ValidationProvider",{attrs:{name:"اسمك الوحدة",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Unit Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"Enter unit name",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"cont-form_field"},[e("ValidationProvider",{attrs:{name:"الاختصار",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Shorthand")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.shorhandName,expression:"shorhandName"}],attrs:{type:"text",placeholder:"Enter Shorhand Name ",required:""},domProps:{value:t.shorhandName},on:{input:function(e){e.target.composing||(t.shorhandName=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"display-options"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isUseShorthand,expression:"isUseShorthand"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isUseShorthand)?t._i(t.isUseShorthand,null)>-1:t.isUseShorthand},on:{change:function(e){var a=t.isUseShorthand,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&(t.isUseShorthand=a.concat([i])):o>-1&&(t.isUseShorthand=a.slice(0,o).concat(a.slice(o+1)))}else t.isUseShorthand=r}}}),e("p",[t._v("allow to use shorthand")])])]),e("div",{staticClass:"cont-form_btn"},[e("router-link",{attrs:{to:"/dashboard/Units"}},[e("button",{attrs:{type:"button"}},[t._v("Cancel")])]),e("button",{staticClass:"create",class:{"disabled-btn":a},attrs:{disabled:a,type:"submit"}},[t._v(" Create ")])],1)])]}}])})],1)])},Vs=[];Object(wa["c"])("required",{...Ia["g"],message:"{_field_} مطلوب"});var Hs={name:"AddUnit",data(){return{name:"",shorhandName:"",isUseShorthand:!1}},computed:{getDarkMode(){return!1}},methods:{...Object(y["d"])(hs,["addUnit"]),async createNewUnit(){try{await this.addUnit({name:this.name,shorthand:this.shorhandName,allowShorthand:this.isUseShorthand}),Mt()({text:"unit craeted successfully",icon:"success"})}catch(t){console.error("Failed to create unit:",t)}}},created(){}},Gs=Hs,Ws=(a("290e"),Object(l["a"])(Gs,Qs,Vs,!1,null,"791a1bbc",null)),zs=Ws.exports,$s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"add"},[e("div",{staticClass:"add_title"},[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("update Unit")])]),e("div",{staticClass:"add_allConten",class:{"dark-moode":t.getDarkMode}},[e("div",[e("h3",{class:{"dark-mode-title":t.getDarkMode}},[t._v("update Units")])]),e("ValidationObserver",{ref:"observer",staticClass:"wraper-form",scopedSlots:t._u([{key:"default",fn:function({invalid:a}){return[e("form",{staticClass:"add_allContent_cont-form add_allContent_cont-form--units",on:{submit:function(e){return e.preventDefault(),t.updateSingleUnit.apply(null,arguments)}}},[e("div",{staticClass:"cont-form_field Name"},[e("ValidationProvider",{attrs:{name:"اسمك الوحدة",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Unit Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"Enter unit name",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"cont-form_field"},[e("ValidationProvider",{attrs:{name:"الاختصار",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Shorthand")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.shorhandName,expression:"shorhandName"}],attrs:{type:"text",placeholder:"Enter Shorhand Name ",required:""},domProps:{value:t.shorhandName},on:{input:function(e){e.target.composing||(t.shorhandName=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"display-options"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isUseShorthand,expression:"isUseShorthand"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isUseShorthand)?t._i(t.isUseShorthand,null)>-1:t.isUseShorthand},on:{change:function(e){var a=t.isUseShorthand,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&(t.isUseShorthand=a.concat([i])):o>-1&&(t.isUseShorthand=a.slice(0,o).concat(a.slice(o+1)))}else t.isUseShorthand=r}}}),e("p",[t._v("allow to use shorthand")])])]),e("div",{staticClass:"cont-form_btn"},[e("router-link",{attrs:{to:"/dashboard/Units"}},[e("button",{attrs:{type:"button"}},[t._v("Cancel")])]),e("button",{staticClass:"create",class:{"disabled-btn":a},attrs:{disabled:a,type:"submit"}},[t._v(" Create ")])],1)])]}}])})],1)])},Zs=[];Object(wa["c"])("required",{...Ia["g"],message:"{_field_} مطلوب"});var Ys={name:"AddUnit",data(){return{name:"",shorhandName:"",isUseShorthand:!1,id:""}},computed:{getDarkMode(){return!1},...Object(y["e"])(hs,["units"])},methods:{...Object(y["d"])(hs,["updateUnit","fetchUnits"]),fetchDetails(){console.log("details run"),console.log(this.id);const t=this.units.find(t=>t.id===this.id);t&&(this.name=t.name,this.shorhandName=t.shorthand,this.isUseShorthand=t.allowShorthand)},async updateSingleUnit(){try{await this.updateUnit({id:this.id,name:this.name,shorthand:this.shorhandName,allowShorthand:this.isUseShorthand}),Mt()({text:"unit updated successfully",icon:"success"})}catch(t){console.error("Failed to update unit:",t)}}},async created(){this.id=this.$route.params.unitId,await this.fetchUnits(),this.fetchDetails()}},Ks=Ys,Xs=(a("e32b"),Object(l["a"])(Ks,$s,Zs,!1,null,"3b3eec42",null)),Js=Xs.exports,tr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"addOrder"},[e("div",{staticClass:"title"},[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("create order")])]),e("div",{staticClass:"allContentt",class:{"dark-moode":t.getDarkMode}},[e("div",{staticClass:"formbold-main-wrapper"},[e("div",{staticClass:"formbold-form-wrapper"},[e("FormImage"),e("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function({invalid:a}){return[e("form",{on:{submit:function(e){return e.preventDefault(),t.creatNewOrder.apply(null,arguments)}}},[e("div",{staticClass:"formbold-input-flex"},[e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"customer"}},[t._v("اختر العميل")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedCustomer,expression:"selectedCustomer"}],staticClass:"formbold-form-input",attrs:{list:"customerList",placeholder:"ابحث عن عميل"},domProps:{value:t.selectedCustomer},on:{input:[function(e){e.target.composing||(t.selectedCustomer=e.target.value)},t.updateCustomerId]}}),e("datalist",{attrs:{id:"customerList"}},t._l(t.clientUsers,(function(t){return e("option",{key:t.id,domProps:{value:t.name}})})),0),t.unregisteredCustomerMessage?e("p",{staticClass:"warning-message"},[t._v(" "+t._s(t.unregisteredCustomerMessage)+" ")]):t._e()]),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"technical"}},[t._v(" :اختر الفنى ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedTechnical,expression:"selectedTechnical"}],staticClass:"formbold-form-input",attrs:{list:"technicalList",placeholder:"ابحث عن فنى"},domProps:{value:t.selectedTechnical},on:{input:[function(e){e.target.composing||(t.selectedTechnical=e.target.value)},t.updateTechnicalId]}}),e("datalist",{attrs:{id:"technicalList"}},t._l(t.technicalUsers,(function(t){return e("option",{key:t.id,domProps:{value:t.name}})})),0),t.unregisteredTechnicalMessage?e("p",{staticClass:"warning-message"},[t._v(" "+t._s(t.unregisteredTechnicalMessage)+" ")]):t._e()])]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"shipping"}},[t._v(" الشحن ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.shipping,expression:"shipping"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"shipping",placeholder:"الشحن "},domProps:{value:t.shipping},on:{input:function(e){e.target.composing||(t.shipping=e.target.value)}}})]),e("div",[e("ValidationProvider",{attrs:{name:"نوع الفاتورة",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label"},[t._v("نوع الفاتورة")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.invoiceType,expression:"invoiceType"}],staticClass:"formbold-form-input",attrs:{name:"occupation",id:"occupation"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.invoiceType=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"تركيب"}},[t._v("تركيب")]),e("option",{attrs:{value:"توريد"}},[t._v("توريد")]),e("option",{attrs:{value:"تركيب وتوريد"}},[t._v("تركيب وتوريد")])]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("ValidationProvider",{attrs:{name:"حالة الطلب",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"status"}},[t._v("حالة الطلب ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],staticClass:"formbold-form-input",attrs:{id:"status",placeholder:"حالة الطلب"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.status=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"0"}},[t._v("معلق")]),e("option",{attrs:{value:"1"}},[t._v("مؤكد")]),e("option",{attrs:{value:"3"}},[t._v("منتهى")])]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"addedOrders"}},[t._v("المنتجات المضافة الآن")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectProductForUpdateProp,expression:"selectProductForUpdateProp"}],staticClass:"formbold-form-input",attrs:{id:"addedOrders",placeholder:" اختر من المضافة المنتجات "},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectProductForUpdateProp=e.target.multiple?a:a[0]},t.selectProductForUpdate]}},t._l(t.addedOrders,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),0)])]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("ValidationProvider",{attrs:{name:"الكمية",rules:""+(0==t.addedOrders.length?"required|numeric|min_value:1":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"quantity"}},[t._v(" الكمية ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"quantity",placeholder:"الكمية"},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"product"}},[t._v(" المنتج ")]),e("ValidationProvider",{attrs:{name:"المنتج",rules:""+(0==t.addedOrders.length?"required":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedProduct,expression:"selectedProduct"}],staticClass:"formbold-form-input",attrs:{list:"propList",placeholder:" ابحث فى المنتجات"},domProps:{value:t.selectedProduct},on:{input:[function(e){e.target.composing||(t.selectedProduct=e.target.value)},t.updateProductId]}}),e("datalist",{attrs:{id:"propList"}},t._l(t.myAllProducts,(function(t){return e("option",{key:t.id,domProps:{value:t.name}})})),0),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"formbold-input-flex"},[e("div",{staticClass:"display-options"},[t.selectedProduct?e("label",[t._v(" سحب من المخزن "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.pullFromBranch,expression:"pullFromBranch"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.pullFromBranch)?t._i(t.pullFromBranch,null)>-1:t.pullFromBranch},on:{change:function(e){var a=t.pullFromBranch,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&(t.pullFromBranch=a.concat([i])):o>-1&&(t.pullFromBranch=a.slice(0,o).concat(a.slice(o+1)))}else t.pullFromBranch=r}}})]):t._e()]),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"priceOffer"}},[t._v(" الخصم ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.price_offer,expression:"price_offer"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"priceOffer",placeholder:"الخصم "},domProps:{value:t.price_offer},on:{input:function(e){e.target.composing||(t.price_offer=e.target.value)}}})])]),t.pullFromBranch?e("div",{staticClass:"formbold-input-flex"},[e("div",[e("ValidationProvider",{attrs:{name:"الكمية المتاحة"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"quantityInBranch"}},[t._v(" الكمية المتاحة ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.quantityInBranch,expression:"quantityInBranch"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"quantityInBranch",placeholder:"الكمية",readonly:""},domProps:{value:t.quantityInBranch},on:{input:function(e){e.target.composing||(t.quantityInBranch=e.target.value)}}}),t.aboutQuantityInBranchMessage?e("p",{staticClass:"warning-message"},[t._v(" "+t._s(t.aboutQuantityInBranchMessage)+" ")]):t._e(),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"branch"}},[t._v(" الفروع المتوفر بها ")]),e("ValidationProvider",{attrs:{name:"الفروع"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedBranch,expression:"selectedBranch"}],staticClass:"formbold-form-input",attrs:{list:"List",placeholder:" ابحث فى الفروع"},domProps:{value:t.selectedBranch},on:{input:[function(e){e.target.composing||(t.selectedBranch=e.target.value)},t.getProductFromBranch]}}),e("datalist",{attrs:{id:"List"}},t._l(t.getAllBranchesHasProduct,(function(t){return e("option",{key:t.id,domProps:{value:t.nameBranch}})})),0),0==t.getAllBranchesHasProduct.length?e("p",{staticClass:"warning-message"},[t._v(" غير متوفر فى اى فرع ")]):t._e(),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]):t._e(),e("div",{staticClass:"formbold-mb-3 cont_add_del_upda"},[e("button",{staticClass:"addProduct-btn",attrs:{disabled:!t.selectedProduct||!t.quantity},on:{click:function(e){return e.preventDefault(),t.addProduct.apply(null,arguments)}}},[t._v(" اضافة المنتج ")]),e("button",{staticClass:"updateProduct-btn",attrs:{disabled:!t.selectedProduct||!t.quantity},on:{click:function(e){return e.preventDefault(),t.updateProduct.apply(null,arguments)}}},[t._v(" تعديل المنتج ")]),e("button",{staticClass:"deleteProduct-btn",on:{click:function(e){return e.preventDefault(),t.deleteProduct.apply(null,arguments)}}},[t._v(" حذف ")]),e("button",{staticClass:"cancelChangeProduct-btn",on:{click:function(e){return e.preventDefault(),t.cancelChange.apply(null,arguments)}}},[t._v(" الغاء ")])]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("ValidationProvider",{attrs:{name:"رقم بطلب",rules:"numeric|min_value:1"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"numberOfOrders"}},[t._v(" رقم الطلب ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"numberOfOrders",placeholder:"رقم الطلب"},domProps:{value:t.number},on:{input:function(e){e.target.composing||(t.number=e.target.value)}}}),e("p",{staticClass:"info-message"},[t._v(" اتركه فارغا ليتم انشاء رقم الطلب اوتوماتيكلى ")]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"laborPrice"}},[t._v("حدد المصنعية يدويا ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.laborPrice,expression:"laborPrice"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"laborPrice",placeholder:"حدد المصنعية يدويا "},domProps:{value:t.laborPrice},on:{input:function(e){e.target.composing||(t.laborPrice=e.target.value)}}}),e("p",{staticClass:"info-message"},[t._v(" فى حالة لا يوجد منتج يتم حساب المصنعية من خلاله او اذا كنت تفضل حساب المصنعية يدويا ")])])]),e("div",{staticClass:"formbold-mb-3"},[e("ValidationProvider",{attrs:{name:"تاريخ بدا العمل",rules:"date_format:YYYY-MM-DD"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"dob"}},[t._v(" تاريخ بدا العمل ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],staticClass:"formbold-form-input",attrs:{type:"date",name:"dob",id:"dob"},domProps:{value:t.date},on:{input:function(e){e.target.composing||(t.date=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"formbold-mb-3"},[e("label",{staticClass:"formbold-form-label",attrs:{for:"address"}},[t._v(" مكان التركيب ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.adress,expression:"adress"}],staticClass:"formbold-form-input formbold-mb-3",attrs:{type:"text",id:"address",placeholder:"العنوان"},domProps:{value:t.adress},on:{input:function(e){e.target.composing||(t.adress=e.target.value)}}})]),e("div",{staticClass:"formbold-mb-3"},[e("label",{staticClass:"formbold-form-label",attrs:{for:"message"}},[t._v(" ملاحظات ")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.notes,expression:"notes"}],staticClass:"formbold-form-input",attrs:{rows:"6",id:"message"},domProps:{value:t.notes},on:{input:function(e){e.target.composing||(t.notes=e.target.value)}}})]),e("div",{staticClass:"formbold-form-file-flex"},[e("label",{staticClass:"formbold-form-label",attrs:{for:"upload"}},[t._v(" Upload disign ")]),e("input",{staticClass:"formbold-form-file",attrs:{type:"file",id:"upload"},on:{change:t.handleFileUpload}})]),e("button",{staticClass:"formbold-btn",class:{"disabled-btn":a},attrs:{disabled:a}},[t._v(" حفظ و إنشاء الفاتورة ")]),e("button",{staticClass:"formbold-btn",class:{"disabled-btn":a},attrs:{disabled:a},on:{click:function(e){return e.preventDefault(),t.createAndCustomizeInvoice.apply(null,arguments)}}},[t._v(" حفظ وتخصيص فاتورة ")])])]}}])})],1)])]),e("CircleLoader",{attrs:{show:t.isLoading}})],1)},er=[],ar=(a("9a9a"),function(){var t=this,e=t._self._c;return e("div",[e("svg",{staticClass:"formbold-img",attrs:{width:"490",height:"277",viewBox:"0 0 490 277",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M117.788 99.057L84.5945 102.957L88.3018 134.357L121.495 130.457L117.788 99.057Z",fill:"#2F2E41"}}),e("path",{attrs:{d:"M100.822 117.158C109.823 117.158 117.119 109.879 117.119 100.901C117.119 91.9228 109.823 84.6445 100.822 84.6445C91.8224 84.6445 84.5264 91.9228 84.5264 100.901C84.5264 109.879 91.8224 117.158 100.822 117.158Z",fill:"#FFB6B6"}}),e("path",{attrs:{d:"M90.0781 75.6872H90.0781C79.9229 78.4996 80.8686 82.276 77.7916 84.6556C72.3704 88.8479 71.2638 99.2447 75.1344 105.565C76.1686 107.254 78.1922 109.485 77.6602 112.214C77.2517 114.309 75.5278 115.719 75.2031 115.976C72.5456 118.078 74.1697 115.758 73.0488 117.386C71.8115 119.184 74.2981 121.226 73.2853 124.305C72.3875 127.034 69.8811 127.107 69.7511 128.772C69.5271 131.639 76.5603 136.524 83.2852 135.285C89.2729 134.182 93.1547 128.566 94.0901 123.597C94.7167 120.268 94.4982 114.695 91.5975 112.313C91.1906 111.979 90.0923 111.183 88.9712 109.727C88.0842 108.575 86.9163 107.059 87.3548 105.865C87.8219 104.594 89.6224 105.023 90.5864 103.749C91.8936 102.022 89.8131 99.6077 89.7775 96.8984C89.7174 92.3108 95.5106 86.1039 102.434 86.1501C110.288 86.2025 114.119 94.2657 114.521 95.1488C115.354 96.9792 115.559 98.8206 115.97 102.503C116.558 107.788 116.927 111.101 115.668 114.694C113.857 119.862 110.753 119.692 110.317 123.426C109.637 129.25 116.654 134.194 117.455 134.743C123.392 138.817 131.687 139.277 132.807 136.991C133.815 134.931 128.043 132.59 127.52 126.615C127.066 121.437 131.067 119.372 129.74 115.935C128.281 112.152 123.053 113.668 120.28 109.522C117.691 105.652 121.296 102.912 119.672 94.5437C119.328 92.7734 118.161 87.7141 114.25 83.0253C112.527 80.9596 110.775 78.8587 107.853 77.9887C104.582 77.0146 95.45 74.1995 90.0782 75.6872L90.0781 75.6872L90.0781 75.6872Z",fill:"#2F2E41"}}),e("path",{attrs:{d:"M84.896 90.7656C85.7332 94.2515 91.2594 95.3588 93.5822 95.5333C94.5659 95.6072 97.8903 95.8569 100.955 94.0883C102.087 93.4345 102.467 92.919 103.681 92.6102C105.325 92.1922 106.241 92.727 108.967 93.1469C111.997 93.6137 113.513 93.8472 114.185 93.1126C115.283 91.9118 113.935 88.5641 112.231 86.3962C109.081 82.3876 104.089 81.6182 101.761 81.2593C99.1009 80.8493 93.7033 80.0172 89.2377 83.3095C88.6407 83.7497 84.0453 87.2239 84.8959 90.7656H84.896L84.896 90.7656Z",fill:"#2F2E41"}}),e("path",{attrs:{d:"M119.898 272.967C111.817 274.923 103.375 275.956 94.692 275.956C85.2874 275.956 76.1623 274.744 67.4758 272.46C66.5288 268.964 65.4536 265.092 64.2349 260.809C53.3011 222.357 75.452 195.095 75.452 195.095L80.917 190.793L130.109 197.391C135.834 225.234 132.108 245.895 119.898 272.967L119.898 272.967Z",fill:"#2F2E41"}}),e("path",{attrs:{d:"M111.885 121.636L88.8718 119.34L72.1875 133.688L77.3654 185.341L75.0641 195.098L129.72 197.394L126.843 183.619L130.87 133.114L111.885 121.636Z",fill:"#6A64F1"}}),e("path",{attrs:{d:"M119.364 148.607H82.543V206H119.364V148.607Z",fill:"white"}}),e("path",{attrs:{d:"M114.11 156.159H103.821C103.543 156.159 103.317 155.933 103.317 155.656C103.317 155.378 103.543 155.152 103.821 155.152H114.11C114.388 155.152 114.614 155.378 114.614 155.656C114.614 155.933 114.388 156.159 114.11 156.159Z",fill:"#6A64F1"}}),e("path",{attrs:{d:"M114.11 160.03H103.821C103.543 160.03 103.317 159.804 103.317 159.527C103.317 159.249 103.543 159.023 103.821 159.023H114.11C114.388 159.023 114.614 159.249 114.614 159.527C114.614 159.804 114.388 160.03 114.11 160.03Z",fill:"#6A64F1"}}),e("path",{attrs:{d:"M114.11 163.903H103.821C103.543 163.903 103.317 163.677 103.317 163.4C103.317 163.122 103.543 162.896 103.821 162.896H114.11C114.388 162.896 114.614 163.122 114.614 163.4C114.614 163.677 114.388 163.903 114.11 163.903Z",fill:"#6A64F1"}}),e("path",{attrs:{d:"M113.648 177.454H88.6302C87.9536 177.454 87.4031 176.905 87.4031 176.23C87.4031 175.555 87.9536 175.006 88.6302 175.006H113.648C114.324 175.006 114.875 175.555 114.875 176.23C114.875 176.905 114.324 177.454 113.648 177.454Z",fill:"#E6E6E6"}}),e("path",{attrs:{d:"M99.5741 199.745C104.552 201.302 109.392 200.001 110.384 196.841C111.376 193.68 108.146 189.858 103.166 188.302C101.185 187.653 99.0776 187.486 97.0194 187.817L75.8451 181.488L62.407 191.078L94.2476 196.644C95.7493 198.087 97.5758 199.151 99.5741 199.745Z",fill:"#FFB6B6"}}),e("path",{attrs:{d:"M74.356 132.537C74.356 132.537 66.6413 136.935 64.4371 146.28L55.6204 183.66C55.6204 183.66 53.9672 189.157 61.4064 191.906C68.8455 194.654 77.9378 182.836 77.9378 182.836L73.7854 178.693L81.7951 143.806L74.356 132.537V132.537L74.356 132.537Z",fill:"#6A64F1"}}),e("path",{attrs:{d:"M93.835 194.221C88.6602 194.878 84.126 192.746 83.7078 189.461C83.2896 186.176 87.1453 182.981 92.322 182.325C94.3863 182.035 96.4902 182.242 98.4579 182.929L120.419 180.424L131.952 192.227L99.6262 192.105C97.8929 193.262 95.9071 193.987 93.835 194.221Z",fill:"#FFB6B6"}}),e("path",{attrs:{d:"M130.536 132.502C130.536 132.502 137.352 138.188 137.87 147.774L139.942 186.119C139.942 186.119 140.598 191.821 132.79 193.218C124.981 194.615 118.12 181.382 118.12 181.382L122.94 178.035L121.221 142.286L130.536 132.502H130.536H130.536Z",fill:"#6A64F1"}}),e("path",{attrs:{d:"M99.8027 152.625H86.5703V168.695H99.8027V152.625Z",fill:"#6A64F1"}}),e("path",{attrs:{d:"M90.1027 164.62L89.1937 168.592L89.1707 168.695H86.5818C86.8924 167.387 87.2779 165.768 87.4563 164.993C87.6806 164.052 88.2675 163.444 88.6414 163.14C88.8313 162.973 88.9694 162.898 88.9694 162.898L90.1028 164.62H90.1027H90.1027Z",fill:"#E6E6E6"}}),e("path",{attrs:{d:"M98.842 168.697H96.3221L96.115 164.387L97.4957 162.935L97.536 162.895C97.536 162.895 98.5773 163.761 98.6521 165.225C98.6924 165.954 98.773 167.417 98.842 168.697H98.842Z",fill:"#E6E6E6"}}),e("path",{attrs:{d:"M95.5746 157.791L91.0737 158.32L91.5764 162.578L96.0773 162.049L95.5746 157.791Z",fill:"#2F2E41"}}),e("path",{attrs:{d:"M93.2744 160.247C94.4947 160.247 95.4841 159.26 95.4841 158.042C95.4841 156.825 94.4947 155.838 93.2744 155.838C92.054 155.838 91.0647 156.825 91.0647 158.042C91.0647 159.26 92.054 160.247 93.2744 160.247Z",fill:"#FFB6B6"}}),e("path",{attrs:{d:"M91.8175 154.624H91.8175C90.4405 155.005 90.5687 155.518 90.1515 155.84C89.4164 156.409 89.2664 157.818 89.7912 158.675C89.9314 158.904 90.2058 159.207 90.1337 159.577C90.0783 159.861 89.8446 160.052 89.8005 160.087C89.4402 160.372 89.6604 160.057 89.5084 160.278C89.3406 160.522 89.6778 160.799 89.5405 161.216C89.4187 161.586 89.0789 161.596 89.0613 161.822C89.0309 162.211 89.9846 162.873 90.8964 162.705C91.7083 162.556 92.2347 161.794 92.3615 161.12C92.4465 160.669 92.4169 159.913 92.0235 159.59C91.9684 159.545 91.8194 159.437 91.6674 159.24C91.5471 159.084 91.3888 158.878 91.4482 158.716C91.5116 158.544 91.7557 158.602 91.8864 158.429C92.0637 158.195 91.7816 157.868 91.7767 157.5C91.7686 156.878 92.5541 156.037 93.4929 156.043C94.5579 156.05 95.0773 157.143 95.1319 157.263C95.2449 157.511 95.2727 157.761 95.3283 158.26C95.4081 158.977 95.4581 159.426 95.2874 159.913C95.0419 160.614 94.6209 160.591 94.5618 161.097C94.4695 161.887 95.4211 162.557 95.5297 162.632C96.3347 163.184 97.4595 163.247 97.6113 162.937C97.7481 162.657 96.9654 162.34 96.8944 161.53C96.833 160.827 97.3754 160.548 97.1955 160.081C96.9976 159.569 96.2888 159.774 95.9127 159.212C95.5617 158.687 96.0505 158.316 95.8303 157.181C95.7837 156.941 95.6254 156.255 95.0951 155.619C94.8615 155.339 94.6239 155.054 94.2277 154.936C93.7842 154.804 92.5459 154.422 91.8175 154.624L91.8175 154.624H91.8175Z",fill:"#2F2E41"}}),e("path",{attrs:{d:"M91.1148 156.67C91.2283 157.143 91.9776 157.293 92.2926 157.316C92.426 157.326 92.8768 157.36 93.2923 157.12C93.4458 157.032 93.4973 156.962 93.662 156.92C93.8849 156.863 94.0091 156.936 94.3787 156.993C94.7896 157.056 94.9951 157.088 95.0862 156.988C95.2352 156.825 95.0524 156.371 94.8213 156.077C94.3941 155.534 93.7173 155.43 93.4016 155.381C93.0409 155.325 92.309 155.213 91.7035 155.659C91.6226 155.719 90.9994 156.19 91.1148 156.67H91.1148H91.1148Z",fill:"#2F2E41"}}),e("path",{attrs:{d:"M97.588 162.989L97.1335 168.694H89.1998L89.194 168.591L88.6417 163.138L88.636 163.075L90.3159 161.635L90.8337 161.187L91.1847 160.889L92.0879 160.981L94.6883 161.239H94.6941L95.5686 161.767L96.8746 162.559L97.4959 162.932L97.588 162.989Z",fill:"#E6E6E6"}}),e("path",{attrs:{d:"M415.894 265.59L408.219 266.033L416.476 263.048C417.807 255.837 416.845 247.873 416.845 247.873C416.845 247.873 400.255 249.161 394.52 256.161C388.784 263.16 390.942 269.013 396.075 273.219C401.208 277.425 407.371 278.391 413.107 271.392C414.422 269.669 415.371 267.694 415.894 265.59Z",fill:"#F2F2F2"}}),e("path",{attrs:{d:"M406.915 265.33L406.633 265.675C403.326 269.668 400.086 272.243 396.953 273.359C396.908 273.376 396.862 273.39 396.817 273.407L396.742 273.195L396.673 272.99C400.095 271.817 403.372 268.881 406.257 265.398C406.351 265.287 406.446 265.174 406.539 265.058C407.747 263.573 408.884 262.001 409.931 260.427C410.013 260.306 410.095 260.182 410.177 260.058C411.548 257.973 412.761 255.9 413.77 254.063C413.842 253.934 413.912 253.803 413.98 253.674C415.675 250.557 416.75 248.176 416.985 247.645C417.015 247.581 417.03 247.545 417.034 247.537L417.234 247.624L417.237 247.624L417.439 247.712C417.435 247.72 417.384 247.841 417.283 248.061C416.912 248.888 415.882 251.113 414.364 253.917C414.295 254.043 414.225 254.174 414.153 254.303C413.336 255.795 412.389 257.434 411.334 259.105C411.07 259.525 410.805 259.936 410.539 260.337C410.459 260.463 410.377 260.587 410.295 260.708C409.163 262.41 408.036 263.95 406.915 265.33Z",fill:"white"}}),e("path",{attrs:{d:"M414.364 253.918C414.237 253.839 414.108 253.759 413.981 253.675C413.634 253.445 413.299 253.198 412.977 252.935C411.604 251.813 410.501 250.398 409.748 248.793C409.602 248.825 409.456 248.856 409.307 248.889C410.088 250.59 411.247 252.091 412.697 253.276C413.04 253.558 413.398 253.821 413.77 254.064C413.896 254.148 414.024 254.227 414.153 254.304C415.208 254.943 416.355 255.417 417.553 255.711C417.557 255.557 417.56 255.406 417.565 255.258C416.437 254.972 415.359 254.52 414.364 253.918Z",fill:"white"}}),e("path",{attrs:{d:"M410.539 260.337C410.415 260.248 410.295 260.154 410.177 260.058C410.139 260.03 410.102 259.999 410.066 259.97C408.58 258.753 407.411 257.194 406.658 255.427C405.905 253.66 405.59 251.737 405.74 249.822C405.59 249.867 405.439 249.912 405.288 249.96C405.162 251.918 405.504 253.879 406.286 255.679C407.068 257.48 408.268 259.067 409.786 260.312C409.834 260.351 409.882 260.39 409.931 260.427C410.052 260.524 410.173 260.617 410.295 260.708C412.195 262.109 414.458 262.933 416.814 263.082C416.842 262.936 416.87 262.791 416.896 262.644C414.598 262.51 412.388 261.708 410.539 260.337Z",fill:"white"}}),e("path",{attrs:{d:"M406.916 265.329C406.788 265.241 406.662 265.15 406.539 265.057C406.406 264.958 406.276 264.856 406.147 264.751C404.153 263.113 402.743 260.873 402.128 258.366C401.513 255.859 401.727 253.221 402.737 250.846C402.547 250.921 402.358 250.995 402.171 251.073C401.236 253.502 401.089 256.164 401.753 258.68C402.416 261.197 403.856 263.441 405.868 265.093C405.996 265.198 406.125 265.301 406.257 265.398C406.381 265.494 406.506 265.585 406.633 265.674C409.203 267.464 412.356 268.211 415.456 267.763C415.523 267.607 415.585 267.448 415.647 267.289C412.593 267.796 409.461 267.093 406.916 265.329Z",fill:"white"}}),e("path",{attrs:{d:"M291.184 0.117188H147.323V75.6545H291.184V0.117188Z",fill:"#F2F2F2"}}),e("path",{attrs:{d:"M291.096 0H147.235V8.75687H291.096V0Z",fill:"#E6E6E6"}}),e("path",{attrs:{d:"M288.491 12.3066H150.576V71.6716H288.491V12.3066Z",fill:"white"}}),e("path",{attrs:{d:"M160.868 5.80337C161.668 5.80337 162.316 5.15483 162.316 4.35481C162.316 3.55479 161.668 2.90625 160.868 2.90625C160.067 2.90625 159.419 3.55479 159.419 4.35481C159.419 5.15483 160.067 5.80337 160.868 5.80337Z",fill:"white"}}),e("path",{attrs:{d:"M166.366 5.80337C167.166 5.80337 167.815 5.15483 167.815 4.35481C167.815 3.55479 167.166 2.90625 166.366 2.90625C165.566 2.90625 164.917 3.55479 164.917 4.35481C164.917 5.15483 165.566 5.80337 166.366 5.80337Z",fill:"white"}}),e("path",{attrs:{d:"M155.354 5.80337C156.154 5.80337 156.803 5.15483 156.803 4.35481C156.803 3.55479 156.154 2.90625 155.354 2.90625C154.554 2.90625 153.906 3.55479 153.906 4.35481C153.906 5.15483 154.554 5.80337 155.354 5.80337Z",fill:"white"}}),e("path",{attrs:{d:"M174.072 57.1761C175.478 57.1761 176.617 56.0366 176.617 54.631C176.617 53.2254 175.478 52.0859 174.072 52.0859C172.666 52.0859 171.527 53.2254 171.527 54.631C171.527 56.0366 172.666 57.1761 174.072 57.1761Z",fill:"#E4E4E4"}}),e("path",{attrs:{d:"M196.553 50.512C197.959 50.512 199.098 49.3725 199.098 47.9669C199.098 46.5613 197.959 45.4219 196.553 45.4219C195.148 45.4219 194.008 46.5613 194.008 47.9669C194.008 49.3725 195.148 50.512 196.553 50.512Z",fill:"#E4E4E4"}}),e("path",{attrs:{d:"M219.035 57.1761C220.44 57.1761 221.58 56.0366 221.58 54.631C221.58 53.2254 220.44 52.0859 219.035 52.0859C217.629 52.0859 216.49 53.2254 216.49 54.631C216.49 56.0366 217.629 57.1761 219.035 57.1761Z",fill:"#E4E4E4"}}),e("path",{attrs:{d:"M241.516 23.5569C242.922 23.5569 244.061 22.4175 244.061 21.0119C244.061 19.6063 242.922 18.4668 241.516 18.4668C240.111 18.4668 238.971 19.6063 238.971 21.0119C238.971 22.4175 240.111 23.5569 241.516 23.5569Z",fill:"#E4E4E4"}}),e("path",{attrs:{d:"M263.998 23.2425C265.403 23.2425 266.543 22.103 266.543 20.6974C266.543 19.2918 265.403 18.1523 263.998 18.1523C262.592 18.1523 261.453 19.2918 261.453 20.6974C261.453 22.103 262.592 23.2425 263.998 23.2425Z",fill:"#E4E4E4"}}),e("path",{attrs:{d:"M219.088 55.2005L196.553 48.199L174.327 54.9698L173.818 54.2909L196.553 47.1391L218.981 54.0602L241.268 20.6522L241.358 20.6157L263.839 20.5762L264.156 21.3634L241.764 21.3668L219.088 55.2005Z",fill:"#E4E4E4"}}),e("path",{attrs:{d:"M315.278 99.0449H179.896V170.13H315.278V99.0449Z",fill:"#F2F2F2"}}),e("path",{attrs:{d:"M315.195 98.9355H179.813V107.176H315.195V98.9355Z",fill:"#E6E6E6"}}),e("path",{attrs:{d:"M312.744 110.043H182.75V166.512H312.744V110.043Z",fill:"white"}}),e("path",{attrs:{d:"M192.642 104.398C193.395 104.398 194.005 103.788 194.005 103.035C194.005 102.282 193.395 101.672 192.642 101.672C191.889 101.672 191.279 102.282 191.279 103.035C191.279 103.788 191.889 104.398 192.642 104.398Z",fill:"white"}}),e("path",{attrs:{d:"M197.817 104.398C198.569 104.398 199.18 103.788 199.18 103.035C199.18 102.282 198.569 101.672 197.817 101.672C197.064 101.672 196.453 102.282 196.453 103.035C196.453 103.788 197.064 104.398 197.817 104.398Z",fill:"white"}}),e("path",{attrs:{d:"M187.454 104.398C188.207 104.398 188.817 103.788 188.817 103.035C188.817 102.282 188.207 101.672 187.454 101.672C186.701 101.672 186.091 102.282 186.091 103.035C186.091 103.788 186.701 104.398 187.454 104.398Z",fill:"white"}}),e("path",{attrs:{d:"M405.654 31.1523H245.068V115.472H405.654V31.1523Z",fill:"#E6E6E6"}}),e("path",{attrs:{d:"M405.556 31.0215H244.97V40.7964H405.556V31.0215Z",fill:"#6C63FF"}}),e("path",{attrs:{d:"M401.791 43.8008H248.673V110.767H401.791V43.8008Z",fill:"white"}}),e("path",{attrs:{d:"M260.187 37.5015C261.08 37.5015 261.804 36.7776 261.804 35.8845C261.804 34.9915 261.08 34.2676 260.187 34.2676C259.294 34.2676 258.57 34.9915 258.57 35.8845C258.57 36.7776 259.294 37.5015 260.187 37.5015Z",fill:"white"}}),e("path",{attrs:{d:"M266.325 37.5015C267.218 37.5015 267.942 36.7776 267.942 35.8845C267.942 34.9915 267.218 34.2676 266.325 34.2676C265.432 34.2676 264.708 34.9915 264.708 35.8845C264.708 36.7776 265.432 37.5015 266.325 37.5015Z",fill:"white"}}),e("path",{attrs:{d:"M254.033 37.5015C254.927 37.5015 255.65 36.7776 255.65 35.8845C255.65 34.9915 254.927 34.2676 254.033 34.2676C253.14 34.2676 252.417 34.9915 252.417 35.8845C252.417 36.7776 253.14 37.5015 254.033 37.5015Z",fill:"white"}}),e("path",{attrs:{d:"M326.325 58.4727C326.007 58.5149 325.715 58.6713 325.504 58.9128C325.292 59.1542 325.175 59.4644 325.175 59.7854C325.175 60.1065 325.292 60.4166 325.504 60.6581C325.715 60.8996 326.007 61.056 326.325 61.0982H380.546C380.864 61.056 381.156 60.8996 381.368 60.6581C381.58 60.4166 381.696 60.1065 381.696 59.7854C381.696 59.4644 381.58 59.1542 381.368 58.9128C381.156 58.6713 380.864 58.5149 380.546 58.4727H326.325Z",fill:"#E6E6E6"}}),e("path",{attrs:{d:"M326.325 89.4355C326.007 89.4778 325.715 89.6342 325.504 89.8756C325.292 90.1171 325.175 90.4273 325.175 90.7483C325.175 91.0694 325.292 91.3795 325.504 91.621C325.715 91.8625 326.007 92.0189 326.325 92.0611H380.546C380.864 92.0189 381.156 91.8625 381.368 91.621C381.58 91.3795 381.696 91.0694 381.696 90.7483C381.696 90.4273 381.58 90.1171 381.368 89.8756C381.156 89.6342 380.864 89.4778 380.546 89.4355H326.325Z",fill:"#E6E6E6"}}),e("path",{attrs:{d:"M326.325 66.3496C326.007 66.3918 325.715 66.5482 325.504 66.7897C325.292 67.0312 325.175 67.3413 325.175 67.6624C325.175 67.9834 325.292 68.2935 325.504 68.535C325.715 68.7765 326.007 68.9329 326.325 68.9751H349.657C349.975 68.9329 350.267 68.7765 350.479 68.535C350.69 68.2935 350.807 67.9834 350.807 67.6624C350.807 67.3413 350.69 67.0312 350.479 66.7897C350.267 66.5482 349.975 66.3918 349.657 66.3496H326.325Z",fill:"#E6E6E6"}}),e("path",{attrs:{d:"M326.325 73.8574C326.007 73.8996 325.715 74.056 325.503 74.2975C325.292 74.539 325.175 74.8491 325.175 75.1702C325.175 75.4912 325.292 75.8014 325.503 76.0429C325.715 76.2843 326.007 76.4407 326.325 76.483H380.546C380.864 76.4407 381.156 76.2843 381.368 76.0429C381.579 75.8014 381.696 75.4912 381.696 75.1702C381.696 74.8491 381.579 74.539 381.368 74.2975C381.156 74.056 380.864 73.8996 380.546 73.8574H326.325Z",fill:"#E6E6E6"}}),e("path",{attrs:{d:"M326.325 81.7344C326.007 81.7766 325.715 81.933 325.504 82.1745C325.292 82.416 325.175 82.7261 325.175 83.0471C325.175 83.3682 325.292 83.6783 325.504 83.9198C325.715 84.1613 326.007 84.3177 326.325 84.3599H349.657C349.975 84.3177 350.267 84.1613 350.479 83.9198C350.69 83.6783 350.807 83.3682 350.807 83.0471C350.807 82.7261 350.69 82.416 350.479 82.1745C350.267 81.933 349.975 81.7766 349.657 81.7344H326.325Z",fill:"#E6E6E6"}}),e("path",{attrs:{d:"M294.726 90.6241C294.89 90.6245 295.053 90.5924 295.204 90.5298C295.356 90.4673 295.494 90.3753 295.611 90.2593C295.727 90.1433 295.819 90.0055 295.882 89.8538C295.945 89.7021 295.978 89.5394 295.978 89.3752C295.978 89.2109 295.946 89.0482 295.883 88.8964C295.82 88.7446 295.728 88.6067 295.612 88.4906C295.495 88.3745 295.357 88.2824 295.206 88.2197C295.054 88.157 294.891 88.1248 294.727 88.125H269.378C269.213 88.1246 269.051 88.1566 268.899 88.2192C268.747 88.2818 268.609 88.3738 268.492 88.4898C268.376 88.6058 268.284 88.7436 268.221 88.8953C268.158 89.047 268.125 89.2097 268.125 89.3739C268.125 89.5382 268.157 89.7009 268.22 89.8527C268.283 90.0045 268.375 90.1424 268.492 90.2585C268.608 90.3746 268.746 90.4666 268.898 90.5294C269.049 90.5921 269.212 90.6243 269.376 90.6241H294.726Z",fill:"#E4E4E4"}}),e("path",{attrs:{d:"M294.726 83.2628C295.057 83.2622 295.374 83.1302 295.608 82.896C295.841 82.6617 295.973 82.3442 295.973 82.0132C295.973 81.6822 295.841 81.3647 295.608 81.1305C295.374 80.8962 295.057 80.7643 294.726 80.7637H269.378C269.213 80.7633 269.051 80.7953 268.899 80.8579C268.747 80.9205 268.609 81.0124 268.492 81.1284C268.376 81.2444 268.284 81.3823 268.221 81.534C268.158 81.6857 268.125 81.8483 268.125 82.0126C268.125 82.1769 268.157 82.3396 268.22 82.4914C268.283 82.6431 268.375 82.781 268.492 82.8971C268.608 83.0133 268.746 83.1053 268.898 83.1681C269.049 83.2308 269.212 83.263 269.376 83.2628H294.726Z",fill:"#E4E4E4"}}),e("path",{attrs:{d:"M282.051 59.9121C283.607 59.9121 285.128 60.3734 286.421 61.2377C287.715 62.1019 288.723 63.3303 289.318 64.7675C289.913 66.2047 290.069 67.7862 289.766 69.3119C289.462 70.8376 288.713 72.2391 287.613 73.3391C286.513 74.439 285.112 75.1881 283.586 75.4916C282.06 75.7951 280.479 75.6394 279.041 75.0441C277.604 74.4487 276.376 73.4406 275.512 72.1472C274.647 70.8537 274.186 69.3331 274.186 67.7774C274.188 65.6922 275.018 63.6929 276.492 62.2184C277.967 60.7439 279.966 59.9145 282.051 59.9121Z",fill:"#6C63FF"}}),e("path",{attrs:{d:"M218.443 129.469C220.143 129.469 221.52 128.091 221.52 126.392C221.52 124.692 220.143 123.314 218.443 123.314C216.744 123.314 215.366 124.692 215.366 126.392C215.366 128.091 216.744 129.469 218.443 129.469Z",fill:"#E4E4E4"}}),e("path",{attrs:{d:"M267.888 123.997C268.162 123.997 268.434 124.051 268.688 124.155C268.941 124.26 269.172 124.414 269.366 124.608C269.56 124.802 269.714 125.032 269.819 125.285C269.924 125.539 269.978 125.81 269.978 126.084C269.978 126.359 269.924 126.63 269.819 126.884C269.714 127.137 269.56 127.367 269.366 127.561C269.172 127.755 268.941 127.909 268.688 128.013C268.434 128.118 268.162 128.172 267.888 128.171H235.522C235.248 128.172 234.976 128.118 234.723 128.013C234.469 127.909 234.239 127.755 234.045 127.561C233.851 127.367 233.697 127.137 233.592 126.884C233.487 126.63 233.432 126.359 233.432 126.084C233.432 125.81 233.487 125.539 233.592 125.285C233.697 125.032 233.851 124.802 234.045 124.608C234.239 124.414 234.469 124.26 234.723 124.155C234.976 124.051 235.248 123.997 235.522 123.997H267.888ZM267.888 123.486H235.522C234.833 123.486 234.173 123.76 233.685 124.247C233.198 124.735 232.924 125.395 232.924 126.084C232.924 126.774 233.198 127.434 233.685 127.922C234.173 128.409 234.833 128.683 235.522 128.683H267.888C268.577 128.683 269.238 128.409 269.725 127.922C270.212 127.434 270.486 126.774 270.486 126.084C270.486 125.395 270.212 124.735 269.725 124.247C269.238 123.76 268.577 123.486 267.888 123.486Z",fill:"#E4E4E4"}}),e("path",{attrs:{d:"M255.117 128.683H230.753C230.064 128.683 229.403 128.409 228.916 127.922C228.428 127.434 228.155 126.774 228.155 126.084C228.155 125.395 228.428 124.735 228.916 124.247C229.403 123.76 230.064 123.486 230.753 123.486H255.117C255.806 123.486 256.467 123.76 256.954 124.247C257.442 124.735 257.715 125.395 257.715 126.084C257.715 126.774 257.442 127.434 256.954 127.922C256.467 128.409 255.806 128.683 255.117 128.683Z",fill:"#E4E4E4"}}),e("path",{attrs:{d:"M218.443 142.248C220.143 142.248 221.52 140.871 221.52 139.171C221.52 137.472 220.143 136.094 218.443 136.094C216.744 136.094 215.366 137.472 215.366 139.171C215.366 140.871 216.744 142.248 218.443 142.248Z",fill:"#E4E4E4"}}),e("path",{attrs:{d:"M267.888 136.777C268.162 136.776 268.434 136.83 268.688 136.935C268.941 137.039 269.172 137.193 269.366 137.387C269.56 137.581 269.714 137.811 269.819 138.064C269.924 138.318 269.978 138.589 269.978 138.864C269.978 139.138 269.924 139.41 269.819 139.663C269.714 139.917 269.56 140.147 269.366 140.341C269.172 140.534 268.941 140.688 268.688 140.793C268.434 140.897 268.162 140.951 267.888 140.951H235.522C235.248 140.951 234.976 140.897 234.723 140.793C234.469 140.688 234.239 140.534 234.045 140.341C233.851 140.147 233.697 139.917 233.592 139.663C233.487 139.41 233.432 139.138 233.432 138.864C233.432 138.589 233.487 138.318 233.592 138.064C233.697 137.811 233.851 137.581 234.045 137.387C234.239 137.193 234.469 137.039 234.723 136.935C234.976 136.83 235.248 136.776 235.522 136.777H267.888ZM267.888 136.266H235.522C234.833 136.266 234.173 136.539 233.685 137.027C233.198 137.514 232.924 138.175 232.924 138.864C232.924 139.553 233.198 140.214 233.685 140.701C234.173 141.188 234.833 141.462 235.522 141.462H267.888C268.577 141.462 269.238 141.188 269.725 140.701C270.212 140.214 270.486 139.553 270.486 138.864C270.486 138.175 270.212 137.514 269.725 137.027C269.238 136.539 268.577 136.266 267.888 136.266Z",fill:"#E4E4E4"}}),e("path",{attrs:{d:"M264.318 141.462H230.753C230.064 141.462 229.403 141.188 228.916 140.701C228.428 140.214 228.155 139.553 228.155 138.864C228.155 138.175 228.428 137.514 228.916 137.027C229.403 136.539 230.064 136.266 230.753 136.266H264.318C265.006 136.267 265.666 136.541 266.153 137.028C266.639 137.515 266.913 138.175 266.913 138.864C266.913 139.552 266.639 140.213 266.153 140.7C265.666 141.187 265.006 141.461 264.318 141.462Z",fill:"#E4E4E4"}}),e("path",{attrs:{d:"M218.443 155.028C220.143 155.028 221.52 153.65 221.52 151.95C221.52 150.251 220.143 148.873 218.443 148.873C216.744 148.873 215.366 150.251 215.366 151.95C215.366 153.65 216.744 155.028 218.443 155.028Z",fill:"#E4E4E4"}}),e("path",{attrs:{d:"M267.888 149.554C268.442 149.554 268.972 149.774 269.364 150.165C269.755 150.557 269.975 151.088 269.975 151.641C269.975 152.195 269.755 152.725 269.364 153.117C268.972 153.508 268.442 153.728 267.888 153.728H235.522C234.969 153.728 234.438 153.508 234.047 153.117C233.655 152.725 233.435 152.195 233.435 151.641C233.435 151.088 233.655 150.557 234.047 150.165C234.438 149.774 234.969 149.554 235.522 149.554H267.888ZM267.888 149.043H235.522C234.833 149.043 234.173 149.317 233.685 149.804C233.198 150.291 232.924 150.952 232.924 151.641C232.924 152.33 233.198 152.991 233.685 153.478C234.173 153.966 234.833 154.239 235.522 154.239H267.888C268.577 154.239 269.238 153.966 269.725 153.478C270.212 152.991 270.486 152.33 270.486 151.641C270.486 150.952 270.212 150.291 269.725 149.804C269.238 149.317 268.577 149.043 267.888 149.043Z",fill:"#E4E4E4"}}),e("path",{attrs:{d:"M268.003 154.239H230.753C230.064 154.239 229.403 153.966 228.916 153.478C228.428 152.991 228.155 152.33 228.155 151.641C228.155 150.952 228.428 150.291 228.916 149.804C229.403 149.317 230.064 149.043 230.753 149.043H268.003C268.692 149.043 269.353 149.317 269.841 149.804C270.328 150.291 270.602 150.952 270.602 151.641C270.602 152.33 270.328 152.991 269.841 153.478C269.353 153.966 268.692 154.239 268.003 154.239Z",fill:"#E4E4E4"}}),e("path",{attrs:{d:"M364.853 185.343C365.229 184.895 365.502 184.371 365.654 183.806C365.805 183.241 365.831 182.65 365.729 182.075C365.627 181.499 365.4 180.953 365.065 180.474C364.729 179.996 364.292 179.597 363.785 179.305L366.443 165.346L359.627 168.186L358.148 181.007C357.715 181.891 357.621 182.902 357.884 183.851C358.147 184.799 358.748 185.618 359.575 186.153C360.401 186.687 361.395 186.9 362.368 186.751C363.341 186.602 364.225 186.101 364.853 185.343Z",fill:"#FFB7B7"}}),e("path",{attrs:{d:"M398.839 271L393.067 271L390.322 248.738L398.84 248.739L398.839 271Z",fill:"#FFB7B7"}}),e("path",{attrs:{d:"M400.311 276.595L381.701 276.594V276.358C381.701 274.437 382.465 272.595 383.823 271.237C385.181 269.878 387.024 269.115 388.945 269.115H388.945L400.311 269.116L400.311 276.595Z",fill:"#2F2E41"}}),e("path",{attrs:{d:"M367.298 271L361.526 271L358.781 248.738L367.299 248.739L367.298 271Z",fill:"#FFB7B7"}}),e("path",{attrs:{d:"M367.357 276.595L348.748 276.594V276.358C348.748 274.437 349.511 272.595 350.869 271.237C352.228 269.878 354.07 269.115 355.991 269.115H355.991L367.358 269.116L367.357 276.595Z",fill:"#2F2E41"}}),e("path",{attrs:{d:"M366.825 176.979L361.176 189.993L356.516 264.797L368.285 264.327L371.499 228.667L381.415 196.906L387.116 232.315L389.47 263.385L399.208 263.807L403.089 176.979H366.825Z",fill:"#2F2E41"}}),e("path",{attrs:{d:"M395.063 112.758L378.69 113.167L369.077 118.102L368.55 154.51L362.554 179.646C362.554 179.646 400.014 182.224 405.192 178.458L399.072 149.742L407.28 118.707L395.063 112.758Z",fill:"#3F3D56"}}),e("path",{attrs:{d:"M370.826 118.671L369.077 118.102C369.077 118.102 363.529 121.662 364.057 130.27C364.057 130.27 363.849 134.725 364.048 137.689C364.276 141.09 357.457 174.88 357.457 174.88H367.343L371.58 144.28L370.826 118.671Z",fill:"#3F3D56"}}),e("path",{attrs:{d:"M407.024 185.812C406.648 185.364 406.374 184.84 406.223 184.275C406.072 183.71 406.046 183.119 406.148 182.544C406.25 181.968 406.476 181.422 406.812 180.943C407.148 180.464 407.585 180.065 408.091 179.774L405.434 165.814L412.25 168.655L413.728 181.476C414.162 182.359 414.256 183.371 413.993 184.32C413.73 185.268 413.129 186.087 412.302 186.622C411.476 187.156 410.482 187.369 409.509 187.22C408.536 187.07 407.652 186.569 407.024 185.812Z",fill:"#FFB7B7"}}),e("path",{attrs:{d:"M404.817 119.141L406.566 118.572C406.566 118.572 412.114 122.133 411.586 130.741C411.586 130.741 411.794 135.196 411.595 138.16C411.367 141.56 414.42 175.35 414.42 175.35H404.534L400.297 144.751L404.817 119.141Z",fill:"#3F3D56"}}),e("path",{attrs:{d:"M399.083 97.483C399.083 99.7278 398.417 101.922 397.17 103.789C395.923 105.655 394.15 107.11 392.076 107.969C390.002 108.828 387.72 109.053 385.518 108.615C383.316 108.177 381.294 107.096 379.707 105.509C378.119 103.921 377.038 101.899 376.6 99.6973C376.162 97.4956 376.387 95.2134 377.246 93.1395C378.105 91.0655 379.56 89.2929 381.427 88.0457C383.293 86.7985 385.488 86.1328 387.732 86.1328C389.219 86.1291 390.692 86.4183 392.067 86.9839C393.442 87.5494 394.692 88.3802 395.746 89.4289C396.8 90.4776 397.637 91.7237 398.21 93.0959C398.782 94.4681 399.079 95.9396 399.083 97.4264C399.083 97.4453 399.083 97.4641 399.083 97.483Z",fill:"#FFB7B7"}}),e("path",{attrs:{d:"M376.42 82.237C377.75 79.3779 380.323 79.9432 382.573 80.9124C385.423 80.2803 388.133 78.3878 391.203 79.507C394.228 83.9059 404.382 82.6117 402.222 89.773C402.219 91.4891 405.451 90.4902 404.886 93.3007C406.598 98.7094 398.707 108.953 394.176 106.796C395.297 104.742 397.856 100.078 393.974 99.6153C385.623 107.386 393.113 84.819 382.62 91.3817C379.146 94.5612 374.389 85.4173 376.42 82.237Z",fill:"#2F2E41"}}),e("path",{attrs:{d:"M489.433 277H0.56713C0.416717 277 0.272465 276.947 0.166108 276.854C0.0597506 276.76 0 276.633 0 276.5C0 276.367 0.0597506 276.24 0.166108 276.146C0.272465 276.053 0.416717 276 0.56713 276H489.433C489.583 276 489.728 276.053 489.834 276.146C489.94 276.24 490 276.367 490 276.5C490 276.633 489.94 276.76 489.834 276.854C489.728 276.947 489.583 277 489.433 277Z",fill:"#F2F2F2"}})])])}),sr=[],rr=(a("61dc"),{}),ir=Object(l["a"])(rr,ar,sr,!1,null,"b23074f4",null),or=ir.exports;Object(wa["c"])("required",{...Ia["g"],message:"{_field_} مطلوب"}),Object(wa["c"])("numeric",{...Ia["f"],message:"{_field_} يجب أن يكون رقمًا"}),Object(wa["c"])("min_value",{...Ia["e"],message:"{_field_} يجب أن يكون على الأقل {min}"}),Object(wa["c"])("date_format",{validate(t){const e=new RegExp("^\\d{4}-\\d{2}-\\d{2}$");return e.test(t)},params:["format"],message:"{_field_} يجب أن يكون بالتنسيق الصحيح {format}"});var nr={name:"AddNewOrder",components:{FormImage:or,CircleLoader:Sa},data(){return{addedOrders:[],selectedProduct:"",productId:"",price_offer:"",quantity:"",productInfo:"",selectedCustomer:"",customerId:null,customerInfo:"",selectedTechnical:"",TechnicalId:null,TechnicaInfo:"",invoiceType:"تركيب وتوريد",date:"",adress:"",notes:"",status:"0",number:"",laborPrice:"",shipping:"",selectProductForUpdateProp:"",isEditingProduct:!1,unregisteredCustomerMessage:"",unregisteredTechnicalMessage:"",aboutQuantityInBranchMessage:"",file:null,pullFromBranch:!1,selectedBranch:"",BranchId:"",quantityInBranch:"",isLoading:!1,customInvoice:!1}},watch:{quantity(){this.quantityMessage()}},computed:{getDarkMode(){return this.$store.state.darkMode},getAllBranchesHasProduct(){return this.branches.filter(t=>t.products.some(t=>t.id===this.productId))},...Object(y["e"])(Qa,{myAllProducts:"products"}),...Object(y["e"])(Ke,["categories"]),...Object(y["e"])(x,["technicalUsers","clientUsers"]),...Object(y["e"])(ie,["branches"])},async created(){this.fetchCategories(),this.fetchProducts(),this.fetchUsers(),this.fetchBranches()},methods:{...Object(y["d"])(Qa,["fetchProducts"]),...Object(y["d"])(Ke,["fetchCategories"]),...Object(y["d"])(x,["fetchUsers"]),...Object(y["d"])(lt,["addOrder","uploadImage","generateOrderNumber"]),...Object(y["d"])(ie,["fetchBranches","updateBranch"]),handleFileUpload(t){this.file=t.target.files[0]},createAndCustomizeInvoice(){this.customInvoice=!0,this.creatNewOrder()},addProduct(){if(!this.isEditingProduct){let t={id:this.productId,name:this.selectedProduct,price_offer:this.price_offer,quantity:this.quantity,productInfo:this.productInfo};this.toPUllFromBranch(t),this.addedOrders.push(t),console.log(this.addedOrders),this.clearProductForm()}},toPUllFromBranch(t){if(this.pullFromBranch&&Number(this.quantityInBranch)>0){let e=Number(this.quantity),a=Number(this.quantityInBranch),s="";a<e?(s="less",t.avilabelQuantityInBranch=a):(s="more",t.avilabelQuantityInBranch=""),t.branchId=this.BranchId,t.selectedBranch=this.selectedBranch,t.pullQuantityNeeded=e,t.pullStatus=s}},cancelChange(){this.clearProductForm()},clearProductForm(){this.selectedProduct="",this.productId="",this.quantity="",this.selectProductForUpdateProp="",this.pullFromBranch=!1,this.BranchId="",this.selectedBranch="",this.quantityInBranch="",this.isEditingProduct=!1,this.toggleButtons(!1)},selectProductForUpdate(){const t=this.addedOrders.find(t=>t.id===this.selectProductForUpdateProp);t&&(this.selectedProduct=t.name,this.productId=t.id,this.price_offer=t.price_offer,this.quantity=t.quantity,t.branchId?(this.selectedBranch=t.selectedBranch,this.getProductFromBranch(),this.pullFromBranch=!0,console.log("selected",this.BranchId)):(this.pullFromBranch=!1,this.BranchId="",this.selectedBranch="",this.quantityInBranch=""),this.isEditingProduct=!0,this.toggleButtons(!0))},updateProduct(){const t=this.addedOrders.findIndex(t=>t.id===this.productId);if(-1!==t){if(this.addedOrders[t].name=this.selectedProduct,this.addedOrders[t].price_offer=this.price_offer,this.addedOrders[t].quantity=this.quantity,this.pullFromBranch&&Number(this.quantityInBranch)>0){let e=Number(this.quantity),a=Number(this.quantityInBranch),s="";a<e?(s="less",this.addedOrders[t].avilabelQuantityInBranch=a,console.log(this.addedOrders)):(s="more",this.addedOrders[t].avilabelQuantityInBranch=""),this.addedOrders[t].branchId=this.BranchId,this.addedOrders[t].selectedBranch=this.selectedBranch,this.addedOrders[t].pullQuantityNeeded=e,this.addedOrders[t].pullStatus=s}this.BranchId&&0==this.pullFromBranch&&(console.log("from inside the cancel the pull"),delete this.addedOrders[t].branchId,delete this.addedOrders[t].selectedBranch,delete this.addedOrders[t].pullQuantityNeeded,delete this.addedOrders[t].pullStatus,this.BranchId="",this.selectedBranch="",this.quantityInBranch=""),console.log(this.addedOrders),this.clearProductForm()}},deleteProduct(){const t=this.addedOrders.findIndex(t=>t.id===this.productId);-1!==t&&(this.addedOrders.splice(t,1),this.clearProductForm())},updateProductId(){this.pullFromBranch=!1,this.BranchId="",this.selectedBranch="",this.quantityInBranch="",this.isEditingProduct=!1,this.toggleButtons(!1);const t=this.myAllProducts.find(t=>t.name===this.selectedProduct);this.productId=t?t.id:"",this.productInfo=t||"",console.log(this.productId)},getProductFromBranch(){const t=this.branches.find(t=>t.nameBranch===this.selectedBranch),e=t.products.find(t=>t.id===this.productId);e&&(this.quantityInBranch=e.quantity,Number(this.quantityInBranch)>0?(this.BranchId=t.id,this.quantityMessage()):this.aboutQuantityInBranchMessage="المخزن فارغ لن تتم عمليه السحب")},quantityMessage(){this.BranchId&&(console.log("still there branchId",this.BranchId),Number(this.quantityInBranch)<Number(this.quantity)?this.aboutQuantityInBranchMessage="سيتم سحب الكمية المتوفرة والباقى يمكنك شراءه":this.aboutQuantityInBranchMessage="")},updateCustomerId(){const t=this.clientUsers.find(t=>t.name===this.selectedCustomer);t?(this.customerId=t.id,this.customerInfo=t,this.unregisteredCustomerMessage=""):(this.customerId=null,this.customerInfo="",this.unregisteredCustomerMessage="هذا العميل غير مسجل في النظام. قد تفقد بعض المميزات.")},updateTechnicalId(){const t=this.technicalUsers.find(t=>t.name===this.selectedTechnical);t?(this.TechnicalId=t.id,this.TechnicaInfo=t,this.unregisteredTechnicalMessage=""):(this.TechnicalId=null,this.TechnicaInfo="",this.unregisteredTechnicalMessage="هذا الفني غير مسجل في النظام. قد تفقد بعض المميزات.")},toggleButtons(t){const e=document.querySelector(".addProduct-btn"),a=document.querySelector(".updateProduct-btn"),s=document.querySelector(".deleteProduct-btn"),r=document.querySelector(".cancelChangeProduct-btn");t?(e.classList.add("addProduct-btn_hidde"),a.classList.add("updateProduct-btn_show"),s.classList.add("deleteProduct-btn_show"),r.classList.add("cancelChangeProduct-btn_show")):(e.classList.remove("addProduct-btn_hidde"),a.classList.remove("updateProduct-btn_show"),s.classList.remove("deleteProduct-btn_show"),r.classList.remove("cancelChangeProduct-btn_show"))},async pullProductsFromDatabase(){for(const t of this.addedOrders)if(t.pullStatus&&t.pullQuantityNeeded>0&&t.branchId){const e=t.branchId,a=Number(t.pullQuantityNeeded),s=this.branches.find(t=>t.id===e);if(!s){Mt()("خطأ","الفرع المحدد غير موجود.","error");continue}const r=s.products.find(e=>e.id===t.id);if(!r){Mt()("خطأ","المنتج غير موجود في الفرع المحدد.","error");continue}"less"===t.pullStatus?r.quantity=0:"more"===t.pullStatus&&(r.quantity-=a),await this.updateBranch(s),t.isPulled=!0,console.log("to check isPulled",this.addedOrders)}},async creatNewOrder(){this.isLoading=!0;try{if(0===this.addedOrders.length)return Mt()("لا يمكن إنشاء الطلب بدون منتجات.","يرجى إضافة منتجات قبل إنشاء الطلب.","error"),void(this.isLoading=!1);let t="";this.file&&(t=await this.uploadImage({file:this.file})),this.number||(this.number=await this.generateOrderNumber()),await this.pullProductsFromDatabase(),console.log("after pullProductsFromDatabase",this.addedOrders);const e={products:this.addedOrders,customerName:this.selectedCustomer,customerId:this.customerId,customerInfo:this.customerInfo,technicalName:this.selectedTechnical,technicalId:this.TechnicalId,TechnicaInfo:this.TechnicaInfo,invoiceType:this.invoiceType,adress:this.adress,date:this.date,status:this.status,notes:this.notes,numberOfOrder:this.number,laborPrice:this.laborPrice,shipping:this.shipping,imageUrl:t};console.log("before send"),console.log(this.shipping);const a=await this.addOrder(e);console.log("after send"),this.isLoading=!1,this.customInvoice?(Mt()("تم إنشاء الطلب بنجاح!","سيتم إعادة توجيهك إلى صفحة تخصيص فاتورة.","success"),this.$router.push({name:"CustomInvoice",params:{orderId:a,isCustom:"true"}})):(Mt()("تم إنشاء الطلب بنجاح!","سيتم إعادة توجيهك إلى صفحة الفاتورة.","success"),this.$router.push({name:"Fatora",params:{orderId:a,isCustom:"false"}}))}catch(t){console.error("Error creating order:",t),this.isLoading=!1,Mt()("خطأ في إنشاء الطلب","يرجى المحاولة مرة أخرى.","error")}}}},lr=nr,cr=(a("2b5e"),Object(l["a"])(lr,tr,er,!1,null,"1bc1663f",null)),dr=cr.exports,ur=function(){var t=this,e=t._self._c;return e("div",{staticClass:"editOrder"},[e("div",{staticClass:"title"},[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("edit order")])]),e("div",{staticClass:"allContentt",class:{"dark-moode":t.getDarkMode}},[e("div",{staticClass:"formbold-main-wrapper"},[e("div",{staticClass:"formbold-form-wrapper"},[e("FormImage"),e("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function({invalid:a}){return[e("form",{on:{submit:function(e){return e.preventDefault(),t.handelUpdateOrder.apply(null,arguments)}}},[e("div",{staticClass:"formbold-input-flex"},[e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"customer"}},[t._v("اختر العميل")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedCustomer,expression:"selectedCustomer"}],staticClass:"formbold-form-input aline-end",attrs:{list:"customerList",placeholder:"ابحث عن عميل"},domProps:{value:t.selectedCustomer},on:{input:[function(e){e.target.composing||(t.selectedCustomer=e.target.value)},t.updateCustomerId]}}),e("datalist",{attrs:{id:"customerList"}},t._l(t.clientUsers,(function(t){return e("option",{key:t.id,domProps:{value:t.name}})})),0),t.unregisteredCustomerMessage?e("p",{staticClass:"warning-message"},[t._v(" "+t._s(t.unregisteredCustomerMessage)+" ")]):t._e()]),e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"technical"}},[t._v(" :اختر الفنى ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedTechnical,expression:"selectedTechnical"}],staticClass:"formbold-form-input aline-end",attrs:{list:"technicalList",placeholder:"ابحث عن فنى"},domProps:{value:t.selectedTechnical},on:{input:[function(e){e.target.composing||(t.selectedTechnical=e.target.value)},t.updateTechnicalId]}}),e("datalist",{attrs:{id:"technicalList"}},t._l(t.technicalUsers,(function(t){return e("option",{key:t.id,domProps:{value:t.name}})})),0),t.unregisteredTechnicalMessage?e("p",{staticClass:"warning-message"},[t._v(" "+t._s(t.unregisteredTechnicalMessage)+" ")]):t._e()])]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"shipping"}},[t._v(" الشحن ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.shipping,expression:"shipping"}],staticClass:"formbold-form-input aline-end",attrs:{type:"number",id:"shipping",placeholder:"الشحن "},domProps:{value:t.shipping},on:{input:function(e){e.target.composing||(t.shipping=e.target.value)}}})]),e("div",[e("ValidationProvider",{attrs:{name:"نوع الفاتورة",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label aline-end"},[t._v("نوع الفاتورة")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.invoiceType,expression:"invoiceType"}],staticClass:"formbold-form-input",attrs:{name:"occupation",id:"occupation"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.invoiceType=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"تركيب"}},[t._v("تركيب")]),e("option",{attrs:{value:"توريد"}},[t._v("توريد")]),e("option",{attrs:{value:"تركيب وتوريد"}},[t._v("تركيب وتوريد")])]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("ValidationProvider",{attrs:{name:"حالة الطلب",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"status"}},[t._v("حالة الطلب ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],staticClass:"formbold-form-input",attrs:{id:"status",placeholder:"حالة الطلب"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.status=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"0"}},[t._v("معلق")]),e("option",{attrs:{value:"1"}},[t._v("مؤكد")]),e("option",{attrs:{value:"3"}},[t._v("منتهى")])]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"addedOrders"}},[t._v("المنتجات المضافة الآن")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectProductForUpdateProp,expression:"selectProductForUpdateProp"}],staticClass:"formbold-form-input",attrs:{id:"addedOrders",placeholder:" اختر من المضافة المنتجات "},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectProductForUpdateProp=e.target.multiple?a:a[0]},t.selectProductForUpdate]}},t._l(t.addedOrders,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),0)])]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("ValidationProvider",{attrs:{name:"الكمية",rules:""+(0==t.addedOrders.length?"required|numeric|min_value:1":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"quantity"}},[t._v(" الكمية ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"formbold-form-input aline-end",attrs:{type:"number",id:"quantity",placeholder:"الكمية"},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"product"}},[t._v(" المنتج ")]),e("ValidationProvider",{attrs:{name:"المنتج",rules:""+(0==t.addedOrders.length?"required":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedProduct,expression:"selectedProduct"}],staticClass:"formbold-form-input aline-end",attrs:{list:"propList",placeholder:" ابحث فى المنتجات"},domProps:{value:t.selectedProduct},on:{input:[function(e){e.target.composing||(t.selectedProduct=e.target.value)},t.updateProductId]}}),e("datalist",{attrs:{id:"propList"}},t._l(t.myAllProducts,(function(t){return e("option",{key:t.id,domProps:{value:t.name}})})),0),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"formbold-input-flex"},[e("div",{staticClass:"display-options"},[t.selectedProduct?e("label",[t._v(" سحب من المخزن "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.pullFromBranch,expression:"pullFromBranch"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.pullFromBranch)?t._i(t.pullFromBranch,null)>-1:t.pullFromBranch},on:{change:function(e){var a=t.pullFromBranch,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&(t.pullFromBranch=a.concat([i])):o>-1&&(t.pullFromBranch=a.slice(0,o).concat(a.slice(o+1)))}else t.pullFromBranch=r}}})]):t._e()]),e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"priceOffer"}},[t._v(" الخصم ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.price_offer,expression:"price_offer"}],staticClass:"formbold-form-input aline-end",attrs:{type:"number",id:"priceOffer",placeholder:"الخصم "},domProps:{value:t.price_offer},on:{input:function(e){e.target.composing||(t.price_offer=e.target.value)}}})])]),t.pullFromBranch?e("div",{staticClass:"formbold-input-flex"},[e("div",[e("ValidationProvider",{attrs:{name:"الكمية المتاحة"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"quantityInBranch"}},[t._v(" الكمية المتاحة ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.quantityInBranch,expression:"quantityInBranch"}],staticClass:"formbold-form-input aline-end",attrs:{type:"number",id:"quantityInBranch",placeholder:"الكمية",readonly:""},domProps:{value:t.quantityInBranch},on:{input:function(e){e.target.composing||(t.quantityInBranch=e.target.value)}}}),t.isEditingProduct?e("p",{staticClass:"info-message"},[t._v(" بالاضافة لكمية السحب السابقة على نفس الفرع ")]):t._e(),t.aboutQuantityInBranchMessage?e("p",{staticClass:"warning-message"},[t._v(" "+t._s(t.aboutQuantityInBranchMessage)+" ")]):t._e(),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"branch"}},[t._v(" الفروع المتوفر بها ")]),e("ValidationProvider",{attrs:{name:"الفروع"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedBranch,expression:"selectedBranch"}],staticClass:"formbold-form-input aline-end",attrs:{list:"List",placeholder:" ابحث فى الفروع"},domProps:{value:t.selectedBranch},on:{input:[function(e){e.target.composing||(t.selectedBranch=e.target.value)},t.getProductFromBranch]}}),e("datalist",{attrs:{id:"List"}},t._l(t.getAllBranchesHasProduct,(function(t){return e("option",{key:t.id,domProps:{value:t.nameBranch}})})),0),0==t.getAllBranchesHasProduct.length?e("p",{staticClass:"warning-message"},[t._v(" غير متوفر فى اى فرع ")]):t._e(),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]):t._e(),t.pullFromBranch&&t.hasPreviousPullOperation?e("p",{staticClass:"aline-end m-btn"},[t._v(" : آخرعملية سحب ")]):t._e(),t.pullFromBranch&&t.hasPreviousPullOperation?e("div",{staticClass:"formbold-input-flex"},[e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"lastPulledQuantity"}},[t._v(" كمية المسحوب ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.lastPulledQuantity,expression:"lastPulledQuantity"}],staticClass:"formbold-form-input readOnlyInput aline-end",attrs:{type:"number",id:"lastPulledQuantity",placeholder:"كمية المسحوب ",readonly:""},domProps:{value:t.lastPulledQuantity},on:{input:function(e){e.target.composing||(t.lastPulledQuantity=e.target.value)}}})]),e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"lastPulledBranch"}},[t._v(" الفرع المسحوب منه ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.lastPulledBranch,expression:"lastPulledBranch"}],staticClass:"formbold-form-input readOnlyInput aline-end",attrs:{type:"text",id:"lastPulledBranch",placeholder:" الفرع المسحوب منه ",readonly:""},domProps:{value:t.lastPulledBranch},on:{input:function(e){e.target.composing||(t.lastPulledBranch=e.target.value)}}})])]):t._e(),e("div",{staticClass:"formbold-mb-3 cont_add_del_upda"},[e("button",{staticClass:"addProduct-btn",attrs:{disabled:!t.selectedProduct||!t.quantity},on:{click:function(e){return e.preventDefault(),t.addProduct.apply(null,arguments)}}},[t._v(" اضافة المنتج ")]),e("button",{staticClass:"updateProduct-btn",attrs:{disabled:!t.selectedProduct||!t.quantity},on:{click:function(e){return e.preventDefault(),t.updateProduct.apply(null,arguments)}}},[t._v(" تعديل المنتج ")]),e("button",{staticClass:"deleteProduct-btn",on:{click:function(e){return e.preventDefault(),t.deleteProduct.apply(null,arguments)}}},[t._v(" حذف ")]),e("button",{staticClass:"cancelChangeProduct-btn",on:{click:function(e){return e.preventDefault(),t.cancelChange.apply(null,arguments)}}},[t._v(" الغاء ")])]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("ValidationProvider",{attrs:{name:"رقم بطلب",rules:"numeric|min_value:1"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"numberOfOrders"}},[t._v(" رقم الطلب ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],staticClass:"formbold-form-input aline-end",attrs:{type:"number",id:"numberOfOrders",placeholder:"رقم الطلب"},domProps:{value:t.number},on:{input:function(e){e.target.composing||(t.number=e.target.value)}}}),e("p",{staticClass:"info-message"},[t._v(" اتركه فارغا ليتم انشاء رقم الطلب اوتوماتيكلى ")]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"laborPrice"}},[t._v("حدد المصنعية يدويا ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.laborPrice,expression:"laborPrice"}],staticClass:"formbold-form-input aline-end",attrs:{type:"number",id:"laborPrice",placeholder:"حدد المصنعية يدويا "},domProps:{value:t.laborPrice},on:{input:function(e){e.target.composing||(t.laborPrice=e.target.value)}}}),e("p",{staticClass:"info-message"},[t._v(" فى حالة لا يوجد منتج يتم حساب المصنعية من خلاله او اذا كنت تفضل حساب المصنعية يدويا ")])])]),e("div",{staticClass:"formbold-mb-3"},[e("ValidationProvider",{attrs:{name:"تاريخ بدا العمل",rules:"date_format:YYYY-MM-DD"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"dob"}},[t._v(" تاريخ بدا العمل ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],staticClass:"formbold-form-input aline-end",attrs:{type:"date",name:"dob",id:"dob"},domProps:{value:t.date},on:{input:function(e){e.target.composing||(t.date=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"formbold-mb-3"},[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"address"}},[t._v(" مكان التركيب ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.adress,expression:"adress"}],staticClass:"formbold-form-input formbold-mb-3 aline-end",attrs:{type:"text",id:"address",placeholder:"العنوان"},domProps:{value:t.adress},on:{input:function(e){e.target.composing||(t.adress=e.target.value)}}})]),e("div",{staticClass:"formbold-mb-3"},[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"message"}},[t._v(" ملاحظات ")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.notes,expression:"notes"}],staticClass:"formbold-form-input",attrs:{rows:"6",id:"message"},domProps:{value:t.notes},on:{input:function(e){e.target.composing||(t.notes=e.target.value)}}})]),e("div",{staticClass:"formbold-form-file-flex"},[e("label",{staticClass:"formbold-form-label",attrs:{for:"upload"}},[t._v(" Upload disign ")]),e("input",{staticClass:"formbold-form-file",attrs:{type:"file",id:"upload"},on:{change:t.handleFileUpload}})]),e("button",{staticClass:"formbold-btn",class:{"disabled-btn":a},attrs:{disabled:a}},[t._v(" حفظ و إنشاء الفاتورة ")]),e("button",{staticClass:"formbold-btn",class:{"disabled-btn":a},attrs:{disabled:a},on:{click:function(e){return e.preventDefault(),t.createAndCustomizeInvoice.apply(null,arguments)}}},[t._v(" حفظ وتخصيص فاتورة ")])])]}}])})],1)])]),e("CircleLoader",{attrs:{show:t.isLoading}})],1)},pr=[];Object(wa["c"])("required",{...Ia["g"],message:"{_field_} مطلوب"}),Object(wa["c"])("numeric",{...Ia["f"],message:"{_field_} يجب أن يكون رقمًا"}),Object(wa["c"])("min_value",{...Ia["e"],message:"{_field_} يجب أن يكون على الأقل {min}"}),Object(wa["c"])("date_format",{validate(t){const e=new RegExp("^\\d{4}-\\d{2}-\\d{2}$");return e.test(t)},params:["format"],message:"{_field_} يجب أن يكون بالتنسيق الصحيح {format}"});var hr={name:"AddNewOrder",components:{FormImage:or,CircleLoader:Sa},data(){return{addedOrders:[],selectedProduct:"",productId:"",price_offer:"",quantity:"",productInfo:"",selectedCustomer:"",customerId:null,customerInfo:"",selectedTechnical:"",TechnicalId:null,TechnicaInfo:"",invoiceType:"تركيب وتوريد",date:"",adress:"",notes:"",status:"0",number:"",laborPrice:"",shipping:"",selectProductForUpdateProp:"",isEditingProduct:!1,unregisteredCustomerMessage:"",unregisteredTechnicalMessage:"",aboutQuantityInBranchMessage:"",file:null,pullFromBranch:!1,currentImageUrl:"",Id:null,selectedBranch:"",BranchId:"",quantityInBranch:"",hasPreviousPullOperation:!1,lastPulledBranch:"",lastPulledQuantity:0,isLoading:!1,customInvoice:!1}},watch:{quantity(){}},computed:{getDarkMode(){return this.$store.state.darkMode},getAllBranchesHasProduct(){return this.branches.filter(t=>t.products.some(t=>t.id===this.productId))},...Object(y["e"])(Qa,{myAllProducts:"products"}),...Object(y["e"])(Ke,["categories"]),...Object(y["e"])(x,["technicalUsers","clientUsers"]),...Object(y["e"])(lt,["orders"]),...Object(y["e"])(ie,["branches"])},async created(){this.fetchCategories(),this.fetchProducts(),this.fetchUsers(),this.fetchBranches(),await this.fetchOrders(),this.Id=this.$route.params.orderId,this.fetchOrderDetails()},methods:{...Object(y["d"])(Qa,["fetchProducts"]),...Object(y["d"])(Ke,["fetchCategories"]),...Object(y["d"])(x,["fetchUsers"]),...Object(y["d"])(lt,["updateOrder","fetchOrders","uploadImage","deleteImageFromStorage","generateOrderNumber"]),...Object(y["d"])(ie,["fetchBranches","updateBranch"]),async fetchOrderDetails(){const t=this.orders.find(t=>t.id===this.Id);t&&(this.addedOrders=t.products,this.selectedCustomer=t.customerName,this.customerId=t.customerId,this.customerInfo=t.customerInfo,this.selectedTechnical=t.technicalName,this.TechnicalId=t.technicalId,this.TechnicaInfo=t.TechnicaInfo,this.invoiceType=t.invoiceType,this.date=t.date,this.adress=t.adress,this.notes=t.notes,this.status=t.status,this.number=t.numberOfOrder,this.laborPrice=t.laborPrice,this.shipping=t.shipping,this.currentImageUrl=t.imageUrl)},handleFileUpload(t){this.file=t.target.files[0]},createAndCustomizeInvoice(){this.customInvoice=!0,this.handelUpdateOrder()},addProduct(){if(!this.isEditingProduct){let t={id:this.productId,name:this.selectedProduct,price_offer:this.price_offer,quantity:this.quantity,productInfo:this.productInfo};this.toPUllFromBranch(t),this.addedOrders.push(t),console.log(this.addedOrders),this.clearProductForm()}},toPUllFromBranch(t){if(this.pullFromBranch&&Number(this.quantityInBranch)>0){let e=Number(this.quantity),a=Number(this.quantityInBranch),s="";a<e?(s="less",t.avilabelQuantityInBranch=a):(s="more",t.avilabelQuantityInBranch=""),t.branchId=this.BranchId,t.selectedBranch=this.selectedBranch,t.pullQuantityNeeded=e,t.pullStatus=s}},cancelChange(){this.clearProductForm()},clearProductForm(){this.selectedProduct="",this.productId="",this.quantity="",this.selectProductForUpdateProp="",this.pullFromBranch=!1,this.BranchId="",this.selectedBranch="",this.quantityInBranch="",this.isEditingProduct=!1,this.toggleButtons(!1)},selectProductForUpdate(){const t=this.addedOrders.find(t=>t.id===this.selectProductForUpdateProp);t&&(this.selectedProduct=t.name,this.productId=t.id,this.price_offer=t.price_offer,this.quantity=t.quantity,t.branchId?(this.selectedBranch=t.selectedBranch,this.getProductFromBranch(),this.pullFromBranch=!0,console.log("selected",this.BranchId)):(this.pullFromBranch=!1,this.BranchId="",this.selectedBranch="",this.quantityInBranch=""),t.branchId&&t.isPulled||t.ancientBranchId?(this.showLastPullOpertion(t),console.log("run show last pull")):this.hasPreviousPullOperation=!1,this.isEditingProduct=!0,this.toggleButtons(!0))},showLastPullOpertion(t){let e="",a=0;t.ancientBranchId?(e=this.getBranchNameById(t.ancientBranchId),a=t.ancientQuantityNeeded):(e=this.getBranchNameById(t.branchId),a="less"===t.pullStatus?t.avilabelQuantityInBranch:t.pullQuantityNeeded),this.lastPulledBranch=e,this.lastPulledQuantity=a,this.hasPreviousPullOperation=!0,console.log(`Last Pulled Branch: ${e}, Last Pulled Quantity: ${a}`)},getBranchNameById(t){const e=this.branches.find(e=>e.id===t);return e?e.nameBranch:"Unknown Branch"},updateProduct(){console.log("enter the fun : update pro");const t=this.addedOrders.findIndex(t=>t.id===this.productId);if(-1!==t){if(this.addedOrders[t].name=this.selectedProduct,this.addedOrders[t].price_offer=this.price_offer,this.addedOrders[t].quantity=this.quantity,this.pullFromBranch&&this.addedOrders[t].isPulled){if(console.log("enter old product need change pull"),this.addedOrders[t].ancientBranchId&&this.addedOrders[t].ancientQuantityNeeded)console.log("do nothing u already catched them before");else{var e=this.addedOrders[t].branchId,a=this.addedOrders[t].pullQuantityNeeded;"less"===this.addedOrders[t].pullStatus&&(a=Number(this.addedOrders[t].avilabelQuantityInBranch)),this.addedOrders[t].ancientBranchId=e,this.addedOrders[t].ancientQuantityNeeded=a}let s=Number(this.quantity),r=Number(this.quantityInBranch);if(console.log("check BranchId",this.BranchId),!this.BranchId)return console.log("Error: اختر فرع اولا"),void Mt()({text:" اختر فرع اولا",icon:"error"});if(this.addedOrders[t].ancientBranchId===this.BranchId)r+=Number(this.addedOrders[t].ancientQuantityNeeded);else if(r<=0)return console.log("Error: لا يمكن السحب من الفرع الجديد لأن الكمية المتاحة أقل من أو تساوي الصفر"),void Mt()({text:" لا يمكن السحب من الفرع الجديد لأن الكمية المتاحة أقل من أو تساوي الصفر",icon:"error"});let i="";r<s?(i="less",this.addedOrders[t].avilabelQuantityInBranch=r):(i="more",this.addedOrders[t].avilabelQuantityInBranch=""),this.addedOrders[t].branchId=this.BranchId,this.addedOrders[t].selectedBranch=this.selectedBranch,this.addedOrders[t].pullQuantityNeeded=s,this.addedOrders[t].pullStatus=i,console.log(`Old branchId: ${e}, Old pullQuantityNeeded: ${a}`)}if(this.pullFromBranch&&Number(this.quantityInBranch)>0&&!("isPulled"in this.addedOrders[t])){let e=Number(this.quantity),a=Number(this.quantityInBranch),s="";a<e?(s="less",this.addedOrders[t].avilabelQuantityInBranch=a):(s="more",this.addedOrders[t].avilabelQuantityInBranch=""),this.addedOrders[t].branchId=this.BranchId,this.addedOrders[t].selectedBranch=this.selectedBranch,this.addedOrders[t].pullQuantityNeeded=e,this.addedOrders[t].pullStatus=s}if(this.BranchId&&0==this.pullFromBranch&&!("isPulled"in this.addedOrders[t])&&(console.log("from inside the cancel the pull"),delete this.addedOrders[t].branchId,delete this.addedOrders[t].selectedBranch,delete this.addedOrders[t].pullQuantityNeeded,delete this.addedOrders[t].pullStatus,delete this.addedOrders[t].avilabelQuantityInBranch,this.BranchId="",this.selectedBranch="",this.quantityInBranch=""),console.log("before cancel",this.BranchId,this.pullFromBranch,this.addedOrders[t].isPulled),console.log("before cancel BranchId",this.BranchId),console.log("before cancel our product is ",this.addedOrders[t]),0==this.pullFromBranch&&this.addedOrders[t].isPulled){if(console.log("from inside the cancel the pull"),this.addedOrders[t].ancientBranchId&&this.addedOrders[t].ancientQuantityNeeded)console.log("do nothing");else{const e=this.addedOrders[t].branchId;var s=this.addedOrders[t].pullQuantityNeeded;"less"===this.addedOrders[t].pullStatus&&(s=Number(this.addedOrders[t].avilabelQuantityInBranch)),this.addedOrders[t].ancientBranchId=e,this.addedOrders[t].ancientQuantityNeeded=s}delete this.addedOrders[t].branchId,delete this.addedOrders[t].selectedBranch,delete this.addedOrders[t].pullQuantityNeeded,delete this.addedOrders[t].pullStatus,delete this.addedOrders[t].avilabelQuantityInBranch,this.BranchId="",this.selectedBranch="",this.quantityInBranch=""}console.log(this.addedOrders),this.clearProductForm()}},deleteProduct(){const t=this.addedOrders.findIndex(t=>t.id===this.productId);if(-1!==t){if(!this.addedOrders[t].branchId&&!this.addedOrders[t].ancientBranchId)return console.log("Product without pull operation, simply delete"),this.addedOrders.splice(t,1),void this.clearProductForm();if(!this.addedOrders[t].isPulled&&this.addedOrders[t].branchId)return console.log("Product has a pull operation but just added, simply delete"),this.addedOrders.splice(t,1),void this.clearProductForm();if(this.addedOrders[t].isPulled){if(console.log("Product has a pull operation from before, adjusting quantities"),!this.addedOrders[t].ancientBranchId||!this.addedOrders[t].ancientQuantityNeeded){const a=this.addedOrders[t].branchId;var e=this.addedOrders[t].pullQuantityNeeded;"less"===this.addedOrders[t].pullStatus&&(e=Number(this.addedOrders[t].avilabelQuantityInBranch)),this.addedOrders[t].ancientBranchId=a,this.addedOrders[t].ancientQuantityNeeded=e}return this.addedOrders[t].isDeleted=!0,delete this.addedOrders[t].branchId,delete this.addedOrders[t].selectedBranch,delete this.addedOrders[t].pullQuantityNeeded,delete this.addedOrders[t].pullStatus,delete this.addedOrders[t].avilabelQuantityInBranch,this.BranchId="",this.selectedBranch="",this.quantityInBranch="",void this.clearProductForm()}}},updateProductId(){this.pullFromBranch=!1,this.hasPreviousPullOperation=!1,this.BranchId="",this.selectedBranch="",this.quantityInBranch="",this.isEditingProduct=!1,this.toggleButtons(!1);const t=this.myAllProducts.find(t=>t.name===this.selectedProduct);this.productId=t?t.id:"",this.productInfo=t||""},getProductFromBranch(){const t=this.branches.find(t=>t.nameBranch===this.selectedBranch);let e;t&&(this.BranchId=t.id,e=t.products.find(t=>t.id===this.productId)),e&&(console.log("get quantity from product"),this.quantityInBranch=e.quantity,Number(this.quantityInBranch))},quantityMessage(){this.BranchId&&(console.log("still there branchId",this.BranchId),Number(this.quantityInBranch)<Number(this.quantity)?this.aboutQuantityInBranchMessage="سيتم سحب الكمية المتوفرة والباقى يمكنك شراءه":this.aboutQuantityInBranchMessage="")},updateCustomerId(){const t=this.clientUsers.find(t=>t.name===this.selectedCustomer);t?(this.customerId=t.id,this.customerInfo=t,this.unregisteredCustomerMessage=""):(this.customerId=null,this.customerInfo="",this.unregisteredCustomerMessage="هذا العميل غير مسجل في النظام. قد تفقد بعض المميزات.")},updateTechnicalId(){const t=this.technicalUsers.find(t=>t.name===this.selectedTechnical);t?(this.TechnicalId=t.id,this.TechnicaInfo=t,this.unregisteredTechnicalMessage=""):(this.TechnicalId=null,this.TechnicaInfo="",this.unregisteredTechnicalMessage="هذا الفني غير مسجل في النظام. قد تفقد بعض المميزات.")},toggleButtons(t){const e=document.querySelector(".addProduct-btn"),a=document.querySelector(".updateProduct-btn"),s=document.querySelector(".deleteProduct-btn"),r=document.querySelector(".cancelChangeProduct-btn");t?(e.classList.add("addProduct-btn_hidde"),a.classList.add("updateProduct-btn_show"),s.classList.add("deleteProduct-btn_show"),r.classList.add("cancelChangeProduct-btn_show")):(e.classList.remove("addProduct-btn_hidde"),a.classList.remove("updateProduct-btn_show"),s.classList.remove("deleteProduct-btn_show"),r.classList.remove("cancelChangeProduct-btn_show"))},async pullProductsFromDatabase(){console.log("just enter pull fun",this.addedOrders);for(const t of this.addedOrders){if(!t.branchId&&t.ancientBranchId){const e=t.ancientBranchId,a=Number(t.ancientQuantityNeeded),s=this.branches.find(t=>t.id===e);if(s){const e=s.products.find(e=>e.id===t.id);e&&(console.log("before back stock",e.quantity),e.quantity+=a,console.log("after back stock",e.quantity),await this.updateBranch(s))}if(delete t.ancientBranchId,delete t.ancientQuantityNeeded,delete t.isPulled,t.isDeleted){console.log("Product marked for deletion, removing it after restoring quantity.");const e=this.addedOrders.findIndex(e=>e.id===t.id);-1!==e&&this.addedOrders.splice(e,1)}else console.log("Product not marked for deletion, keeping it in the list.")}if(t.branchId||t.ancientBranchId){if(console.log("print info",t.branchId,t.ancientBranchId),t.branchId&&t.ancientBranchId){console.log("just enter our case");const e=t.ancientBranchId,a=t.branchId,s=Number(t.ancientQuantityNeeded),r=Number(t.pullQuantityNeeded),i=this.branches.find(t=>t.id===e);if(i){const e=i.products.find(e=>e.id===t.id);e&&(console.log("before back stock",e.quantity),e.quantity+=Number(s),console.log("after back stock",e.quantity),await this.updateBranch(i))}const o=this.branches.find(t=>t.id===a);if(!o){Mt()("خطأ","الفرع المحدد غير موجود.","error");continue}const n=o.products.find(e=>e.id===t.id);if(!n){Mt()("خطأ","المنتج غير موجود في الفرع المحدد.","error");continue}"less"===t.pullStatus?n.quantity=0:"more"===t.pullStatus&&(n.quantity-=r),console.log("before update Branch with new data "),await this.updateBranch(o),delete t.ancientBranchId,delete t.ancientQuantityNeeded}else if(t.branchId&&!t.ancientBranchId&&!t.isPulled){const e=t.branchId,a=Number(t.pullQuantityNeeded),s=this.branches.find(t=>t.id===e);if(!s){Mt()("خطأ","الفرع المحدد غير موجود.","error");continue}const r=s.products.find(e=>e.id===t.id);if(!r){Mt()("خطأ","المنتج غير موجود في الفرع المحدد.","error");continue}"less"===t.pullStatus?r.quantity=0:"more"===t.pullStatus&&(r.quantity-=a),await this.updateBranch(s),t.isPulled=!0}console.log("تم تحديث عملية السحب:",this.addedOrders)}else console.log("skip case")}},async handelUpdateOrder(){this.isLoading=!0;try{if(0===this.addedOrders.length)return Mt()("لا يمكن إنشاء الطلب بدون منتجات.","يرجى إضافة منتجات قبل إنشاء الطلب.","error"),void(this.isLoading=!1);let t="";this.file&&(this.currentImageUrl&&await this.deleteImageFromStorage(this.currentImageUrl),t=await this.uploadImage({file:this.file})),this.number||(this.number=await this.generateOrderNumber()),await this.pullProductsFromDatabase();const e={id:this.Id,products:this.addedOrders,customerName:this.selectedCustomer,customerId:this.customerId,customerInfo:this.customerInfo,technicalName:this.selectedTechnical,technicalId:this.TechnicalId,TechnicaInfo:this.TechnicaInfo,invoiceType:this.invoiceType,adress:this.adress,date:this.date,status:this.status,laborPrice:this.laborPrice,notes:this.notes,numberOfOrder:this.number,shipping:this.shipping,imageUrl:t};console.log("before send"),await this.updateOrder(e),console.log("after send"),this.isLoading=!1,this.customInvoice?(Mt()("تم تعديل الطلب بنجاح!","سيتم إعادة توجيهك إلى صفحة تخصيص فاتورة.","success"),this.$router.push({name:"CustomInvoice",params:{orderId:this.Id,isCustom:"true"}})):(Mt()("تم تعديل الطلب بنجاح!","سيتم إعادة توجيهك إلى صفحة الفاتورة.","success"),this.$router.push({name:"Fatora",params:{orderId:this.Id,isCustom:"false"}}))}catch(t){console.error("Error creating order:",t),this.isLoading=!1,Mt()("خطأ في تعديل الطلب","يرجى المحاولة مرة أخرى.","error")}}}},mr=hr,fr=(a("3f53"),Object(l["a"])(mr,ur,pr,!1,null,"7e61518e",null)),vr=fr.exports,gr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"fatora"},[e("div",{staticClass:"title"},[e("div",[e("div",{staticClass:"contTitle"},[t._m(0),e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Fatora grid")])]),e("div",[t._m(1),e("button",{staticClass:"generate",on:{click:t.print}},[e("font-awesome-icon",{staticClass:"printIcon",attrs:{icon:"fa-solid fa-print"}}),e("p",[t._v("print")])],1)])])]),e("div",{staticClass:"allContent",class:{"dark-mode-box":t.getDarkMode}},[t.isLoading?e("DetailsSkeleton"):t.orderInfo?e("ShowFatoora",{attrs:{orderInfo:t.orderInfo,isCustomized:t.isCustomized}}):t._e()],1),e("div",{staticClass:"scrollUp",attrs:{id:"scrollUp"}})])},br=[function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTUQUVkx6lAgtb3-3fMuDZnDixihOSrrNSAOg&usqp=CAU"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"export"},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmvEXj1Sr-tzeKuEP9PgzajIUDvR_-L-zfkg&usqp=CAU"}}),e("button",[t._v("png")])])}],yr=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"fatoora"},[e("div",{staticClass:"fatoora__header"},[e("div",[e("img",{staticClass:"invoiceLogo",attrs:{src:a("8e27")}})]),e("div",[e("button",[t._v("بيان اسعار")]),e("span",[t._v(" "+t._s(t.orderInfo.numberOfOrder)+" :رقم")])]),t._m(0)]),e("div",{staticClass:"fatoora__title"},[e("div",[t.orderInfo?e("p",[t._v(" نوع الفاتورة : "+t._s(t.orderInfo.invoiceType)+" ")]):t._e(),t.orderInfo&&t.orderInfo.adress?e("p",[t._v(" العنوان: "+t._s(t.orderInfo.adress)+" ")]):t._e()]),e("div",[t.orderInfo&&t.orderInfo.date?e("p",[t._v(" "+t._s(t.orderInfo.date)+" : تحرير فى ")]):t._e(),t.orderInfo&&!t.orderInfo.date?e("p",[t._v("تحرير فى : غير محدد")]):t._e(),t.orderInfo?e("p",[t._v(" اسم العميل : "+t._s(t.orderInfo.customerName||"غير محدد")+" ")]):t._e()])]),e("div",{staticClass:"fatoora__table"},[e("table",{staticClass:"table"},[e("thead",[e("tr",[e("th",[t._v("اجمالى")]),t.shouldDisplayDiscount?e("th",[t._v("قيمة الخصم")]):t._e(),e("th",[t._v("الكمية")]),"تركيب"!==t.orderInfo.invoiceType?e("th",[t._v("سعر الوحده")]):t._e(),e("th",[t._v("كود المنتج")]),e("th",[t._v("اسم الصنف")])])]),t.orderInfo?e("tbody",[t._l(t.orderInfo.products,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(t.calculateTotalPrice(a)))]),t.shouldDisplayDiscount?e("td",[t._v(" "+t._s(t.calculateDiscount(a))+" ")]):t._e(),e("td",[t._v(t._s(a.quantity))]),"تركيب"!==t.orderInfo.invoiceType?e("td",[t._v(" "+t._s(a.priceWithIncrease&&"true"===t.isCustomized?a.priceWithIncrease:a.productInfo.priceMaterial)+" ")]):t._e(),e("td",[t._v(t._s(a.productInfo.name))]),e("td",[t._v(t._s(t.categoryName(a)))])])})),t._l(t.orderInfo.jokerFields,(function(a,s){return e("tr",{key:"joker-"+s},[e("td",[t._v(t._s(t.calculateJokerTotal(a)))]),t.shouldDisplayDiscount?e("td",[t._v("---")]):t._e(),e("td",[t._v(t._s(a.quantity||"---"))]),e("td",[t._v(t._s(a.value||"---"))]),e("td",[t._v(t._s(a.name||"---"))]),e("td",[t._v(t._s(a.category||"---"))])])})),t._l(t.filteredProductsForInstallation,(function(a,s){return e("tr",{key:"installation-"+s},[e("td",[t._v(" "+t._s((a.editOfInstallation&&"true"===t.isCustomized?a.editOfInstallation:a.productInfo.priceWithLabor)*a.quantity)+" ")]),t.shouldDisplayDiscount?e("td",[t._v("0")]):t._e(),e("td",[t._v(t._s(a.quantity))]),e("td",[t._v(" "+t._s(a.editOfInstallation&&"true"===t.isCustomized?a.editOfInstallation:a.productInfo.priceWithLabor)+" ")]),e("td",[t._v(t._s(a.productInfo.name))]),e("td",[t._v("المصنعية")])])})),t.shouldDisplayInstallation&&t.orderInfo.fixedInstallation>0?e("tr",[e("td",[t._v(t._s(t.calculateTotalInstallation))]),t.shouldDisplayDiscount?e("td",[t._v("0")]):t._e(),e("td",[t._v(t._s(t.calculateTotalQuantity))]),e("td",[t._v(t._s(t.orderInfo.fixedInstallation))]),e("td",{attrs:{colspan:"2"}},[t._v("المصنعية")])]):t._e(),t.orderInfo.shipping?e("tr",[e("td",{attrs:{colspan:"3"}},[t._v(" "+t._s(t.orderInfo.customShipping?t.orderInfo.customShipping:t.orderInfo.shipping)+" ")]),e("td",{attrs:{colspan:"4"}},[t._v("شحن ")])]):t._e()],2):t._e()])]),e("div",{staticClass:"fatoora__sales"},[t.shouldDisplayDiscount?e("p",[t._v(" اجمالى الخصم: "),e("span",[t._v(t._s(t.calculateTotalDiscount))])]):t._e(),"تركيب وتوريد"===t.orderInfo.invoiceType||"توريد"===t.orderInfo.invoiceType?e("p",[t._v(" اجمالى خامات : "),e("span",[t._v(t._s(t.calculateGrandTotal))])]):t._e(),"تركيب وتوريد"===t.orderInfo.invoiceType||"تركيب"===t.orderInfo.invoiceType?e("p",[t._v(" اجمالى مصنعية: "),e("span",[t._v(t._s(t.calculateTotalInstallation))])]):t._e(),"تركيب وتوريد"===t.orderInfo.invoiceType?e("p",[t._v(" الكلى: "),e("span",[t._v(t._s((Number(t.calculateGrandTotal)+Number(t.calculateTotalInstallation)).toFixed(2)))])]):t._e()]),t._m(1),t._m(2)]),e("div",{staticClass:"fatoora__btns"},[e("button",{on:{click:function(e){return e.preventDefault(),t.goBack.apply(null,arguments)}}},[t._v("عودة للطلبات")])])])},_r=[function(){var t=this,e=t._self._c;return e("div",[e("p",{staticClass:"categories"},[t._v("بانوهات كرانيش اسقف معلقة بديل خشب بديل رخام")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"fatoora__notes"},[e("p",[t._v(" البضاعة المباعة لا ترد ولا تستبدل الا فى خلال 14 يوم كحد اقصى من تاريخ الفاتورة ")]),e("p",[t._v("فى حالة التركيب يرجى من العميل توفير سلالم للفنيين")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"qrcode_cont"},[e("canvas",{attrs:{id:"qr-code"}})])}],Cr=a("d055"),wr=a.n(Cr),Ir={name:"ShowFatoora",components:{},props:{orderInfo:{type:Object,required:!0},isCustomized:{type:String,required:!0}},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(Ke,["categories"]),filteredProductsForInstallation(){return this.orderInfo&&this.orderInfo.products?this.orderInfo.products.filter(t=>this.shouldDisplayInstallation&&0==this.orderInfo.fixedInstallation&&t.productInfo.priceWithLabor):[]},shouldDisplayDiscount(){return!!this.orderInfo.displaySale},shouldDisplayInstallation(){return!!this.orderInfo.displayInstallation},calculateTotalDiscount(){const t=this.orderInfo.products.reduce((t,e)=>{const a=e.priceWithIncrease&&"true"===this.isCustomized?e.priceWithIncrease:e.productInfo.priceMaterial,s=a*e.quantity,r=s*(e.price_offer/100);return t+r},0);return t.toFixed(2)},calculateGrandTotal(){let t=0;this.orderInfo.products&&(t+=this.orderInfo.products.reduce((t,e)=>{const a=e.priceWithIncrease&&"true"===this.isCustomized?e.priceWithIncrease:e.productInfo.priceMaterial,s=a*e.quantity,r=s*(e.price_offer/100);return t+(s-r)},0)),this.orderInfo.jokerFields&&(t+=this.orderInfo.jokerFields.reduce((t,e)=>{if(e.willBeCalculated&&"material"===e.calculationType){if(e.value&&e.quantity)return t+e.value*e.quantity;if(e.value)return t+e.value}return t},0));const e=Number(this.orderInfo.shipping)||0;return(t+e).toFixed(2)},calculateTotalQuantity(){const t=this.orderInfo.products.reduce((t,e)=>e.productInfo.priceWithLabor?t+Number(e.quantity):t,0);return t},calculateTotalInstallationWithJoker(){let t=0;return this.orderInfo.products&&(console.log("enter this.orderInfo.products"),t+=this.orderInfo.products.reduce((t,e)=>{let a=0;return"true"===this.isCustomized&&e.editOfInstallation&&Number(e.editOfInstallation)>0?a=e.editOfInstallation*e.quantity:e.productInfo.priceWithLabor&&(a=e.productInfo.priceWithLabor*e.quantity),t+a},0)),this.orderInfo.jokerFields&&(console.log("enter this.orderInfo.jokerFields"),t+=this.orderInfo.jokerFields.reduce((t,e)=>{if(e.willBeCalculated&&"installation"===e.calculationType){if(e.value&&e.quantity)return t+e.value*e.quantity;if(e.value)return t+e.value}return t},0)),t.toFixed(2)},calculateTotalInstallation(){return this.orderInfo.laborPrice?this.orderInfo.laborPrice:this.calculateTotalInstallationWithJoker}},async created(){console.log("inside componnent:",this.isCustomized),console.log("inside componnent:",this.orderInfo),this.fetchCategories();try{await Object(s["nextTick"])(),this.generateQRCode()}catch(t){console.error("Error fetching orders:",t)}},methods:{...Object(y["d"])(Ke,["fetchCategories"]),calculateTotalPrice(t){if("تركيب"!==this.orderInfo.invoiceType){const e=t.priceWithIncrease&&"true"===this.isCustomized?t.priceWithIncrease:t.productInfo.priceMaterial,a=e*t.quantity,s=a*(t.price_offer/100);return(a-s).toFixed(2)}return"-------"},calculateDiscount(t){const e=t.priceWithIncrease&&"true"===this.isCustomized?t.priceWithIncrease:t.productInfo.priceMaterial,a=e*t.quantity,s=a*(t.price_offer/100);return s.toFixed(2)},calculateJokerTotal(t){return t.value&&t.quantity?(t.value*t.quantity).toFixed(2):t.value?t.value:"---"},categoryName(t){const e=this.categories.find(e=>e.id===t.productInfo.categoryId);if(console.log(e),e)return e.name},async generateQRCode(){try{const t="https://ahmedabdosoftware.github.io/websiteUpdated-DSD/",e=document.getElementById("qr-code");await wr.a.toCanvas(e,t)}catch(t){console.error("Error generating QR code:",t)}},goBack(){const t=this.$route.meta.layout;if("DashboardLayout"===t)this.$router.push("/dashboard/Order");else if("profileInDashboardLayout"===t){const t=this.$route.params.profileId;this.$router.push("/dashboard/profile/"+t)}else if("profileOutDashboardLayout"===t){const t=this.$route.params.profileId;this.$router.push("/profile/"+t)}}},data(){return{}}},Pr=Ir,kr=(a("bedb"),Object(l["a"])(Pr,yr,_r,!1,null,"e6122a4a",null)),xr=kr.exports,Dr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"skeleton-details"},[e("div",{staticClass:"skeleton-details__header"},[e("VueSkeletonLoader",{staticClass:"title",attrs:{width:"80%",height:"20px",type:"rect",animation:"wave"}})],1),e("div",{staticClass:"skeleton-details__info"},[e("div",{staticClass:"skeleton-details__info__item"},[e("VueSkeletonLoader",{staticClass:"line",attrs:{width:"50%",height:"15px",type:"rect",animation:"wave"}}),e("VueSkeletonLoader",{staticClass:"line",attrs:{width:"40%",height:"15px",type:"rect",animation:"wave"}})],1),e("div",{staticClass:"skeleton-details__info__item"},[e("VueSkeletonLoader",{staticClass:"line",attrs:{width:"50%",height:"15px",type:"rect",animation:"wave"}}),e("VueSkeletonLoader",{staticClass:"line",attrs:{width:"40%",height:"15px",type:"rect",animation:"wave"}})],1),e("div",{staticClass:"skeleton-details__info__item"},[e("VueSkeletonLoader",{staticClass:"line",attrs:{width:"50%",height:"15px",type:"rect",animation:"wave"}}),e("VueSkeletonLoader",{staticClass:"line",attrs:{width:"40%",height:"15px",type:"rect",animation:"wave"}})],1)]),e("div",{staticClass:"skeleton-details__table"},[e("VueSkeletonLoader",{staticClass:"table-line",attrs:{width:"100%",height:"25px",type:"rect",animation:"wave"}}),e("VueSkeletonLoader",{staticClass:"table-line",attrs:{width:"100%",height:"25px",type:"rect",animation:"wave"}}),e("VueSkeletonLoader",{staticClass:"table-line",attrs:{width:"100%",height:"25px",type:"rect",animation:"wave"}})],1),e("div",{staticClass:"skeleton-details__image"},[e("VueSkeletonLoader",{staticClass:"image",attrs:{width:"100%",height:"200px",type:"rect",animation:"wave"}})],1),e("div",{staticClass:"skeleton-details__note"},[e("VueSkeletonLoader",{staticClass:"note",attrs:{width:"80%",height:"15px",type:"rect",animation:"wave"}}),e("VueSkeletonLoader",{staticClass:"note",attrs:{width:"60%",height:"15px",type:"rect",animation:"wave"}})],1)])},Or=[],Sr={name:"DetailsSkeletonLoader",components:{VueSkeletonLoader:Ot["a"]}},Ar=Sr,Br=(a("c1d3"),Object(l["a"])(Ar,Dr,Or,!1,null,"70747935",null)),Tr=Br.exports,Fr={name:"Fatora",components:{DetailsSkeleton:Tr,ShowFatoora:xr},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(lt,["orders"])},async created(){console.log("before fetched:",this.orders);try{await this.fetchOrders(),this.isLoading=!1,console.log("Orders fetched:",this.orders),this.orderId=this.$route.params.orderId,this.isCustomized=this.$route.params.isCustom,console.log("Order ID:",this.orderId),console.log("isCustomized Param:",this.isCustomized),this.orderInfo=this.orders.find(t=>t.id===this.orderId),console.log("Order Info:",this.orderInfo)}catch(t){this.isLoading=!1,console.error("Error fetching orders:",t)}},methods:{...Object(y["d"])(lt,["fetchOrders"]),print(){window.print()}},data(){return{orderId:"",orderInfo:null,isLoading:!0,isCustomized:!1}}},qr=Fr,Lr=(a("a22d"),Object(l["a"])(qr,gr,br,!1,null,"4f8dc16e",null)),Nr=Lr.exports,jr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"customInvoice"},[e("div",{staticClass:"title"},[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("custom invoice")])]),e("div",{staticClass:"allContentt",class:{"dark-moode":t.getDarkMode}},[e("div",{staticClass:"formbold-main-wrapper"},[e("div",{staticClass:"formbold-form-wrapper"},[e("FormImage"),e("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function({invalid:a}){return[e("form",{on:{submit:function(e){return e.preventDefault(),t.handelUpdateOrder.apply(null,arguments)}}},[e("div",{staticClass:"formbold-input-flex"},[e("div"),e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"addedOrders"}},[t._v("المنتجات المضافة الآن")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectProductForUpdateProp,expression:"selectProductForUpdateProp"}],staticClass:"formbold-form-input aline-end",attrs:{id:"addedOrders",placeholder:" اختر من المضافة المنتجات "},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectProductForUpdateProp=e.target.multiple?a:a[0]},t.selectProductForUpdate]}},t._l(t.addedOrders,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),0)])]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"ampuntOfIncrease"}},[t._v(" مقدار الزيادة او النقصان")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.amountOfIncrease,expression:"amountOfIncrease"}],staticClass:"formbold-form-input aline-end",attrs:{type:"number",id:"ampuntOfIncrease",placeholder:"ادخل قيمة الزيادة"},domProps:{value:t.amountOfIncrease},on:{input:function(e){e.target.composing||(t.amountOfIncrease=e.target.value)}}})]),e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"product"}},[t._v(" المنتج ")]),e("ValidationProvider",{attrs:{name:"المنتج",rules:""+(0==t.addedOrders.length?"required":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedProduct,expression:"selectedProduct"}],staticClass:"formbold-form-input aline-end",attrs:{list:"propList",placeholder:"المنتج"},domProps:{value:t.selectedProduct},on:{input:function(e){e.target.composing||(t.selectedProduct=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"formbold-input-flex"},[e("div"),e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"editOfInstallation"}},[t._v(" تعديل المصنعية")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editOfInstallation,expression:"editOfInstallation"}],staticClass:"formbold-form-input aline-end",attrs:{type:"number",id:"editOfInstallation",placeholder:"ادخل قيمة الجديدة"},domProps:{value:t.editOfInstallation},on:{input:function(e){e.target.composing||(t.editOfInstallation=e.target.value)}}})])]),e("div",{staticClass:"formbold-mb-3 cont_add_del_upda"},[e("button",{staticClass:"addProduct-btn",attrs:{disabled:!t.selectedProduct||t.editOfInstallation<=0&&0==t.amountOfIncrease},on:{click:function(e){return e.preventDefault(),t.editProduct.apply(null,arguments)}}},[t._v(" تعديل السعر ")])]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"readonlyInput"}},[t._v("حدد كيف يعرض")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.customShipping,expression:"customShipping"}],staticClass:"formbold-form-input",attrs:{type:"text",id:"readonlyInput",placeholder:"ex: 300+300+200"},domProps:{value:t.customShipping},on:{input:function(e){e.target.composing||(t.customShipping=e.target.value)}}})]),e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"readonlyInput"}},[t._v("الشحن ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.shipping,expression:"shipping"}],staticClass:"formbold-form-input aline-end",attrs:{type:"text",id:"readonlyInput",readonly:""},domProps:{value:t.shipping},on:{input:function(e){e.target.composing||(t.shipping=e.target.value)}}})])]),e("div",{staticClass:"display-options"},[e("label",[t._v(" اظهار الخصومات فى الفاتورة "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.displaySale,expression:"displaySale"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.displaySale)?t._i(t.displaySale,null)>-1:t.displaySale},on:{change:function(e){var a=t.displaySale,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&(t.displaySale=a.concat([i])):o>-1&&(t.displaySale=a.slice(0,o).concat(a.slice(o+1)))}else t.displaySale=r}}})])]),e("div",{staticClass:"display-options"},[e("label",[t._v(" ارفاق الفاتورة العادية والمخصصة عند العملاء "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.displayTowInvoice,expression:"displayTowInvoice"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.displayTowInvoice)?t._i(t.displayTowInvoice,null)>-1:t.displayTowInvoice},on:{change:function(e){var a=t.displayTowInvoice,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&(t.displayTowInvoice=a.concat([i])):o>-1&&(t.displayTowInvoice=a.slice(0,o).concat(a.slice(o+1)))}else t.displayTowInvoice=r}}})])]),e("div",{staticClass:"display-options"},[e("label",[t._v(" (ان وجدت) اظهار المصنعية فى الجدول "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.displayInstallation,expression:"displayInstallation"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.displayInstallation)?t._i(t.displayInstallation,null)>-1:t.displayInstallation},on:{change:function(e){var a=t.displayInstallation,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&(t.displayInstallation=a.concat([i])):o>-1&&(t.displayInstallation=a.slice(0,o).concat(a.slice(o+1)))}else t.displayInstallation=r}}})])]),t.displayInstallation?e("div",{staticClass:"formbold-input-flex"},[e("div"),e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"fixedInstallation"}},[t._v(" سعر مصنعية موحد ؟")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.fixedInstallation,expression:"fixedInstallation"}],staticClass:"formbold-form-input aline-end",attrs:{type:"number",id:"fixedInstallation",placeholder:"ادخل قيمة الجديدة"},domProps:{value:t.fixedInstallation},on:{input:function(e){e.target.composing||(t.fixedInstallation=e.target.value)}}})])]):t._e(),e("button",{staticClass:"formbold-btn",class:{"disabled-btn":a},attrs:{disabled:a}},[t._v(" حفظ و إنشاء الفاتورة ")])])]}}])})],1)])]),e("CircleLoader",{attrs:{show:t.isLoading}})],1)},Mr=[];Object(wa["c"])("required",{...Ia["g"],message:"{_field_} مطلوب"}),Object(wa["c"])("double",{...Ia["b"],message:"{_field_} يجب أن يكون رقمًا"}),Object(wa["c"])("min_value",{...Ia["e"],message:"{_field_} يجب أن يكون على الأقل {min}"}),Object(wa["c"])("date_format",{validate(t){const e=new RegExp("^\\d{4}-\\d{2}-\\d{2}$");return e.test(t)},params:["format"],message:"{_field_} يجب أن يكون بالتنسيق الصحيح {format}"});var Ur={name:"AddNewOrder",components:{FormImage:or,CircleLoader:Sa},data(){return{addedOrders:[],selectedProduct:"",productId:"",productInfo:"",amountOfIncrease:0,editOfInstallation:0,fixedInstallation:0,selectProductForUpdateProp:"",isEditingProduct:!1,Id:null,shipping:"",customShipping:"",isLoading:!1,displayTowInvoice:!1,displaySale:!0,displayInstallation:!1}},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(lt,["orders"])},async created(){await this.fetchOrders(),this.Id=this.$route.params.orderId,this.fetchOrderDetails()},methods:{...Object(y["d"])(lt,["updateOrder","fetchOrders"]),async fetchOrderDetails(){const t=this.orders.find(t=>t.id===this.Id);t&&(this.addedOrders=t.products,this.shipping=t.shipping,this.displayTowInvoice=t.displayTowInvoice||!1,this.displayInstallation=t.displayInstallation||!1,this.fixedInstallation=t.fixedInstallation||0,this.displaySale=t.displaySale||!0,this.customShipping=t.customShipping||"",this.selectedProduct=this.addedOrders[0].name,this.productId=this.addedOrders[0].id,this.productInfo=this.addedOrders[0].productInfo)},clearProductForm(){this.selectedProduct="",this.productId="",this.productInfo="",this.selectProductForUpdateProp="",this.editOfInstallation=0,this.amountOfIncrease=0,this.isEditingProduct=!1},selectProductForUpdate(){const t=this.addedOrders.find(t=>t.id===this.selectProductForUpdateProp);t&&(this.selectedProduct=t.name,this.productId=t.id,this.productInfo=t.productInfo,this.amountOfIncrease=t.amountOfIncrease||0,this.editOfInstallation=t.editOfInstallation||0,this.isEditingProduct=!0,console.log(this.productId,this.productInfo),console.log(t))},editProduct(){const t=this.addedOrders.findIndex(t=>t.id===this.productId);if(-1!==t){if(0!==Number(this.amountOfIncrease)){console.log("inside");var e=this.productInfo.priceMaterial+parseFloat(this.amountOfIncrease);this.addedOrders[t].amountOfIncrease=this.amountOfIncrease,this.addedOrders[t].priceWithIncrease=e}Number(this.editOfInstallation)>0&&(this.addedOrders[t].editOfInstallation=this.editOfInstallation),console.log("spichialPrice",e,"this.productInfo.priceMaterial",this.productInfo.priceMaterial,"this.amountOfIncrease",this.amountOfIncrease,"editOfInstallation",this.editOfInstallation),this.clearProductForm(),console.log(this.addedOrders)}},async handelUpdateOrder(){this.isLoading=!0;try{if(0===this.addedOrders.length)return Mt()("لا يمكن إنشاء الطلب بدون منتجات.","يرجى إضافة منتجات قبل إنشاء الطلب.","error"),void(this.isLoading=!1);const t={id:this.Id,products:this.addedOrders,hasCustomInvoice:!0,customShipping:this.customShipping,displaySale:this.displaySale,displayTowInvoice:this.displayTowInvoice,displayInstallation:this.displayInstallation,fixedInstallation:this.fixedInstallation};console.log("before send"),await this.updateOrder(t),console.log("after send"),this.isLoading=!1,Mt()("تم تعديل الطلب بنجاح!","سيتم إعادة توجيهك إلى صفحة الفاتورة.","success"),this.$router.push({name:"Fatora",params:{orderId:this.Id,isCustom:"true"}})}catch(t){console.error("Error creating order:",t),this.isLoading=!1,Mt()("خطأ في تعديل الطلب","يرجى المحاولة مرة أخرى.","error")}}}},Er=Ur,Rr=(a("f361"),Object(l["a"])(Er,jr,Mr,!1,null,"7c4fc52b",null)),Qr=Rr.exports,Vr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"details"},[e("div",{staticClass:"details_title"},[e("div",[e("div",{staticClass:"contTitle"},[t._m(0),e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Details grid")])]),e("div",[t._m(1),e("button",{staticClass:"generate",on:{click:t.print}},[e("font-awesome-icon",{staticClass:"printIcon",attrs:{icon:"fa-solid fa-print"}}),e("p",[t._v("print")])],1)])])]),e("div",{staticClass:"details_allContent",class:{"dark-mode-box":t.getDarkMode}},[t.isLoading?e("DetailsSkeleton"):t.orderInfo?e("ShowDetails",{attrs:{orderInfo:t.orderInfo}}):t._e()],1),e("div",{staticClass:"scrollUp",attrs:{id:"scrollUp"}})])},Hr=[function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTUQUVkx6lAgtb3-3fMuDZnDixihOSrrNSAOg&usqp=CAU"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"export"},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmvEXj1Sr-tzeKuEP9PgzajIUDvR_-L-zfkg&usqp=CAU"}}),e("button",[t._v("png")])])}],Gr=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"detailsContent"},[e("div",{staticClass:"detailsContent__title"},[e("p",[t._v("تفاصيل الطلب: (فاتورة رقم: "+t._s(t.orderInfo.numberOfOrder)+")")])]),e("div",{staticClass:"detailsContent__Info"},[e("div",{staticClass:"detailsContent__Info__date"},[e("p",[t._v("تاريخ الطلب: "+t._s(t.orderInfo.date))])]),e("div",{staticClass:"detailsContent__orderInfo__technichal"},[e("p",[t._v("اسم الفني: "+t._s(t.orderInfo.TechnicaInfo.name))]),t.isAdmin?e("p",[t._v(" رقم التليفون: "+t._s(t.orderInfo.TechnicaInfo.number)+" ")]):t._e()]),e("div",{staticClass:"detailsContent__orderInfo__clint"},[e("p",[t._v("اسم العميل: "+t._s(t.orderInfo.customerName))]),e("p",[t._v("العنوان: "+t._s(t.orderInfo.adress))]),e("p",[t._v("رقم التليفون: "+t._s(t.orderInfo.customerInfo.number))])]),e("div",{staticClass:"detailsContent__Info__general"},[e("p",[t._v("فاتورة رقم: "+t._s(t.orderInfo.numberOfOrder))]),e("p",[t._v("نوع الفاتورة: "+t._s(t.orderInfo.invoiceType))]),e("p",[t._v("الحالة: "+t._s(t.getStatusText(t.orderInfo.status)))])])]),e("div",{staticClass:"detailsContent__listProducts"},[t._m(0),e("div",[e("table",{staticClass:"table"},[e("thead",[e("tr",[e("th",[t._v("الاجمالى")]),t.isAdmin?e("th",[t._v("قيمة الخصم")]):t._e(),e("th",[t._v("الكمية")]),e("th",[t._v("السعر")]),e("th",[t._v("كود الصنف")]),e("th",[t._v("اسم الصنف")])])]),t.orderInfo.products?e("tbody",[t._l(t.orderInfo.products,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(t.calculateTotalPrice(a)))]),t.isAdmin?e("td",[t._v(t._s(t.calculateDiscount(a)))]):t._e(),e("td",[t._v(t._s(a.quantity))]),e("td",[t._v(t._s(a.productInfo.priceMaterial))]),e("td",[t._v(t._s(a.productInfo.name))]),e("td",[t._v(t._s(t.categoryName(a)))])])})),t._l(t.orderInfo.jokerFields,(function(a,s){return e("tr",{key:"joker-"+s},[e("td",[t._v(t._s(t.calculateJokerTotal(a)))]),t.isAdmin?e("td",[t._v("---")]):t._e(),e("td",[t._v(t._s(a.quantity||"---"))]),e("td",[t._v(t._s(a.value||"---"))]),e("td",[t._v(t._s(a.name||"---"))]),e("td",[t._v(t._s(a.category||"---"))])])})),t.orderInfo.shipping?e("tr",[e("td",{attrs:{colspan:"3"}},[t._v(t._s(t.orderInfo.shipping))]),e("td",{attrs:{colspan:"3"}},[t._v("الشحن")])]):t._e()],2):t._e()])])]),e("div",{staticClass:"detailsContent__imge"},[t._m(1),e("div",{staticClass:"detailsContent__imge_cont"},[t.orderInfo.imageUrl?e("img",{attrs:{src:t.orderInfo.imageUrl}}):e("div",{staticClass:"no-image"},[e("font-awesome-icon",{attrs:{icon:"image",size:"4x"}}),e("p",[t._v("لا يوجد صورة متاحة")])],1)])]),e("div",{staticClass:"detailsContent__note"},[t._m(2),e("div",{staticClass:"detailsContent__note_cont"},[t.orderInfo.notes?e("p",[t._v(t._s(t.orderInfo.notes))]):e("div",{staticClass:"no-notes"},[e("font-awesome-icon",{attrs:{icon:"sticky-note",size:"4x"}}),e("p",[t._v("لا توجد ملاحظات")])],1)])])]),e("div",{staticClass:"details__btns"},[e("button",{on:{click:function(e){return e.preventDefault(),t.goBack.apply(null,arguments)}}},[t._v("اغلاق")])])])},Wr=[function(){var t=this,e=t._self._c;return e("div",[e("p",[t._v(":المنتجات")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"detailsContent__imge_title"},[e("p",[t._v(":التصميم")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"detailsContent__note_title"},[e("p",[t._v(":الملاحظات")])])}],zr={name:"ShowDetails",components:{},props:["orderInfo"],computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(Ke,["categories"]),...Object(y["e"])(k,["isAdmin"]),calculateTotalDiscount(){const t=this.orderInfo.products.reduce((t,e)=>{const a=e.productInfo.priceMaterial*e.quantity,s=a*(e.price_offer/100);return t+s},0);return t.toFixed(2)},calculateGrandTotal(){const t=this.orderInfo.products.reduce((t,e)=>{const a=e.productInfo.priceMaterial*e.quantity,s=a*(e.price_offer/100);return t+(a-s)},0),e=Number(this.orderInfo.shipping)||0;return(t+e).toFixed(2)},calculateTotalInstallation(){if(this.orderInfo.laborPrice)return this.orderInfo.laborPrice;{const t=this.orderInfo.products.reduce((t,e)=>{if(e.productInfo.priceWithLabor){const a=e.productInfo.priceWithLabor*e.quantity;return t+a}return console.log("no labor for that :",e),console.log("total until now :",t),t},0);return t.toFixed(2)}}},async created(){this.fetchCategories()},methods:{...Object(y["d"])(Ke,["fetchCategories"]),calculateTotalPrice(t){const e=t.productInfo.priceMaterial*t.quantity,a=e*(t.price_offer/100);return(e-a).toFixed(2)},calculateDiscount(t){const e=t.productInfo.priceMaterial*t.quantity,a=e*(t.price_offer/100);return a.toFixed(2)},categoryName(t){const e=this.categories.find(e=>e.id===t.productInfo.categoryId);if(console.log(e),e)return e.name},calculateJokerTotal(t){return t.willBeCalculated?t.value&&t.quantity?(t.value*t.quantity).toFixed(2):t.value?t.value:"---":"---"},Fatora(){const t=this.$route.meta.layout,e=this.orderInfo.id;if("DashboardLayout"===t)this.$router.push({name:"Fatora",params:{orderId:e}});else if("profileInDashboardLayout"===t){const t=this.$route.params.profileId;this.$router.push(`/dashboard/profile/${t}/Fatora/${e}`)}else if("profileOutDashboardLayout"===t){const t=this.$route.params.profileId;this.$router.push(`/profile/${t}/Fatora/${e}`)}},goBack(){const t=this.$route.meta.layout;if("DashboardLayout"===t)this.$router.push("/dashboard/Order");else if("profileInDashboardLayout"===t){const t=this.$route.params.profileId;this.$router.push("/dashboard/profile/"+t)}else if("profileOutDashboardLayout"===t){const t=this.$route.params.profileId;this.$router.push("/profile/"+t)}},getStatusText(t){switch(t){case"0":return"معلق";case"3":return"منتهى";case"1":return"مؤكد";default:return"غير معروف"}}},data(){return{}}},$r=zr,Zr=(a("03f0"),Object(l["a"])($r,Gr,Wr,!1,null,"f8a7ce80",null)),Yr=Zr.exports,Kr={name:"DetailsOrder",components:{DetailsSkeleton:Tr,ShowDetails:Yr},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(lt,["orders"])},async created(){try{await this.fetchOrders(),this.isLoading=!1,console.log("Orders fetched:",this.orders),this.orderId=this.$route.params.orderId,console.log("Order ID:",this.orderId),this.orderInfo=this.orders.find(t=>t.id===this.orderId),console.log("Order Info:",this.orderInfo)}catch(t){this.isLoading=!1,console.error("Error fetching orders:",t)}},methods:{...Object(y["d"])(lt,["fetchOrders"]),print(){window.print()}},data(){return{orderId:"",orderInfo:null,isLoading:!0}}},Xr=Kr,Jr=(a("2373"),Object(l["a"])(Xr,Vr,Hr,!1,null,"0a1702e8",null)),ti=Jr.exports,ei=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page oredrs"},[e("div",{staticClass:"title"},[e("div",[e("div",[e("Breadcrumb",{attrs:{breadcrumbs:t.breadcrumbs}})],1),e("div",[e("div",[t._m(0),e("router-link",{attrs:{to:"/dashboard/v1/AddNewOrder"}},[e("button",{staticClass:"add"},[t._v("+ add order")])])],1)])]),e("div",{staticClass:"filter_by_search",class:{"dark-mode-box":t.getDarkMode}},[e("div",{},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],class:{"dark-mode-search":t.getDarkMode},attrs:{placeholder:"search",type:"search"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedFilter,expression:"selectedFilter"}],staticClass:"filter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedFilter=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"date"}},[t._v("date")]),e("option",{attrs:{value:"customerName"}},[t._v("customer")]),e("option",{attrs:{value:"numberOfOrder"}},[t._v("order number")]),e("option",{attrs:{value:"Group"}},[t._v("Invoice Group")])])]),e("div",{class:{"dark-mode-box":t.getDarkMode}},[e("div",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectStatus,expression:"selectStatus"}],staticClass:"filter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectStatus=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"all"}},[t._v("الكل")]),e("option",{attrs:{value:"0"}},[t._v("معلق")]),e("option",{attrs:{value:"1"}},[t._v("مؤكد")]),e("option",{attrs:{value:"2"}},[t._v("منتهى")])])])])])]),e("div",{staticClass:"allContent",class:{"dark-mode-box":t.getDarkMode}},[t.isLoading?e("TableSkeleton",{attrs:{rows:5,columns:6}}):t.getOrders.length>0?e("ListTable",{staticClass:"ListTable_cont",attrs:{orders:t.getOrders}}):e("NoData",{attrs:{context:"orders"}})],1),e("div",{staticClass:"scrollUp",attrs:{id:"scrollUp"}})])},ai=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"export"},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmvEXj1Sr-tzeKuEP9PgzajIUDvR_-L-zfkg&usqp=CAU"}}),e("button",[t._v("export")])])}],si={name:"Order",components:{ListTable:Wt,NoData:Xt,TableSkeleton:Tt,Breadcrumb:os},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(lt,["orders"]),getOrders(){let t=this.orders;return"all"!==this.selectStatus&&(t=t.filter(t=>t.status==this.selectStatus)),this.searchQuery&&(t=t.filter(t=>{if(void 0===t[this.selectedFilter]||null===t[this.selectedFilter])return!1;const e=t[this.selectedFilter].toString().toLowerCase();return console.log(t[this.selectedFilter].toString().toLowerCase()),e.includes(this.searchQuery.toLowerCase())})),t}},async created(){await this.fetchOrders(),this.isLoading=!1},methods:{...Object(y["d"])(lt,["fetchOrders"]),showScrollUp:function(){let t=document.getElementById("scrollUp");window.onscroll=function(){scrollY>=500?t.style.visibility="visible":t.style.visibility="hidden"}}},data(){return{searchQuery:"",selectStatus:"all",selectedFilter:"date",isLoading:!0,breadcrumbs:[{label:"Dashboard",link:"/dashboard"},{label:"Orders",link:"/dashboard/Order"},{label:"Invoice",link:"/dashboard/Order"}]}}},ri=si,ii=(a("da1b"),Object(l["a"])(ri,ei,ai,!1,null,"632f3afb",null)),oi=ii.exports,ni=function(){var t=this,e=t._self._c;return e("v-container",{staticClass:"p-22",attrs:{fluid:""}},[e("v-row",{staticStyle:{height:"80px"}},[e("v-col",{attrs:{cols:"12"}},[e("p",{staticClass:"p-order",class:{"dark-mode-title":t.getDarkMode}},[t._v(" create order ")])])],1),e("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function({invalid:a}){return[e("v-form",{on:{submit:function(e){return e.preventDefault(),t.letHandelForBtns.apply(null,arguments)}}},[e("v-row",[e("v-col",{attrs:{"align-self":"end",cols:"12",md:"6"}},[e("UserSelectionComponent",{on:{"customer-updated":t.handleCustomerUpdate,"technical-updated":t.handleTechnicalUpdate}})],1),e("v-col",{attrs:{cols:"12",md:"6"}},[e("DataLocationSelectionComponent",{on:{"location-updated":t.handleLocationUpdate,"date-updated":t.handleDateUpdate}})],1)],1),e("v-row",[e("v-col",{attrs:{cols:"12",md:"6"}},[e("ShippingAndType",{on:{"shipping-updated":t.handleShippingUpdate,"shippingShape-updated":t.handleCustomShippingUpdate,"orderType-updated":t.handleTypeUpdate,"updateGroup-updated":t.handleGroup}}),e("ProductMangerWraper",{attrs:{addedOrders:t.addedOrders},on:{"added-orders-updated":t.handleAddedOrdersUpdate,updateFields:t.handleupdateFields}})],1),e("v-col",{attrs:{cols:"12",md:"6"}},[e("Details",{attrs:{customerInfo:t.customerInfo},on:{"details-updated":t.handleDetailsUpdate}})],1)],1),e("v-row",{attrs:{justify:"center"}},[e("v-col",{attrs:{cols:"12",md:"6"}},[e("FormActions",{attrs:{isInvalid:a},on:{create:t.creatNewOrder,cancel:t.goBack},scopedSlots:t._u([{key:"create-button",fn:function(){return[t._v("Add Order")]},proxy:!0},{key:"cancel-button",fn:function(){return[t._v("Cancel")]},proxy:!0}],null,!0)})],1)],1)],1)]}}])}),e("CircleLoader",{attrs:{show:t.isLoading}})],1)},li=[],ci=function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-selection respo-form-order"},[e("h3",{staticClass:"user-selection-title"},[t._v("Client - Tech Selection")]),e("div",{staticClass:"form-container"},[e("div",{staticClass:"form-item respo-form-item"},[e("FontAwesomeIcon",{staticClass:"form-icon",attrs:{icon:"user"}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedCustomer,expression:"selectedCustomer"}],staticClass:"form-input",attrs:{list:"customerList",id:"customer",placeholder:"Search for a customer"},domProps:{value:t.selectedCustomer},on:{input:[function(e){e.target.composing||(t.selectedCustomer=e.target.value)},t.updateCustomerId]}}),e("datalist",{attrs:{id:"customerList"}},t._l(t.clientUsers,(function(t){return e("option",{key:t.id,domProps:{value:t.name}})})),0)],1),e("div",{staticClass:"form-item respo-form-item"},[e("FontAwesomeIcon",{staticClass:"form-icon",attrs:{icon:"tools"}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedTechnical,expression:"selectedTechnical"}],staticClass:"form-input",attrs:{list:"technicalList",id:"technical",placeholder:"Search for a technician"},domProps:{value:t.selectedTechnical},on:{input:[function(e){e.target.composing||(t.selectedTechnical=e.target.value)},t.updateTechnicalId]}}),e("datalist",{attrs:{id:"technicalList"}},t._l(t.technicalUsers,(function(t){return e("option",{key:t.id,domProps:{value:t.name}})})),0)],1)])])},di=[],ui=a("ad3d"),pi={name:"UserSelectionComponent",components:{FontAwesomeIcon:ui["a"]},props:{initialCustomerName:{default:""},initialCustomerId:{default:null},initialCustomerInfo:{default:""},initialTechnicalName:{default:""},initialTechnicalId:{default:null},initialTechnicalInfo:{default:""}},data(){return{selectedCustomer:this.initialCustomerName,customerId:this.initialCustomerId,customerInfo:this.initialCustomerInfo,selectedTechnical:this.initialTechnicalName,TechnicalId:this.initialTechnicalId,TechnicaInfo:this.initialTechnicalInfo}},async created(){this.fetchUsers(),console.log("from update page",this.initialCustomerName)},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(x,["technicalUsers","clientUsers"])},methods:{...Object(y["d"])(x,["fetchUsers"]),updateCustomerId(){const t=this.clientUsers.find(t=>t.name===this.selectedCustomer);t?(this.customerId=t.id,this.customerInfo=t,this.$emit("customer-updated",{customerId:this.customerId,customerInfo:this.customerInfo,selectedCustomer:this.selectedCustomer})):(this.customerId=null,this.customerInfo="",this.$emit("customer-updated",{customerId:this.customerId,customerInfo:this.customerInfo,selectedCustomer:this.selectedCustomer}))},updateTechnicalId(){const t=this.technicalUsers.find(t=>t.name===this.selectedTechnical);t?(this.TechnicalId=t.id,this.TechnicaInfo=t,this.$emit("technical-updated",{TechnicalId:this.TechnicalId,TechnicaInfo:this.TechnicaInfo,selectedTechnical:this.selectedTechnical})):(this.TechnicalId=null,this.TechnicaInfo="",this.$emit("technical-updated",{TechnicalId:this.TechnicalId,TechnicaInfo:this.TechnicaInfo,selectedTechnical:this.selectedTechnical}))}},watch:{initialCustomerName(t){this.selectedCustomer=t},initialCustomerId(t){this.customerId=t},initialCustomerInfo(t){this.customerInfo=t},initialTechnicalName(t){this.selectedTechnical=t},initialTechnicalId(t){this.TechnicalId=t},initialTechnicalInfo(t){this.TechnicaInfo=t}}},hi=pi,mi=(a("00b9"),Object(l["a"])(hi,ci,di,!1,null,"738fab87",null)),fi=mi.exports,vi=function(){var t=this,e=t._self._c;return e("div",{staticClass:"details-selection respo-form-order"},[e("h3",{staticClass:"details-selection-title"},[t._v("Date - Location Selection")]),e("div",{staticClass:"form-container"},[e("div",{staticClass:"form-item respo-form-item"},[e("font-awesome-icon",{staticClass:"form-icon",attrs:{icon:"location-pin"}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedLocation,expression:"selectedLocation"}],staticClass:"form-input",attrs:{type:"text",id:"location",placeholder:"Enter location"},domProps:{value:t.selectedLocation},on:{input:[function(e){e.target.composing||(t.selectedLocation=e.target.value)},t.updateLocation]}})],1),e("div",{staticClass:"form-item respo-form-item"},[e("font-awesome-icon",{staticClass:"form-icon",attrs:{icon:"calendar-alt"}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedDate,expression:"selectedDate"}],staticClass:"form-input",attrs:{type:"date",id:"date"},domProps:{value:t.selectedDate},on:{input:[function(e){e.target.composing||(t.selectedDate=e.target.value)},t.updateDate]}})],1)])])},gi=[],bi={name:"DataLocationSelectionComponent",props:{initialLocation:{type:String,default:""},initialDate:{type:String,default:""}},data(){return{selectedLocation:this.initialLocation,selectedDate:this.initialDate}},methods:{updateLocation(){this.$emit("location-updated",this.selectedLocation)},updateDate(){this.$emit("date-updated",this.selectedDate)}},watch:{initialLocation(t){this.selectedLocation=t},initialDate(t){this.selectedDate=t}}},yi=bi,_i=(a("f4df"),Object(l["a"])(yi,vi,gi,!1,null,"4cf652e8",null)),Ci=_i.exports,wi=function(){var t=this,e=t._self._c;return e("div",{staticClass:"details-selection respo-form-order"},[e("h3",{staticClass:"details-selection-title"},[t._v("shipping cost Selection")]),e("div",{staticClass:"form-container"},[e("div",{staticClass:"form-item full-width"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.shipping,expression:"shipping"}],staticClass:"form-input",attrs:{type:"text",id:"shipping",placeholder:"Enter shipping"},domProps:{value:t.shipping},on:{input:[function(e){e.target.composing||(t.shipping=e.target.value)},t.updateShipping]}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.customShipping,expression:"customShipping"}],staticClass:"form-input",attrs:{type:"text",id:"customShipping",placeholder:"EX: 300 + 200"},domProps:{value:t.customShipping},on:{input:[function(e){e.target.composing||(t.customShipping=e.target.value)},t.updatecustomShipping]}})]),e("div",{staticClass:"form-item"},[e("div",{staticClass:"form-item with-label"},[e("label",{staticClass:"input-label"},[t._v(" order Type")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.invoiceType,expression:"invoiceType"}],staticClass:"form-input select",attrs:{name:"occupation",id:"occupation"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.invoiceType=e.target.multiple?a:a[0]},t.updateinvoiceType]}},[e("option",{attrs:{value:"تركيب"}},[t._v("تركيب")]),e("option",{attrs:{value:"توريد"}},[t._v("توريد")]),e("option",{attrs:{value:"تركيب وتوريد"}},[t._v("تركيب وتوريد")])])]),e("div",{staticClass:"form-item with-label"},[e("label",{staticClass:"input-label"},[t._v(" Invoices Group ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Group,expression:"Group"}],staticClass:"form-input",attrs:{type:"text",id:"Group",placeholder:"EX: october"},domProps:{value:t.Group},on:{input:[function(e){e.target.composing||(t.Group=e.target.value)},t.updateGroup]}})])])])])},Ii=[],Pi={name:"ShippingAndTypeComponent",props:{initialShipping:{type:String,default:""},initialCustomShipping:{type:String,default:""},initialInvoiceType:{type:String,default:"تركيب وتوريد"},initialGroup:{type:String,default:""}},data(){return{shipping:this.initialShipping,customShipping:this.initialCustomShipping,invoiceType:this.initialInvoiceType,Group:this.Group}},methods:{updateShipping(){this.$emit("shipping-updated",this.shipping)},updatecustomShipping(){this.$emit("shippingShape-updated",this.customShipping)},updateinvoiceType(){this.$emit("orderType-updated",this.invoiceType)},updateGroup(){this.$emit("updateGroup-updated",this.Group)}},watch:{initialShipping(t){this.shipping=t},initialCustomShipping(t){this.customShipping=t,console.log(t)},initialInvoiceType(t){this.invoiceType=t},initialGroup(t){this.Group=t}}},ki=Pi,xi=(a("06ad"),Object(l["a"])(ki,wi,Ii,!1,null,"0c08d6a4",null)),Di=xi.exports,Oi=function(){var t=this,e=t._self._c;return e("div",{staticClass:"order-details-container respo-form-order"},[e("h3",{staticClass:"details-selection-title"},[t._v("Details")]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-item"},[e("font-awesome-icon",{staticClass:"form-icon",attrs:{icon:"list"}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.orderStatus,expression:"orderStatus"}],staticClass:"form-input",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.orderStatus=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"0"}},[t._v("معلق")]),e("option",{attrs:{value:"1"}},[t._v("مؤكد")]),e("option",{attrs:{value:"3"}},[t._v("منتهى")])])],1),e("div",{staticClass:"form-item"},[e("font-awesome-icon",{staticClass:"form-icon",attrs:{icon:"hashtag"}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.orderNumber,expression:"orderNumber"}],staticClass:"form-input",attrs:{type:"text",placeholder:"Order Number"},domProps:{value:t.orderNumber},on:{input:function(e){e.target.composing||(t.orderNumber=e.target.value)}}})],1)]),e("div",{staticClass:"upload-field"},[e("div",{staticClass:"upload-text"},[e("font-awesome-icon",{staticClass:"icon",attrs:{icon:"upload"}}),e("span",[t._v("Upload Design")])],1),e("label",{staticClass:"upload-button"},[e("input",{attrs:{type:"file"},on:{change:t.handleFileUpload}}),e("font-awesome-icon",{staticClass:"arrow-icon",attrs:{icon:"chevron-right"}})],1)]),e("div",{staticClass:"form-item with-label"},[e("label",{staticClass:"input-label"},[t._v(" Manual Labor Cost")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualLaborCost,expression:"manualLaborCost"}],staticClass:"form-input",attrs:{type:"number",id:"manualLaborCost",placeholder:"Enter Labor"},domProps:{value:t.manualLaborCost},on:{input:function(e){e.target.composing||(t.manualLaborCost=e.target.value)}}})]),e("div",{staticClass:"choose-option m-top"},[e("div",{staticClass:"choose-text"},[e("font-awesome-icon",{staticClass:"icon",attrs:{icon:"receipt"}}),e("span",[t._v("Appear Discount In Fatora")])],1),e("label",{staticClass:"check-button"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.displaySale,expression:"displaySale"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.displaySale)?t._i(t.displaySale,null)>-1:t.displaySale},on:{change:function(e){var a=t.displaySale,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&(t.displaySale=a.concat([i])):o>-1&&(t.displaySale=a.slice(0,o).concat(a.slice(o+1)))}else t.displaySale=r}}})])]),e("div",{staticClass:"choose-option"},[e("div",{staticClass:"choose-text"},[e("font-awesome-icon",{staticClass:"icon",attrs:{icon:"eye"}}),e("span",[t._v(" clinte see both invoices?")])],1),e("label",{staticClass:"check-button"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.displayTowInvoice,expression:"displayTowInvoice"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.displayTowInvoice)?t._i(t.displayTowInvoice,null)>-1:t.displayTowInvoice},on:{change:function(e){var a=t.displayTowInvoice,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&(t.displayTowInvoice=a.concat([i])):o>-1&&(t.displayTowInvoice=a.slice(0,o).concat(a.slice(o+1)))}else t.displayTowInvoice=r}}})])]),e("div",{staticClass:"choose-option"},[e("div",{staticClass:"choose-text"},[e("font-awesome-icon",{staticClass:"icon",attrs:{icon:"wrench"}}),e("span",[t._v("Appear Lapor In Table")])],1),e("label",{staticClass:"check-button"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.displayInstallation,expression:"displayInstallation"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.displayInstallation)?t._i(t.displayInstallation,null)>-1:t.displayInstallation},on:{change:function(e){var a=t.displayInstallation,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&(t.displayInstallation=a.concat([i])):o>-1&&(t.displayInstallation=a.slice(0,o).concat(a.slice(o+1)))}else t.displayInstallation=r}}})])]),t.displayInstallation?e("div",{staticClass:"form-item with-label"},[e("label",{staticClass:"input-label"},[t._v(" fixed Installation ؟")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.fixedInstallation,expression:"fixedInstallation"}],staticClass:"form-input",attrs:{type:"number",id:"manualLaborCost",placeholder:"Enter Labor"},domProps:{value:t.fixedInstallation},on:{input:function(e){e.target.composing||(t.fixedInstallation=e.target.value)}}})]):t._e(),t.shouldShowOptions?e("div",{staticClass:"choose-option-autoSaveTransaction"},[t.showOnePlace?e("div",{staticClass:"choose-option autoSaveTransaction",class:{"edit-mode":t.isEditPage}},[e("div",{staticClass:"choose-text"},[e("font-awesome-icon",{staticClass:"icon",attrs:{icon:"file-invoice"}}),t._m(0)],1),t.isCreatePage?e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedOptionOnePlace,expression:"selectedOptionOnePlace"}],staticClass:"selectOnePlace",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedOptionOnePlace=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"newTransaction"}},[t._v("New")]),t._l(t.specificUserTransactions,(function(a){return e("option",{key:a.id,domProps:{value:a}},[t._v(" "+t._s(t._f("formatDate")(a.location||a.date))+" ")])}))],2):e("span",{staticClass:"edit-mode"},[t._v(" --- ")]),t.isEditPage?t._e():e("label",{staticClass:"check-button check-button--autoSave"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.autoSaveTransactionType,expression:"autoSaveTransactionType"}],attrs:{value:"OnePlace",type:"radio"},domProps:{checked:t._q(t.autoSaveTransactionType,"OnePlace")},on:{change:function(e){t.autoSaveTransactionType="OnePlace"}}})])]):t._e(),t.showMoreThanPlace?e("div",{staticClass:"choose-option autoSaveTransaction",class:{"edit-mode":t.isEditPage}},[e("div",{staticClass:"choose-text"},[e("font-awesome-icon",{staticClass:"icon",attrs:{icon:"file-invoice"}}),t._m(1)],1),t.isEditPage?t._e():e("label",{staticClass:"check-button check-button--autoSave"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.autoSaveTransactionType,expression:"autoSaveTransactionType"}],attrs:{value:"MoreThan",type:"radio"},domProps:{checked:t._q(t.autoSaveTransactionType,"MoreThan")},on:{change:function(e){t.autoSaveTransactionType="MoreThan"}}})])]):t._e()]):t._e(),e("div",{staticClass:"formbold-mb-3"},[e("label",{staticClass:"formbold-form-label",attrs:{for:"message"}},[t._v(" Notes ")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.notes,expression:"notes"}],staticClass:"formbold-form-input",attrs:{rows:"6",id:"message"},domProps:{value:t.notes},on:{input:function(e){e.target.composing||(t.notes=e.target.value)}}})])])},Si=[function(){var t=this,e=t._self._c;return e("span",[t._v(" One "),e("span",{staticClass:"hideResponsive"},[t._v("Place")])])},function(){var t=this,e=t._self._c;return e("span",[t._v(" More "),e("span",{staticClass:"hideResponsive"},[t._v("Than Place")])])}],Ai={name:"OrderDetailsComponent",props:{initialOrderStatus:{type:String,default:"0"},initialOrderNumber:{default:""},initialManualLaborCost:{type:String,default:""},initialNotes:{type:String,default:""},initialDisplaySale:{type:Boolean,default:!0},initialDisplayTowInvoice:{type:Boolean,default:!1},initialDisplayInstallation:{type:Boolean,default:!1},initialFixedInstallation:{default:0},initialFile:{type:File,default:null},customerInfo:{default:null},showAutoSaveTransactionType:{default:null}},data(){return{orderStatus:this.initialOrderStatus,orderNumber:this.initialOrderNumber,manualLaborCost:this.initialManualLaborCost,notes:this.initialNotes,displaySale:this.initialDisplaySale,displayTowInvoice:this.initialDisplayTowInvoice,displayInstallation:this.initialDisplayInstallation,fixedInstallation:this.initialFixedInstallation,file:this.initialFile,autoSaveTransactionType:"MoreThan",selectedOptionOnePlace:"newTransaction"}},watch:{initialOrderStatus(t){this.orderStatus=t},initialOrderNumber(t){this.orderNumber=t},initialManualLaborCost(t){this.manualLaborCost=t},initialNotes(t){this.notes=t},initialDisplaySale(t){this.displaySale=t,console.log("displaySale updated:",this.displaySale)},initialDisplayTowInvoice(t){this.displayTowInvoice=t,console.log("displayTowInvoice updated:",this.displayTowInvoice)},initialDisplayInstallation(t){this.displayInstallation=t,console.log("displayInstallation updated:",this.displayInstallation)},initialFixedInstallation(t){this.fixedInstallation=t},initialFile(t){this.file=t},orderStatus(){this.emitDetails()},orderNumber(){this.emitDetails()},manualLaborCost(){this.emitDetails()},notes(){this.emitDetails()},displaySale(){this.emitDetails()},displayTowInvoice(){this.emitDetails()},displayInstallation(){this.emitDetails()},fixedInstallation(){this.emitDetails()},file(){this.emitDetails()},autoSaveTransactionType(){this.emitDetails()},selectedOptionOnePlace(){this.emitDetails()},async customerInfo(){console.log("customerInfo",this.customerInfo),await this.fetchSpecificTransactionByUserId(this.customerInfo.id),console.log("userTransactions",this.specificUserTransactions)}},methods:{...Object(y["d"])(ut,["fetchSpecificTransactionByUserId"]),handleFileUpload(t){const e=t.target.files[0];e&&(this.file=e,console.log("File uploaded: inside child component",e))},emitDetails(){const t={status:this.orderStatus,number:this.orderNumber,laborPrice:this.manualLaborCost,notes:this.notes,displaySale:this.displaySale,displayTowInvoice:this.displayTowInvoice,displayInstallation:this.displayInstallation,fixedInstallation:this.fixedInstallation,file:this.file,autoSaveTransactionType:this.autoSaveTransactionType,selectedOptionOnePlace:this.selectedOptionOnePlace};this.$emit("details-updated",t),console.log("showAutoSaveTransactionType",this.showAutoSaveTransactionType)}},computed:{...Object(y["e"])(ut,["specificUserTransactions"]),isCreatePage(){return"AddNewOrder"===this.$route.name},isEditPage(){return"EditOrderNewDesign"===this.$route.name},shouldShowOptions(){return console.log("shouldShowOptions",this.$route.name,this.showAutoSaveTransactionType),!!this.isCreatePage||this.isEditPage&&this.showAutoSaveTransactionType},showMoreThanPlace(){return this.isCreatePage||this.isEditPage&&"MoreThan"===this.showAutoSaveTransactionType},showOnePlace(){return this.isCreatePage||this.isEditPage&&"OnePlace"===this.showAutoSaveTransactionType}}},Bi=Ai,Ti=(a("e721"),Object(l["a"])(Bi,Oi,Si,!1,null,"253d9f53",null)),Fi=Ti.exports,qi=function(){var t=this,e=t._self._c;return e("div",{staticClass:"product-manager respo-form-order"},[e("TransitionWrapper",[e(t.currentComponent,{tag:"component",attrs:{addedOrders:t.addedOrders},on:{"added-orders-updated":t.handleAddedOrdersUpdate,updateFields:t.handleupdateFields}})],1),e("div",{staticClass:"arrows-tra"},[e("button",{staticClass:"arrow-tra left-arrow",on:{click:function(e){return t.navigateTo("previous")}}},[t._v(" ← ")]),e("div",[e("p",[t._v("To Joker / Edit")]),e("button",{staticClass:"arrow-tra right-arrow",on:{click:function(e){return t.navigateTo("next")}}},[t._v(" → ")])])])],1)},Li=[],Ni=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:t.transitionName,mode:t.transitionMode}},[e("keep-alive",[t._t("default")],2)],1)},ji=[],Mi={props:{transitionName:{type:String,default:"fade"},transitionMode:{type:String,default:"out-in"}}},Ui=Mi,Ei=(a("2271"),Object(l["a"])(Ui,Ni,ji,!1,null,null,null)),Ri=Ei.exports,Qi=function(){var t=this,e=t._self._c;return e("div",{staticClass:"product-manager respo-form-order"},[e("h3",{staticClass:"product-manager-title"},[t._v("Product Manager")]),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"addedOrders"}},[t._v(" Added Products")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectProductForUpdateProp,expression:"selectProductForUpdateProp"}],staticClass:"formbold-form-input",attrs:{id:"addedOrders",placeholder:" choosse From Added Products"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectProductForUpdateProp=e.target.multiple?a:a[0]},t.selectProductForUpdate]}},t._l(t.addedOrders,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),0)]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("ValidationProvider",{attrs:{name:"الكمية",rules:""+(0==t.addedOrders.length?"required|numeric|min_value:1":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"quantity"}},[t._v(" Quantity ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"quantity",placeholder:"Quantity"},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}])})],1),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"product"}},[t._v(" Product ")]),e("ValidationProvider",{attrs:{name:"المنتج",rules:""+(0==t.addedOrders.length?"required":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedProduct,expression:"selectedProduct"}],staticClass:"formbold-form-input",attrs:{list:"propList",placeholder:" Search for products "},domProps:{value:t.selectedProduct},on:{input:[function(e){e.target.composing||(t.selectedProduct=e.target.value)},t.updateProductId]}}),e("datalist",{attrs:{id:"propList"}},t._l(t.myAllProducts,(function(t){return e("option",{key:t.id,domProps:{value:t.name}})})),0),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}])})],1)]),e("div",{staticClass:"formbold-input-flex"},[e("div",{staticClass:"display-options"},[t.selectedProduct?e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.pullFromBranch,expression:"pullFromBranch"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.pullFromBranch)?t._i(t.pullFromBranch,null)>-1:t.pullFromBranch},on:{change:function(e){var a=t.pullFromBranch,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&(t.pullFromBranch=a.concat([i])):o>-1&&(t.pullFromBranch=a.slice(0,o).concat(a.slice(o+1)))}else t.pullFromBranch=r}}}),t._v(" Pull From Branch ")]):t._e()]),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"priceOffer"}},[t._v(" Discount ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.price_offer,expression:"price_offer"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"priceOffer",placeholder:"Discount "},domProps:{value:t.price_offer},on:{input:function(e){e.target.composing||(t.price_offer=e.target.value)}}})])]),t.pullFromBranch?e("div",{staticClass:"formbold-input-flex"},[e("div",[e("ValidationProvider",{attrs:{name:"الكمية المتاحة"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"quantityInBranch"}},[t._v(" Avilabel Quantity ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.quantityInBranch,expression:"quantityInBranch"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"quantityInBranch",placeholder:"Quantity",readonly:""},domProps:{value:t.quantityInBranch},on:{input:function(e){e.target.composing||(t.quantityInBranch=e.target.value)}}}),t.aboutQuantityInBranchMessage?e("p",{staticClass:"warning-message"},[t._v(" "+t._s(t.aboutQuantityInBranchMessage)+" ")]):t._e(),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!1,3755683736)})],1),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"branch"}},[t._v(" Avilabel Branches in")]),e("ValidationProvider",{attrs:{name:"الفروع"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedBranch,expression:"selectedBranch"}],staticClass:"formbold-form-input",attrs:{list:"List",placeholder:" ابحث فى الفروع"},domProps:{value:t.selectedBranch},on:{input:[function(e){e.target.composing||(t.selectedBranch=e.target.value)},t.getProductFromBranch]}}),e("datalist",{attrs:{id:"List"}},t._l(t.getAllBranchesHasProduct,(function(t){return e("option",{key:t.id,domProps:{value:t.nameBranch}})})),0),0==t.getAllBranchesHasProduct.length?e("p",{staticClass:"warning-message"},[t._v(" غير متوفر فى اى فرع ")]):t._e(),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!1,3156329131)})],1)]):t._e(),e("div",{staticClass:"formbold-mb-3 cont_add_del_upda"},[e("button",{staticClass:"addProduct-btn",attrs:{disabled:!t.selectedProduct||!t.quantity},on:{click:function(e){return e.preventDefault(),t.addProduct.apply(null,arguments)}}},[t._v(" Add ")]),e("button",{staticClass:"updateProduct-btn",attrs:{disabled:!t.selectedProduct||!t.quantity},on:{click:function(e){return e.preventDefault(),t.updateProduct.apply(null,arguments)}}},[t._v(" Edit ")]),e("button",{staticClass:"deleteProduct-btn",on:{click:function(e){return e.preventDefault(),t.deleteProduct.apply(null,arguments)}}},[t._v(" Delete ")]),e("button",{staticClass:"cancelChangeProduct-btn",on:{click:function(e){return e.preventDefault(),t.cancelChange.apply(null,arguments)}}},[t._v(" Cancel ")])])])},Vi=[];Object(wa["c"])("required",{...Ia["g"],message:"{_field_} مطلوب"}),Object(wa["c"])("numeric",{...Ia["f"],message:"{_field_} يجب أن يكون رقمًا"}),Object(wa["c"])("min_value",{...Ia["e"],message:"{_field_} يجب أن يكون على الأقل {min}"}),Object(wa["c"])("date_format",{validate(t){const e=new RegExp("^\\d{4}-\\d{2}-\\d{2}$");return e.test(t)},params:["format"],message:"{_field_} يجب أن يكون بالتنسيق الصحيح {format}"});var Hi={name:"ProductManager",data(){return{addedOrders:[],selectedProduct:"",productId:"",price_offer:"",quantity:"",productInfo:"",selectProductForUpdateProp:"",isEditingProduct:!1,aboutQuantityInBranchMessage:"",pullFromBranch:!1,selectedBranch:"",BranchId:"",quantityInBranch:""}},watch:{quantity(){this.quantityMessage()}},computed:{getAllBranchesHasProduct(){return this.branches.filter(t=>t.products.some(t=>t.id===this.productId))},...Object(y["e"])(Qa,{myAllProducts:"products"}),...Object(y["e"])(Ke,["categories"]),...Object(y["e"])(ie,["branches"])},async created(){this.fetchCategories(),this.fetchProducts(),this.fetchBranches()},methods:{...Object(y["d"])(Qa,["fetchProducts"]),...Object(y["d"])(Ke,["fetchCategories"]),...Object(y["d"])(ie,["fetchBranches","updateBranch"]),addProduct(){if(!this.isEditingProduct){let t={id:this.productId,name:this.selectedProduct,price_offer:this.price_offer,quantity:this.quantity,productInfo:this.productInfo};this.toPUllFromBranch(t),this.addedOrders.push(t),console.log(this.addedOrders),this.clearProductForm(),this.$emit("added-orders-updated",this.addedOrders)}},toPUllFromBranch(t){if(this.pullFromBranch&&Number(this.quantityInBranch)>0){let e=Number(this.quantity),a=Number(this.quantityInBranch),s="";a<e?(s="less",t.avilabelQuantityInBranch=a):(s="more",t.avilabelQuantityInBranch=""),t.branchId=this.BranchId,t.selectedBranch=this.selectedBranch,t.pullQuantityNeeded=e,t.pullStatus=s}},cancelChange(){this.clearProductForm()},clearProductForm(){this.selectedProduct="",this.productId="",this.quantity="",this.selectProductForUpdateProp="",this.pullFromBranch=!1,this.BranchId="",this.selectedBranch="",this.quantityInBranch="",this.isEditingProduct=!1,this.toggleButtons(!1)},selectProductForUpdate(){const t=this.addedOrders.find(t=>t.id===this.selectProductForUpdateProp);t&&(this.selectedProduct=t.name,this.productId=t.id,this.price_offer=t.price_offer,this.quantity=t.quantity,t.branchId?(this.selectedBranch=t.selectedBranch,this.getProductFromBranch(),this.pullFromBranch=!0,console.log("selected",this.BranchId)):(this.pullFromBranch=!1,this.BranchId="",this.selectedBranch="",this.quantityInBranch=""),this.isEditingProduct=!0,this.toggleButtons(!0))},updateProduct(){const t=this.addedOrders.findIndex(t=>t.id===this.productId);if(-1!==t){if(this.addedOrders[t].name=this.selectedProduct,this.addedOrders[t].price_offer=this.price_offer,this.addedOrders[t].quantity=this.quantity,this.pullFromBranch&&Number(this.quantityInBranch)>0){let e=Number(this.quantity),a=Number(this.quantityInBranch),s="";a<e?(s="less",this.addedOrders[t].avilabelQuantityInBranch=a,console.log(this.addedOrders)):(s="more",this.addedOrders[t].avilabelQuantityInBranch=""),this.addedOrders[t].branchId=this.BranchId,this.addedOrders[t].selectedBranch=this.selectedBranch,this.addedOrders[t].pullQuantityNeeded=e,this.addedOrders[t].pullStatus=s}this.BranchId&&0==this.pullFromBranch&&(console.log("from inside the cancel the pull"),delete this.addedOrders[t].branchId,delete this.addedOrders[t].selectedBranch,delete this.addedOrders[t].pullQuantityNeeded,delete this.addedOrders[t].pullStatus,this.BranchId="",this.selectedBranch="",this.quantityInBranch=""),console.log(this.addedOrders),this.clearProductForm(),this.$emit("added-orders-updated",this.addedOrders)}},deleteProduct(){const t=this.addedOrders.findIndex(t=>t.id===this.productId);-1!==t&&(this.addedOrders.splice(t,1),this.clearProductForm(),this.$emit("added-orders-updated",this.addedOrders))},updateProductId(){this.pullFromBranch=!1,this.BranchId="",this.selectedBranch="",this.quantityInBranch="",this.isEditingProduct=!1,this.toggleButtons(!1);const t=this.myAllProducts.find(t=>t.name===this.selectedProduct);this.productId=t?t.id:"",this.productInfo=t||"",console.log(this.productId)},getProductFromBranch(){const t=this.branches.find(t=>t.nameBranch===this.selectedBranch),e=t.products.find(t=>t.id===this.productId);e&&(this.quantityInBranch=e.quantity,Number(this.quantityInBranch)>0?(this.BranchId=t.id,this.quantityMessage()):this.aboutQuantityInBranchMessage="المخزن فارغ لن تتم عمليه السحب")},quantityMessage(){this.BranchId&&(console.log("still there branchId",this.BranchId),Number(this.quantityInBranch)<Number(this.quantity)?this.aboutQuantityInBranchMessage="سيتم سحب الكمية المتوفرة والباقى يمكنك شراءه":this.aboutQuantityInBranchMessage="")},toggleButtons(t){const e=document.querySelector(".addProduct-btn"),a=document.querySelector(".updateProduct-btn"),s=document.querySelector(".deleteProduct-btn"),r=document.querySelector(".cancelChangeProduct-btn");t?(e.classList.add("addProduct-btn_hidde"),a.classList.add("updateProduct-btn_show"),s.classList.add("deleteProduct-btn_show"),r.classList.add("cancelChangeProduct-btn_show")):(e.classList.remove("addProduct-btn_hidde"),a.classList.remove("updateProduct-btn_show"),s.classList.remove("deleteProduct-btn_show"),r.classList.remove("cancelChangeProduct-btn_show"))}}},Gi=Hi,Wi=(a("1caf"),Object(l["a"])(Gi,Qi,Vi,!1,null,"2bb9863b",null)),zi=Wi.exports,$i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"product-manager respo-form-order"},[e("h3",{staticClass:"product-manager-title"},[t._v('Spichial invoice "Different Pricing"')]),e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"addedOrders"}},[t._v(" Added Products ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectProductForUpdateProp,expression:"selectProductForUpdateProp"}],staticClass:"formbold-form-input",attrs:{id:"addedOrders",placeholder:" اختر من المضافة المنتجات "},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectProductForUpdateProp=e.target.multiple?a:a[0]},t.selectProductForUpdate]}},t._l(t.addedOrders,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),0)]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"ampuntOfIncrease"}},[t._v(" amount Of Increase / decrease ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.amountOfIncrease,expression:"amountOfIncrease"}],staticClass:"formbold-form-input aline-end",attrs:{type:"number",id:"ampuntOfIncrease",placeholder:"ادخل قيمة الزيادة"},domProps:{value:t.amountOfIncrease},on:{input:function(e){e.target.composing||(t.amountOfIncrease=e.target.value)}}})]),e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"product"}},[t._v(" Product ")]),e("ValidationProvider",{attrs:{name:"المنتج",rules:""+(0==t.addedOrders.length?"required":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedProduct,expression:"selectedProduct"}],staticClass:"formbold-form-input aline-end",attrs:{list:"propList",placeholder:"المنتج"},domProps:{value:t.selectedProduct},on:{input:function(e){e.target.composing||(t.selectedProduct=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}])})],1)]),e("div",{staticClass:"formbold-input-flex"},[e("div"),e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"editOfInstallation"}},[t._v(" Edit Of Installation ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editOfInstallation,expression:"editOfInstallation"}],staticClass:"formbold-form-input aline-end",attrs:{type:"number",id:"editOfInstallation",placeholder:"ادخل قيمة الجديدة"},domProps:{value:t.editOfInstallation},on:{input:function(e){e.target.composing||(t.editOfInstallation=e.target.value)}}})])]),e("div",{staticClass:"formbold-mb-3 cont_add_del_upda"},[e("button",{staticClass:"addProduct-btn",attrs:{disabled:!t.selectedProduct||t.editOfInstallation<=0&&0==t.amountOfIncrease},on:{click:function(e){return e.preventDefault(),t.editProduct.apply(null,arguments)}}},[t._v(" تعديل السعر ")])])])},Zi=[];Object(wa["c"])("required",{...Ia["g"],message:"{_field_} مطلوب"}),Object(wa["c"])("double",{...Ia["b"],message:"{_field_} يجب أن يكون رقمًا"}),Object(wa["c"])("min_value",{...Ia["e"],message:"{_field_} يجب أن يكون على الأقل {min}"}),Object(wa["c"])("date_format",{validate(t){const e=new RegExp("^\\d{4}-\\d{2}-\\d{2}$");return e.test(t)},params:["format"],message:"{_field_} يجب أن يكون بالتنسيق الصحيح {format}"});var Yi={name:"AddNewOrder",props:{addedOrders:{type:Array,required:!0}},data(){return{selectedProduct:"",productId:"",productInfo:"",amountOfIncrease:0,editOfInstallation:0,fixedInstallation:0,selectProductForUpdateProp:"",isEditingProduct:!1,Id:null}},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(lt,["orders"])},async created(){await this.fetchOrders(),this.Id=this.$route.params.orderId,this.fetchOrderDetails()},methods:{...Object(y["d"])(lt,["updateOrder","fetchOrders"]),async fetchOrderDetails(){const t=this.orders.find(t=>t.id===this.Id);t&&(this.addedOrders=t.products)},clearProductForm(){this.selectedProduct="",this.productId="",this.productInfo="",this.selectProductForUpdateProp="",this.editOfInstallation=0,this.amountOfIncrease=0,this.isEditingProduct=!1},selectProductForUpdate(){const t=this.addedOrders.find(t=>t.id===this.selectProductForUpdateProp);t&&(this.selectedProduct=t.name,this.productId=t.id,this.productInfo=t.productInfo,this.amountOfIncrease=t.amountOfIncrease||0,this.editOfInstallation=t.editOfInstallation||0,this.isEditingProduct=!0,console.log(this.productId,this.productInfo),console.log(t))},editProduct(){const t=this.addedOrders.findIndex(t=>t.id===this.productId);if(-1!==t){if(0!==Number(this.amountOfIncrease)){console.log("inside");var e=this.productInfo.priceMaterial+parseFloat(this.amountOfIncrease);this.addedOrders[t].amountOfIncrease=this.amountOfIncrease,this.addedOrders[t].priceWithIncrease=e}Number(this.editOfInstallation)>0&&(this.addedOrders[t].editOfInstallation=this.editOfInstallation),console.log("spichialPrice",e,"this.productInfo.priceMaterial",this.productInfo.priceMaterial,"this.amountOfIncrease",this.amountOfIncrease,"editOfInstallation",this.editOfInstallation),this.$emit("added-orders-updated",this.addedOrders),this.clearProductForm(),console.log(this.addedOrders)}}}},Ki=Yi,Xi=(a("23e1"),Object(l["a"])(Ki,$i,Zi,!1,null,"0a3529f8",null)),Ji=Xi.exports,to=function(){var t=this,e=t._self._c;return e("div",{staticClass:"product-manager respo-form-order"},[e("h3",{staticClass:"product-manager-title"},[t._v("Joker Field")]),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"addedFields"}},[t._v("Added Field")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedFieldId,expression:"selectedFieldId"}],staticClass:"formbold-form-input",attrs:{id:"addedFields"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedFieldId=e.target.multiple?a:a[0]},t.loadSelectedField]}},t._l(t.addedFields,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name||"Unnamed Field")+" ")])})),0)]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"name"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentField.name,expression:"currentField.name"}],staticClass:"formbold-form-input",attrs:{type:"text",id:"name",placeholder:"Enter Name"},domProps:{value:t.currentField.name},on:{input:function(e){e.target.composing||t.$set(t.currentField,"name",e.target.value)}}})]),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"category"}},[t._v("Category")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentField.category,expression:"currentField.category"}],staticClass:"formbold-form-input",attrs:{type:"text",id:"category",placeholder:"Enter Category"},domProps:{value:t.currentField.category},on:{input:function(e){e.target.composing||t.$set(t.currentField,"category",e.target.value)}}})])]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"quantity"}},[t._v("Quantity")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentField.quantity,expression:"currentField.quantity",modifiers:{number:!0}}],staticClass:"formbold-form-input",attrs:{type:"number",id:"quantity",placeholder:"Enter Quantity"},domProps:{value:t.currentField.quantity},on:{input:function(e){e.target.composing||t.$set(t.currentField,"quantity",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"value"}},[t._v("Value")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentField.value,expression:"currentField.value",modifiers:{number:!0}}],staticClass:"formbold-form-input",attrs:{type:"number",id:"value",placeholder:"Enter Value"},domProps:{value:t.currentField.value},on:{input:function(e){e.target.composing||t.$set(t.currentField,"value",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),t.currentField.name||t.currentField.category?e("div",{staticClass:"choose-group_option"},[e("div",{staticClass:"choose-option"},[e("div",{staticClass:"choose-text"},[e("font-awesome-icon",{staticClass:"icon",attrs:{icon:"question-circle"}}),e("span",[t._v(" Should this field affect the invoice calculations?")])],1),e("label",{staticClass:"check-button"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentField.willBeCalculated,expression:"currentField.willBeCalculated"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.currentField.willBeCalculated)?t._i(t.currentField.willBeCalculated,null)>-1:t.currentField.willBeCalculated},on:{change:function(e){var a=t.currentField.willBeCalculated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&t.$set(t.currentField,"willBeCalculated",a.concat([i])):o>-1&&t.$set(t.currentField,"willBeCalculated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.currentField,"willBeCalculated",r)}}})])]),t.currentField.willBeCalculated?e("div",{staticClass:"choose-option"},[e("div",{staticClass:"choose-text"},[e("font-awesome-icon",{staticClass:"icon",attrs:{icon:"tools"}}),e("span",[t._v(" Include it in installation costs?")])],1),e("label",{staticClass:"check-button"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentField.calculationType,expression:"currentField.calculationType"}],attrs:{type:"radio",value:"installation"},domProps:{checked:t._q(t.currentField.calculationType,"installation")},on:{change:function(e){return t.$set(t.currentField,"calculationType","installation")}}})])]):t._e(),t.currentField.willBeCalculated?e("div",{staticClass:"choose-option"},[e("div",{staticClass:"choose-text"},[e("font-awesome-icon",{staticClass:"icon",attrs:{icon:"cubes"}}),e("span",[t._v(" Include it in material costs?")])],1),e("label",{staticClass:"check-button"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentField.calculationType,expression:"currentField.calculationType"}],attrs:{type:"radio",value:"material"},domProps:{checked:t._q(t.currentField.calculationType,"material")},on:{change:function(e){return t.$set(t.currentField,"calculationType","material")}}})])]):t._e()]):t._e(),t.currentField.name&&t.currentField.willBeCalculated&&"material"==t.currentField.calculationType?e("div",[e("label",{staticClass:"formbold-form-label"},[t._v("buy price ")]),e("ValidationProvider",{attrs:{name:"buy Price",rules:"double:1|min_value:0"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentField.purchaseCost,expression:"currentField.purchaseCost",modifiers:{number:!0}}],staticClass:"formbold-form-input",attrs:{placeholder:"type here",type:"number"},domProps:{value:t.currentField.purchaseCost},on:{input:function(e){e.target.composing||t.$set(t.currentField,"purchaseCost",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!1,2690843760)})],1):t._e(),t.currentField.name&&t.currentField.willBeCalculated&&"material"==t.currentField.calculationType?e("div",{staticClass:"formbold-input-flex"},[e("div",[e("label",{staticClass:"formbold-form-label"},[t._v(" discount ")]),e("ValidationProvider",{attrs:{name:"Price With Labor",rules:"required|double:1|min_value:0"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentField.valueDiscountOnBuy,expression:"currentField.valueDiscountOnBuy",modifiers:{number:!0}}],staticClass:"formbold-form-input",attrs:{placeholder:"type here",type:"number"},domProps:{value:t.currentField.valueDiscountOnBuy},on:{input:function(e){e.target.composing||t.$set(t.currentField,"valueDiscountOnBuy",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!1,853062608)})],1),e("div",[e("label",{staticClass:"formbold-form-label"},[t._v(" Type ")]),e("select",{directives:[{name:"model",rawName:"v-model.number",value:t.currentField.kindDiscount,expression:"currentField.kindDiscount",modifiers:{number:!0}}],staticClass:"formbold-form-input",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var a="_value"in e?e._value:e.value;return t._n(a)}));t.$set(t.currentField,"kindDiscount",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"fixed"}},[t._v("ثابت")]),e("option",{attrs:{value:"percentage"}},[t._v("نسبة")])])])]):t._e(),e("div",{staticClass:"formbold-mb-3 cont_add_del_upda"},[e("button",{staticClass:"addProduct-btn",on:{click:t.addField}},[t._v("Add")]),e("button",{staticClass:"updateProduct-btn",attrs:{disabled:!t.selectedFieldId},on:{click:t.updateField}},[t._v(" Edit ")]),e("button",{staticClass:"deleteProduct-btn",attrs:{disabled:!t.selectedFieldId},on:{click:t.deleteField}},[t._v(" Delete ")]),e("button",{staticClass:"cancelChangeProduct-btn",on:{click:t.cancelEdit}},[t._v(" Cancel ")])])])},eo=[],ao={props:{addedFields:{type:Array,default:()=>[]}},data(){return{selectedFieldId:null,currentField:this.getEmptyField()}},methods:{getEmptyField(){return{id:null,name:"",category:"",quantity:1,value:0,willBeCalculated:!1,calculationType:"",purchaseCost:0,valueDiscountOnBuy:0,kindDiscount:"fixed",price_offer:0}},addField(){const t={...this.currentField,id:Date.now(),quantity:this.currentField.quantity||1,value:this.currentField.value||0};this.addedFields.push(t),this.$emit("updateFields",[...this.addedFields]),this.resetForm()},updateField(){const t=this.addedFields.map(t=>t.id===this.selectedFieldId?{...this.currentField}:t);this.addedFields=t,this.$emit("updateFields",[...this.addedFields]),this.resetForm(),this.toggleButtons(!1)},deleteField(){const t=this.addedFields.filter(t=>t.id!==this.selectedFieldId);this.addedFields=t,this.$emit("updateFields",[...this.addedFields]),this.resetForm(),this.toggleButtons(!1)},loadSelectedField(){const t=this.addedFields.find(t=>t.id===this.selectedFieldId);t&&(this.currentField={...t},this.toggleButtons(!0))},cancelEdit(){this.resetForm(),this.toggleButtons(!1)},resetForm(){this.selectedFieldId=null,this.currentField=this.getEmptyField()},toggleButtons(t){const e=document.querySelector(".addProduct-btn"),a=document.querySelector(".updateProduct-btn"),s=document.querySelector(".deleteProduct-btn"),r=document.querySelector(".cancelChangeProduct-btn");t?(e.classList.add("addProduct-btn_hidde"),a.classList.add("updateProduct-btn_show"),s.classList.add("deleteProduct-btn_show"),r.classList.add("cancelChangeProduct-btn_show")):(e.classList.remove("addProduct-btn_hidde"),a.classList.remove("updateProduct-btn_show"),s.classList.remove("deleteProduct-btn_show"),r.classList.remove("cancelChangeProduct-btn_show"))}}},so=ao,ro=(a("abed"),Object(l["a"])(so,to,eo,!1,null,"416ce2be",null)),io=ro.exports,oo={name:"ProductManagerWrapper",components:{TransitionWrapper:Ri},props:{addedOrders:{type:Array,required:!0}},data(){return{currentComponentIndex:0,components:[zi,Ji,io]}},computed:{currentComponent(){return this.components[this.currentComponentIndex]}},methods:{navigateTo(t){"next"===t?this.currentComponentIndex=(this.currentComponentIndex+1)%this.components.length:"previous"===t&&(this.currentComponentIndex=(this.currentComponentIndex-1+this.components.length)%this.components.length)},handleAddedOrdersUpdate(t){this.$emit("added-orders-updated",t)},handleupdateFields(t){this.$emit("updateFields",t)}}},no=oo,lo=(a("716b"),Object(l["a"])(no,qi,Li,!1,null,"0596c718",null)),co=lo.exports,uo=function(){var t=this,e=t._self._c;return e("div",{staticClass:"actions-container"},[e("button",{staticClass:"btn create-btn",attrs:{disabled:t.isInvalid},on:{click:function(e){return t.$emit("create")}}},[t._t("create-button",(function(){return[t._v("Create Order")]}))],2),e("button",{staticClass:"btn cancel-btn",on:{click:function(e){return t.$emit("cancel")}}},[t._t("cancel-button",(function(){return[t._v("Cancel")]}))],2)])},po=[],ho={props:{isInvalid:{type:Boolean,required:!0}}},mo=ho,fo=(a("51aa"),Object(l["a"])(mo,uo,po,!1,null,"7161484a",null)),vo=fo.exports;function go(t,e){let a=0;t.products&&(a+=t.products.reduce((t,a)=>{const s=a.priceWithIncrease&&"true"===e?a.priceWithIncrease:a.productInfo.priceMaterial,r=s*a.quantity,i=r*(a.price_offer/100);return t+(r-i)},0)),t.jokerFields&&(a+=t.jokerFields.reduce((t,e)=>{if(e.willBeCalculated&&"material"===e.calculationType){if(e.value&&e.quantity)return t+e.value*e.quantity;if(e.value)return t+e.value}return t},0));const s=Number(t.shipping)||0;return(a+s).toFixed(2)}function bo(t,e){let a=0;return t.products&&(a+=t.products.reduce((t,a)=>{let s=0;return"true"===e&&a.editOfInstallation&&Number(a.editOfInstallation)>0?s=a.editOfInstallation*a.quantity:a.productInfo.priceWithLabor&&(s=a.productInfo.priceWithLabor*a.quantity),t+s},0)),t.jokerFields&&(a+=t.jokerFields.reduce((t,e)=>{if(e.willBeCalculated&&"installation"===e.calculationType){if(e.value&&e.quantity)return t+e.value*e.quantity;if(e.value)return t+e.value}return t},0)),a.toFixed(2)}function yo(t,e){return t.laborPrice?t.laborPrice:bo(t,e)}Object(wa["c"])("required",{...Ia["g"],message:"{_field_} مطلوب"}),Object(wa["c"])("numeric",{...Ia["f"],message:"{_field_} يجب أن يكون رقمًا"}),Object(wa["c"])("min_value",{...Ia["e"],message:"{_field_} يجب أن يكون على الأقل {min}"}),Object(wa["c"])("date_format",{validate(t){const e=new RegExp("^\\d{4}-\\d{2}-\\d{2}$");return e.test(t)},params:["format"],message:"{_field_} يجب أن يكون بالتنسيق الصحيح {format}"});var _o={name:"AddNewOrder",components:{UserSelectionComponent:fi,DataLocationSelectionComponent:Ci,ShippingAndType:Di,Details:Fi,ProductMangerWraper:co,FormActions:vo,CircleLoader:Sa},data(){return{addedFields:[],addedOrders:[],selectedCustomer:"",customerId:null,customerInfo:"",selectedTechnical:"",TechnicalId:null,TechnicaInfo:"",invoiceType:"تركيب وتوريد",date:"",adress:"",notes:"",status:"0",number:"",laborPrice:"",shipping:"",customShipping:"",Group:"",file:null,isLoading:!1,customInvoice:!1,displayTowInvoice:!1,displaySale:!0,displayInstallation:!1,fixedInstallation:0,autoSaveTransactionType:"MoreThan",selectedOptionOnePlace:""}},async created(){this.fetchBranches()},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(ie,["branches"])},methods:{...Object(y["d"])(lt,["addOrder","uploadImage","generateOrderNumber","updateOrder"]),...Object(y["d"])(ut,["addSpecificTransaction","fetchSpecificTransactions","fetchSpecificTransactionById","updateSpecificTransaction"]),...Object(y["d"])(ie,["fetchBranches","updateBranch"]),...Object(y["d"])(pt,["autoSaveTransactionOrder"]),calculateTotalCost(t){return Number(go(t,"true"))+Number(yo(t,"true"))},handleCustomerUpdate({customerId:t,customerInfo:e,selectedCustomer:a}){this.customerId=t,this.customerInfo=e,this.selectedCustomer=a,console.log("update selectedCustomer by emit event",this.selectedCustomer,this.customerInfo)},handleTechnicalUpdate({TechnicalId:t,TechnicaInfo:e,selectedTechnical:a}){this.TechnicalId=t,this.TechnicaInfo=e,this.selectedTechnical=a,console.log("update selectedTechnical by emit event",this.selectedTechnical,this.TechnicaInfo,this.TechnicalId)},handleLocationUpdate(t){this.adress=t,console.log("update location by emit event",this.adress)},handleDateUpdate(t){this.date=t,console.log("update date by emit event",this.date)},handleShippingUpdate(t){this.shipping=t,console.log("update shipping by emit event",this.shipping)},handleCustomShippingUpdate(t){this.customShipping=t,console.log("update customShipping by emit event",this.customShipping)},handleTypeUpdate(t){this.invoiceType=t,console.log("update invoiceType by emit event",this.invoiceType)},handleGroup(t){this.Group=t,console.log("update invoiceType by emit event",this.Group)},handleAddedOrdersUpdate(t){this.addedOrders=t,console.log("update addedOrders by emit event",this.addedOrders)},handleupdateFields(t){this.addedFields=t,console.log("update addedFields by emit event",this.addedFields)},handleDetailsUpdate(t){this.notes=t.notes||"",this.status=t.status||"0",this.number=t.number||"",this.laborPrice=t.laborPrice||"",this.file=t.file,this.displaySale=t.displaySale,this.displayTowInvoice=t.displayTowInvoice,this.displayInstallation=t.displayInstallation,this.fixedInstallation=t.fixedInstallation,this.autoSaveTransactionType=t.autoSaveTransactionType,this.selectedOptionOnePlace=t.selectedOptionOnePlace,console.log(t)},letHandelForBtns(){console.log("let handel to btns")},goBack(){this.$router.push("/dashboard/Order")},async pullProductsFromDatabase(){for(const t of this.addedOrders)if(t.pullStatus&&t.pullQuantityNeeded>0&&t.branchId){const e=t.branchId,a=Number(t.pullQuantityNeeded),s=this.branches.find(t=>t.id===e);if(!s){Mt()("خطأ","الفرع المحدد غير موجود.","error");continue}const r=s.products.find(e=>e.id===t.id);if(!r){Mt()("خطأ","المنتج غير موجود في الفرع المحدد.","error");continue}"less"===t.pullStatus?r.quantity=0:"more"===t.pullStatus&&(r.quantity-=a),await this.updateBranch(s),t.isPulled=!0,console.log("to check isPulled",this.addedOrders)}},async autoTransaction(t,e){if(console.log("enter auto transaction",t),!this.customerId)return null;if("MoreThan"===this.autoSaveTransactionType){const a={userId:this.customerId,role:this.customerInfo.role||"",amount:this.calculateTotalCost(e).toFixed(2),date:(new Date).toISOString(),notes:"",orderId:t,type:"Add",category:"orderRandom"};console.log("before auto transaction",this.calculateTotalCost(e).toFixed(2));const s=await this.autoSaveTransactionOrder(a,this.customerId);return console.log("after auto transaction"),{type:"MoreThan",transactionId:s,lastAmount:this.calculateTotalCost(e).toFixed(2)}}if("OnePlace"===this.autoSaveTransactionType){if("newTransaction"===this.selectedOptionOnePlace){const a={selectedType:"both",location:e.adress,orderLink:[t],date:(new Date).toISOString(),note:"",status:"open",userId:this.customerId,typesData:[{type:"materials",totalAmount:0,remainingValue:0},{type:"manufacturing",totalAmount:0,remainingValue:0},{type:"both",totalAmount:this.calculateTotalCost(e),remainingValue:this.calculateTotalCost(e)}],payments:[]};console.log("Creating new OnePlace transaction:",a);const s=await this.addSpecificTransaction(a);return{type:"OnePlace",transactionId:s,lastAmount:this.calculateTotalCost(e).toFixed(2)}}{const a=this.selectedOptionOnePlace.id;if(!a)return null;console.log("Fetching existing OnePlace transaction:",a);const s=await this.fetchSpecificTransactionById(a);return s?(s.typesData.forEach(t=>{t.totalAmount+=this.calculateTotalCost(e)}),Array.isArray(s.orderLink)&&s.orderLink.push(t),this.calculateRemainingValue(s.typesData,s.payments),console.log("Updating existing OnePlace transaction:",s),await this.updateSpecificTransaction({...s,userId:this.customerId,id:a}),{type:"OnePlace",transactionId:a,lastAmount:this.calculateTotalCost(e).toFixed(2)}):(console.error("Transaction not found!"),null)}}return null},calculateRemainingValue(t,e){t.forEach(t=>{t.remainingValue=t.totalAmount}),e.forEach(e=>{const a=t.find(t=>t.type===e.paymentType);a&&(a.remainingValue-=parseFloat(e.amount||0))}),console.log("Updated Types Data with Remaining Values:",t)},async creatNewOrder(){this.isLoading=!0;try{if(0===this.addedOrders.length)return Mt()("لا يمكن إنشاء الطلب بدون منتجات.","يرجى إضافة منتجات قبل إنشاء الطلب.","error"),void(this.isLoading=!1);let t="";this.file&&(t=await this.uploadImage({file:this.file})),this.number||(this.number=await this.generateOrderNumber()),await this.pullProductsFromDatabase(),console.log("after pullProductsFromDatabase",this.addedOrders);const e=this.addedOrders.some(t=>t.amountOfIncrease||t.editOfInstallation),a={jokerFields:this.addedFields,products:this.addedOrders,customerName:this.selectedCustomer,customerId:this.customerId,customerInfo:this.customerInfo,technicalName:this.selectedTechnical,technicalId:this.TechnicalId,TechnicaInfo:this.TechnicaInfo,invoiceType:this.invoiceType,adress:this.adress,date:this.date,status:this.status,notes:this.notes,numberOfOrder:this.number,laborPrice:this.laborPrice,shipping:this.shipping,customShipping:this.customShipping,Group:this.Group,imageUrl:t,displaySale:this.displaySale,displayTowInvoice:this.displayTowInvoice,displayInstallation:this.displayInstallation,fixedInstallation:this.fixedInstallation,hasCustomInvoice:e};console.log("before send"),console.log(this.shipping);const s=await this.addOrder(a),r=await this.autoTransaction(s,a);r&&(console.log("transactionData",r),await this.updateOrder({...a,id:s,transactionInfo:r})),console.log("after send"),this.isLoading=!1,Mt()("تم إنشاء الطلب بنجاح!","سيتم إعادة توجيهك إلى صفحة الفاتورة.","success"),this.$router.push({name:"Fatora",params:{orderId:s,isCustom:e.toString()}})}catch(t){console.error("Error creating order:",t),this.isLoading=!1,Mt()("خطأ في إنشاء الطلب","يرجى المحاولة مرة أخرى.","error")}}}},Co=_o,wo=(a("5770"),Object(l["a"])(Co,ni,li,!1,null,"110d812c",null)),Io=wo.exports,Po=function(){var t=this,e=t._self._c;return e("div",{staticClass:"view order-view"},[e("div",{staticClass:"create_title"},[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Update order")])]),e("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function({invalid:a}){return[e("form",{staticClass:"respo-form-order",on:{submit:function(e){return e.preventDefault(),t.letHandelForBtns.apply(null,arguments)}}},[e("div",{staticClass:"order-view-header"},[e("UserSelectionComponent",{attrs:{initialCustomerName:t.selectedCustomer,initialCustomerId:t.customerId,initialCustomerInfo:t.customerInfo,initialTechnicalName:t.selectedTechnical,initialTechnicalId:t.TechnicalId,initialTechnicalInfo:t.TechnicaInfo},on:{"customer-updated":t.handleCustomerUpdate,"technical-updated":t.handleTechnicalUpdate}}),e("DataLocationSelectionComponent",{attrs:{initialLocation:t.adress,initialDate:t.date},on:{"location-updated":t.handleLocationUpdate,"date-updated":t.handleDateUpdate}})],1),e("div",{staticClass:"order-view-main"},[e("div",{staticClass:"main-cont main-cont_shipping-products"},[e("ShippingAndType",{attrs:{initialShipping:t.shipping,initialCustomShipping:t.customShipping,initialInvoiceType:t.invoiceType,initialGroup:t.Group},on:{"shipping-updated":t.handleShippingUpdate,"shippingShape-updated":t.handleCustomShippingUpdate,"orderType-updated":t.handleTypeUpdate,"updateGroup-updated":t.handleGroup}}),e("ProductMangerWraper",{attrs:{addedOrders:t.addedOrders,addedFields:t.addedFields},on:{"added-orders-updated":t.handleAddedOrdersUpdate,updateFields:t.handleupdateFields}})],1),e("div",{staticClass:"main-cont"},[e("Details",{attrs:{initialOrderStatus:t.status,initialOrderNumber:t.number,initialManualLaborCost:t.laborPrice,initialNotes:t.notes,initialDisplaySale:t.displaySale,initialDisplayTowInvoice:t.displayTowInvoice,initialDisplayInstallation:t.displayInstallation,initialFixedInstallation:t.fixedInstallation,initialFile:t.file,showAutoSaveTransactionType:t.autoSaveTransactionType},on:{"details-updated":t.handleDetailsUpdate}})],1),e("FormActions",{attrs:{isInvalid:a},on:{create:t.handelUpdateOrder,cancel:t.goBack},scopedSlots:t._u([{key:"create-button",fn:function(){return[t._v(" Update Order")]},proxy:!0},{key:"cancel-button",fn:function(){return[t._v(" Cancel ")]},proxy:!0}],null,!0)})],1)])]}}])}),e("CircleLoader",{attrs:{show:t.isLoading}})],1)},ko=[],xo=function(){var t=this,e=t._self._c;return e("div",{staticClass:"product-manager respo-form-order"},[e("TransitionWrapper",[e(t.currentComponent,{tag:"component",attrs:{addedOrders:t.addedOrders,addedFields:t.addedFields},on:{"added-orders-updated":t.handleAddedOrdersUpdate,updateFields:t.handleupdateFields}})],1),e("div",{staticClass:"arrows-tra"},[e("button",{staticClass:"arrow-tra left-arrow",on:{click:function(e){return t.navigateTo("previous")}}},[t._v(" ← ")]),e("div",[e("p",[t._v("To Joker / Edit")]),e("button",{staticClass:"arrow-tra right-arrow",on:{click:function(e){return t.navigateTo("next")}}},[t._v(" → ")])])])],1)},Do=[],Oo=function(){var t=this,e=t._self._c;return e("div",{staticClass:"product-manager"},[e("h3",{staticClass:"product-manager-title"},[t._v("Product Manager")]),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"addedOrders"}},[t._v(" Added Products")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectProductForUpdateProp,expression:"selectProductForUpdateProp"}],staticClass:"formbold-form-input",attrs:{id:"addedOrders",placeholder:" choosse From Added Products"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectProductForUpdateProp=e.target.multiple?a:a[0]},t.selectProductForUpdate]}},t._l(t.addedOrders,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),0)]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("ValidationProvider",{attrs:{name:"الكمية",rules:""+(0==t.addedOrders.length?"required|numeric|min_value:1":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"quantity"}},[t._v(" Quantity ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"quantity",placeholder:"Quantity"},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}])})],1),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"product"}},[t._v(" Product ")]),e("ValidationProvider",{attrs:{name:"المنتج",rules:""+(0==t.addedOrders.length?"required":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedProduct,expression:"selectedProduct"}],staticClass:"formbold-form-input",attrs:{list:"propList",placeholder:" Search for products "},domProps:{value:t.selectedProduct},on:{input:[function(e){e.target.composing||(t.selectedProduct=e.target.value)},t.updateProductId]}}),e("datalist",{attrs:{id:"propList"}},t._l(t.myAllProducts,(function(t){return e("option",{key:t.id,domProps:{value:t.name}})})),0),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}])})],1)]),e("div",{staticClass:"formbold-input-flex"},[e("div",{staticClass:"display-options"},[t.selectedProduct?e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.pullFromBranch,expression:"pullFromBranch"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.pullFromBranch)?t._i(t.pullFromBranch,null)>-1:t.pullFromBranch},on:{change:function(e){var a=t.pullFromBranch,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&(t.pullFromBranch=a.concat([i])):o>-1&&(t.pullFromBranch=a.slice(0,o).concat(a.slice(o+1)))}else t.pullFromBranch=r}}}),t._v(" Pull From Branch ")]):t._e()]),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"priceOffer"}},[t._v(" Discount ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.price_offer,expression:"price_offer"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"priceOffer",placeholder:"Discount "},domProps:{value:t.price_offer},on:{input:function(e){e.target.composing||(t.price_offer=e.target.value)}}})])]),t.pullFromBranch?e("div",{staticClass:"formbold-input-flex"},[e("div",[e("ValidationProvider",{attrs:{name:"الكمية المتاحة"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"quantityInBranch"}},[t._v(" Avilabel Quantity ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.quantityInBranch,expression:"quantityInBranch"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"quantityInBranch",placeholder:"Quantity",readonly:""},domProps:{value:t.quantityInBranch},on:{input:function(e){e.target.composing||(t.quantityInBranch=e.target.value)}}}),t.isEditingProduct?e("p",{staticClass:"info-message"},[t._v(" بالاضافة لكمية السحب السابقة على نفس الفرع ")]):t._e(),t.aboutQuantityInBranchMessage?e("p",{staticClass:"warning-message"},[t._v(" "+t._s(t.aboutQuantityInBranchMessage)+" ")]):t._e(),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!1,3518754424)})],1),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"branch"}},[t._v(" Avilabel Branches in")]),e("ValidationProvider",{attrs:{name:"الفروع"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedBranch,expression:"selectedBranch"}],staticClass:"formbold-form-input",attrs:{list:"List",placeholder:" ابحث فى الفروع"},domProps:{value:t.selectedBranch},on:{input:[function(e){e.target.composing||(t.selectedBranch=e.target.value)},t.getProductFromBranch]}}),e("datalist",{attrs:{id:"List"}},t._l(t.getAllBranchesHasProduct,(function(t){return e("option",{key:t.id,domProps:{value:t.nameBranch}})})),0),0==t.getAllBranchesHasProduct.length?e("p",{staticClass:"warning-message"},[t._v(" غير متوفر فى اى فرع ")]):t._e(),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!1,3156329131)})],1)]):t._e(),t.pullFromBranch&&t.hasPreviousPullOperation?e("p",{staticClass:"aline-end m-btn"},[t._v(" : آخرعملية سحب ")]):t._e(),t.pullFromBranch&&t.hasPreviousPullOperation?e("div",{staticClass:"formbold-input-flex"},[e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"lastPulledQuantity"}},[t._v(" كمية المسحوب ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.lastPulledQuantity,expression:"lastPulledQuantity"}],staticClass:"formbold-form-input readOnlyInput aline-end",attrs:{type:"number",id:"lastPulledQuantity",placeholder:"كمية المسحوب ",readonly:""},domProps:{value:t.lastPulledQuantity},on:{input:function(e){e.target.composing||(t.lastPulledQuantity=e.target.value)}}})]),e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"lastPulledBranch"}},[t._v(" الفرع المسحوب منه ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.lastPulledBranch,expression:"lastPulledBranch"}],staticClass:"formbold-form-input readOnlyInput aline-end",attrs:{type:"text",id:"lastPulledBranch",placeholder:" الفرع المسحوب منه ",readonly:""},domProps:{value:t.lastPulledBranch},on:{input:function(e){e.target.composing||(t.lastPulledBranch=e.target.value)}}})])]):t._e(),e("div",{staticClass:"formbold-mb-3 cont_add_del_upda"},[e("button",{staticClass:"addProduct-btn",attrs:{disabled:!t.selectedProduct||!t.quantity},on:{click:function(e){return e.preventDefault(),t.addProduct.apply(null,arguments)}}},[t._v(" اضافة المنتج ")]),e("button",{staticClass:"updateProduct-btn",attrs:{disabled:!t.selectedProduct||!t.quantity},on:{click:function(e){return e.preventDefault(),t.updateProduct.apply(null,arguments)}}},[t._v(" تعديل المنتج ")]),e("button",{staticClass:"deleteProduct-btn",on:{click:function(e){return e.preventDefault(),t.deleteProduct.apply(null,arguments)}}},[t._v(" حذف ")]),e("button",{staticClass:"cancelChangeProduct-btn",on:{click:function(e){return e.preventDefault(),t.cancelChange.apply(null,arguments)}}},[t._v(" الغاء ")])])])},So=[];Object(wa["c"])("required",{...Ia["g"],message:"{_field_} مطلوب"}),Object(wa["c"])("numeric",{...Ia["f"],message:"{_field_} يجب أن يكون رقمًا"}),Object(wa["c"])("min_value",{...Ia["e"],message:"{_field_} يجب أن يكون على الأقل {min}"}),Object(wa["c"])("date_format",{validate(t){const e=new RegExp("^\\d{4}-\\d{2}-\\d{2}$");return e.test(t)},params:["format"],message:"{_field_} يجب أن يكون بالتنسيق الصحيح {format}"});var Ao={name:"ProductManager",props:{addedOrders:{default:[]}},data(){return{selectedProduct:"",productId:"",price_offer:"",quantity:"",productInfo:"",selectProductForUpdateProp:"",isEditingProduct:!1,aboutQuantityInBranchMessage:"",pullFromBranch:!1,selectedBranch:"",BranchId:"",quantityInBranch:"",hasPreviousPullOperation:!1,lastPulledBranch:"",lastPulledQuantity:0}},watch:{quantity(){this.quantityMessage()}},computed:{getAllBranchesHasProduct(){return this.branches.filter(t=>t.products.some(t=>t.id===this.productId))},...Object(y["e"])(Qa,{myAllProducts:"products"}),...Object(y["e"])(Ke,["categories"]),...Object(y["e"])(ie,["branches"])},async created(){this.fetchCategories(),this.fetchProducts(),this.fetchBranches()},methods:{...Object(y["d"])(Qa,["fetchProducts"]),...Object(y["d"])(Ke,["fetchCategories"]),...Object(y["d"])(ie,["fetchBranches","updateBranch"]),addProduct(){if(!this.isEditingProduct){let t={id:this.productId,name:this.selectedProduct,price_offer:this.price_offer,quantity:this.quantity,productInfo:this.productInfo};this.toPUllFromBranch(t),this.addedOrders.push(t),console.log(this.addedOrders),this.clearProductForm(),this.$emit("added-orders-updated",this.addedOrders)}},toPUllFromBranch(t){if(this.pullFromBranch&&Number(this.quantityInBranch)>0){let e=Number(this.quantity),a=Number(this.quantityInBranch),s="";a<e?(s="less",t.avilabelQuantityInBranch=a):(s="more",t.avilabelQuantityInBranch=""),t.branchId=this.BranchId,t.selectedBranch=this.selectedBranch,t.pullQuantityNeeded=e,t.pullStatus=s}},cancelChange(){this.clearProductForm()},clearProductForm(){this.selectedProduct="",this.productId="",this.quantity="",this.selectProductForUpdateProp="",this.pullFromBranch=!1,this.BranchId="",this.selectedBranch="",this.quantityInBranch="",this.isEditingProduct=!1,this.toggleButtons(!1)},selectProductForUpdate(){const t=this.addedOrders.find(t=>t.id===this.selectProductForUpdateProp);t&&(this.selectedProduct=t.name,this.productId=t.id,this.price_offer=t.price_offer,this.quantity=t.quantity,t.branchId?(this.selectedBranch=t.selectedBranch,this.getProductFromBranch(),this.pullFromBranch=!0,console.log("selected",this.BranchId)):(this.pullFromBranch=!1,this.BranchId="",this.selectedBranch="",this.quantityInBranch=""),t.branchId&&t.isPulled||t.ancientBranchId?(this.showLastPullOpertion(t),console.log("run show last pull")):this.hasPreviousPullOperation=!1,this.isEditingProduct=!0,this.toggleButtons(!0))},showLastPullOpertion(t){let e="",a=0;t.ancientBranchId?(e=this.getBranchNameById(t.ancientBranchId),a=t.ancientQuantityNeeded):(e=this.getBranchNameById(t.branchId),a="less"===t.pullStatus?t.avilabelQuantityInBranch:t.pullQuantityNeeded),this.lastPulledBranch=e,this.lastPulledQuantity=a,this.hasPreviousPullOperation=!0,console.log(`Last Pulled Branch: ${e}, Last Pulled Quantity: ${a}`)},getBranchNameById(t){const e=this.branches.find(e=>e.id===t);return e?e.nameBranch:"Unknown Branch"},updateProduct(){console.log("enter the fun : update pro");const t=this.addedOrders.findIndex(t=>t.id===this.productId);if(-1!==t){if(this.addedOrders[t].name=this.selectedProduct,this.addedOrders[t].price_offer=this.price_offer,this.addedOrders[t].quantity=this.quantity,this.pullFromBranch&&this.addedOrders[t].isPulled){if(console.log("enter old product need change pull"),this.addedOrders[t].ancientBranchId&&this.addedOrders[t].ancientQuantityNeeded)console.log("do nothing u already catched them before");else{var e=this.addedOrders[t].branchId,a=this.addedOrders[t].pullQuantityNeeded;"less"===this.addedOrders[t].pullStatus&&(a=Number(this.addedOrders[t].avilabelQuantityInBranch)),this.addedOrders[t].ancientBranchId=e,this.addedOrders[t].ancientQuantityNeeded=a}let s=Number(this.quantity),r=Number(this.quantityInBranch);if(console.log("check BranchId",this.BranchId),!this.BranchId)return console.log("Error: اختر فرع اولا"),void Mt()({text:" اختر فرع اولا",icon:"error"});if(this.addedOrders[t].ancientBranchId===this.BranchId)r+=Number(this.addedOrders[t].ancientQuantityNeeded);else if(r<=0)return console.log("Error: لا يمكن السحب من الفرع الجديد لأن الكمية المتاحة أقل من أو تساوي الصفر"),void Mt()({text:" لا يمكن السحب من الفرع الجديد لأن الكمية المتاحة أقل من أو تساوي الصفر",icon:"error"});let i="";r<s?(i="less",this.addedOrders[t].avilabelQuantityInBranch=r):(i="more",this.addedOrders[t].avilabelQuantityInBranch=""),this.addedOrders[t].branchId=this.BranchId,this.addedOrders[t].selectedBranch=this.selectedBranch,this.addedOrders[t].pullQuantityNeeded=s,this.addedOrders[t].pullStatus=i,console.log(`Old branchId: ${e}, Old pullQuantityNeeded: ${a}`)}if(this.pullFromBranch&&Number(this.quantityInBranch)>0&&!("isPulled"in this.addedOrders[t])){let e=Number(this.quantity),a=Number(this.quantityInBranch),s="";a<e?(s="less",this.addedOrders[t].avilabelQuantityInBranch=a):(s="more",this.addedOrders[t].avilabelQuantityInBranch=""),this.addedOrders[t].branchId=this.BranchId,this.addedOrders[t].selectedBranch=this.selectedBranch,this.addedOrders[t].pullQuantityNeeded=e,this.addedOrders[t].pullStatus=s}if(this.BranchId&&0==this.pullFromBranch&&!("isPulled"in this.addedOrders[t])&&(console.log("from inside the cancel the pull"),delete this.addedOrders[t].branchId,delete this.addedOrders[t].selectedBranch,delete this.addedOrders[t].pullQuantityNeeded,delete this.addedOrders[t].pullStatus,delete this.addedOrders[t].avilabelQuantityInBranch,this.BranchId="",this.selectedBranch="",this.quantityInBranch=""),console.log("before cancel",this.BranchId,this.pullFromBranch,this.addedOrders[t].isPulled),console.log("before cancel BranchId",this.BranchId),console.log("before cancel our product is ",this.addedOrders[t]),0==this.pullFromBranch&&this.addedOrders[t].isPulled){if(console.log("from inside the cancel the pull"),this.addedOrders[t].ancientBranchId&&this.addedOrders[t].ancientQuantityNeeded)console.log("do nothing");else{const e=this.addedOrders[t].branchId;var s=this.addedOrders[t].pullQuantityNeeded;"less"===this.addedOrders[t].pullStatus&&(s=Number(this.addedOrders[t].avilabelQuantityInBranch)),this.addedOrders[t].ancientBranchId=e,this.addedOrders[t].ancientQuantityNeeded=s}delete this.addedOrders[t].branchId,delete this.addedOrders[t].selectedBranch,delete this.addedOrders[t].pullQuantityNeeded,delete this.addedOrders[t].pullStatus,delete this.addedOrders[t].avilabelQuantityInBranch,this.BranchId="",this.selectedBranch="",this.quantityInBranch=""}console.log(this.addedOrders),this.clearProductForm(),this.$emit("added-orders-updated",this.addedOrders)}},deleteProduct(){const t=this.addedOrders.findIndex(t=>t.id===this.productId);if(-1!==t){if(!this.addedOrders[t].branchId&&!this.addedOrders[t].ancientBranchId)return console.log("Product without pull operation, simply delete"),this.addedOrders.splice(t,1),void this.clearProductForm();if(!this.addedOrders[t].isPulled&&this.addedOrders[t].branchId)return console.log("Product has a pull operation but just added, simply delete"),this.addedOrders.splice(t,1),void this.clearProductForm();if(this.addedOrders[t].isPulled){if(console.log("Product has a pull operation from before, adjusting quantities"),!this.addedOrders[t].ancientBranchId||!this.addedOrders[t].ancientQuantityNeeded){const a=this.addedOrders[t].branchId;var e=this.addedOrders[t].pullQuantityNeeded;"less"===this.addedOrders[t].pullStatus&&(e=Number(this.addedOrders[t].avilabelQuantityInBranch)),this.addedOrders[t].ancientBranchId=a,this.addedOrders[t].ancientQuantityNeeded=e}return this.addedOrders[t].isDeleted=!0,delete this.addedOrders[t].branchId,delete this.addedOrders[t].selectedBranch,delete this.addedOrders[t].pullQuantityNeeded,delete this.addedOrders[t].pullStatus,delete this.addedOrders[t].avilabelQuantityInBranch,this.BranchId="",this.selectedBranch="",this.quantityInBranch="",void this.clearProductForm()}this.$emit("added-orders-updated",this.addedOrders)}},updateProductId(){this.pullFromBranch=!1,this.hasPreviousPullOperation=!1,this.BranchId="",this.selectedBranch="",this.quantityInBranch="",this.isEditingProduct=!1,this.toggleButtons(!1);const t=this.myAllProducts.find(t=>t.name===this.selectedProduct);this.productId=t?t.id:"",this.productInfo=t||""},getProductFromBranch(){const t=this.branches.find(t=>t.nameBranch===this.selectedBranch);let e;t&&(this.BranchId=t.id,e=t.products.find(t=>t.id===this.productId)),e&&(console.log("get quantity from product"),this.quantityInBranch=e.quantity,Number(this.quantityInBranch))},quantityMessage(){this.BranchId&&(console.log("still there branchId",this.BranchId),Number(this.quantityInBranch)<Number(this.quantity)?this.aboutQuantityInBranchMessage="سيتم سحب الكمية المتوفرة والباقى يمكنك شراءه":this.aboutQuantityInBranchMessage="")},toggleButtons(t){const e=document.querySelector(".addProduct-btn"),a=document.querySelector(".updateProduct-btn"),s=document.querySelector(".deleteProduct-btn"),r=document.querySelector(".cancelChangeProduct-btn");t?(e.classList.add("addProduct-btn_hidde"),a.classList.add("updateProduct-btn_show"),s.classList.add("deleteProduct-btn_show"),r.classList.add("cancelChangeProduct-btn_show")):(e.classList.remove("addProduct-btn_hidde"),a.classList.remove("updateProduct-btn_show"),s.classList.remove("deleteProduct-btn_show"),r.classList.remove("cancelChangeProduct-btn_show"))}}},Bo=Ao,To=(a("e1776"),Object(l["a"])(Bo,Oo,So,!1,null,"465ad3f5",null)),Fo=To.exports,qo=function(){var t=this,e=t._self._c;return e("div",{staticClass:"product-manager"},[e("h3",{staticClass:"product-manager-title"},[t._v('Spichial invoice "Different Pricing"')]),e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"addedOrders"}},[t._v(" Added Products ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectProductForUpdateProp,expression:"selectProductForUpdateProp"}],staticClass:"formbold-form-input",attrs:{id:"addedOrders",placeholder:" اختر من المضافة المنتجات "},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectProductForUpdateProp=e.target.multiple?a:a[0]},t.selectProductForUpdate]}},t._l(t.addedOrders,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),0)]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"ampuntOfIncrease"}},[t._v(" amount Of Increase / decrease ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.amountOfIncrease,expression:"amountOfIncrease"}],staticClass:"formbold-form-input aline-end",attrs:{type:"number",id:"ampuntOfIncrease",placeholder:"ادخل قيمة الزيادة"},domProps:{value:t.amountOfIncrease},on:{input:function(e){e.target.composing||(t.amountOfIncrease=e.target.value)}}})]),e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"product"}},[t._v(" Product ")]),e("ValidationProvider",{attrs:{name:"المنتج",rules:""+(0==t.addedOrders.length?"required":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedProduct,expression:"selectedProduct"}],staticClass:"formbold-form-input aline-end",attrs:{list:"propList",placeholder:"المنتج"},domProps:{value:t.selectedProduct},on:{input:function(e){e.target.composing||(t.selectedProduct=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}])})],1)]),e("div",{staticClass:"formbold-input-flex"},[e("div"),e("div",[e("label",{staticClass:"formbold-form-label aline-end",attrs:{for:"editOfInstallation"}},[t._v(" Edit Of Installation ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editOfInstallation,expression:"editOfInstallation"}],staticClass:"formbold-form-input aline-end",attrs:{type:"number",id:"editOfInstallation",placeholder:"ادخل قيمة الجديدة"},domProps:{value:t.editOfInstallation},on:{input:function(e){e.target.composing||(t.editOfInstallation=e.target.value)}}})])]),e("div",{staticClass:"formbold-mb-3 cont_add_del_upda"},[e("button",{staticClass:"addProduct-btn",attrs:{disabled:!t.selectedProduct||t.editOfInstallation<=0&&0==t.amountOfIncrease},on:{click:function(e){return e.preventDefault(),t.editProduct.apply(null,arguments)}}},[t._v(" تعديل السعر ")])])])},Lo=[];Object(wa["c"])("required",{...Ia["g"],message:"{_field_} مطلوب"}),Object(wa["c"])("double",{...Ia["b"],message:"{_field_} يجب أن يكون رقمًا"}),Object(wa["c"])("min_value",{...Ia["e"],message:"{_field_} يجب أن يكون على الأقل {min}"}),Object(wa["c"])("date_format",{validate(t){const e=new RegExp("^\\d{4}-\\d{2}-\\d{2}$");return e.test(t)},params:["format"],message:"{_field_} يجب أن يكون بالتنسيق الصحيح {format}"});var No={name:"AddNewOrder",props:{addedOrders:{type:Array,required:!0}},data(){return{selectedProduct:"",productId:"",productInfo:"",amountOfIncrease:0,editOfInstallation:0,fixedInstallation:0,selectProductForUpdateProp:"",isEditingProduct:!1,Id:null}},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(lt,["orders"])},async created(){await this.fetchOrders(),this.Id=this.$route.params.orderId,this.fetchOrderDetails()},methods:{...Object(y["d"])(lt,["updateOrder","fetchOrders"]),async fetchOrderDetails(){const t=this.orders.find(t=>t.id===this.Id);t&&(this.addedOrders=t.products)},clearProductForm(){this.selectedProduct="",this.productId="",this.productInfo="",this.selectProductForUpdateProp="",this.editOfInstallation=0,this.amountOfIncrease=0,this.isEditingProduct=!1},selectProductForUpdate(){const t=this.addedOrders.find(t=>t.id===this.selectProductForUpdateProp);t&&(this.selectedProduct=t.name,this.productId=t.id,this.productInfo=t.productInfo,this.amountOfIncrease=t.amountOfIncrease||0,this.editOfInstallation=t.editOfInstallation||0,this.isEditingProduct=!0,console.log(this.productId,this.productInfo),console.log(t))},editProduct(){const t=this.addedOrders.findIndex(t=>t.id===this.productId);if(-1!==t){if(0!==Number(this.amountOfIncrease)){console.log("inside");var e=this.productInfo.priceMaterial+parseFloat(this.amountOfIncrease);this.addedOrders[t].amountOfIncrease=this.amountOfIncrease,this.addedOrders[t].priceWithIncrease=e}Number(this.editOfInstallation)>0&&(this.addedOrders[t].editOfInstallation=this.editOfInstallation),console.log("spichialPrice",e,"this.productInfo.priceMaterial",this.productInfo.priceMaterial,"this.amountOfIncrease",this.amountOfIncrease,"editOfInstallation",this.editOfInstallation),this.$emit("added-orders-updated",this.addedOrders),this.clearProductForm(),console.log(this.addedOrders)}}}},jo=No,Mo=(a("6174"),Object(l["a"])(jo,qo,Lo,!1,null,"581397ec",null)),Uo=Mo.exports,Eo=function(){var t=this,e=t._self._c;return e("div",{staticClass:"product-manager respo-form-order"},[e("h3",{staticClass:"product-manager-title"},[t._v("Joker Field")]),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"addedFields"}},[t._v("Added Field")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedFieldId,expression:"selectedFieldId"}],staticClass:"formbold-form-input",attrs:{id:"addedFields"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedFieldId=e.target.multiple?a:a[0]},t.loadSelectedField]}},t._l(t.addedFields,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name||"Unnamed Field")+" ")])})),0)]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"name"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentField.name,expression:"currentField.name"}],staticClass:"formbold-form-input",attrs:{type:"text",id:"name",placeholder:"Enter Name"},domProps:{value:t.currentField.name},on:{input:function(e){e.target.composing||t.$set(t.currentField,"name",e.target.value)}}})]),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"category"}},[t._v("Category")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentField.category,expression:"currentField.category"}],staticClass:"formbold-form-input",attrs:{type:"text",id:"category",placeholder:"Enter Category"},domProps:{value:t.currentField.category},on:{input:function(e){e.target.composing||t.$set(t.currentField,"category",e.target.value)}}})])]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"quantity"}},[t._v("Quantity")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentField.quantity,expression:"currentField.quantity",modifiers:{number:!0}}],staticClass:"formbold-form-input",attrs:{type:"number",id:"quantity",placeholder:"Enter Quantity"},domProps:{value:t.currentField.quantity},on:{input:function(e){e.target.composing||t.$set(t.currentField,"quantity",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"value"}},[t._v("Value")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentField.value,expression:"currentField.value",modifiers:{number:!0}}],staticClass:"formbold-form-input",attrs:{type:"number",id:"value",placeholder:"Enter Value"},domProps:{value:t.currentField.value},on:{input:function(e){e.target.composing||t.$set(t.currentField,"value",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),t.currentField.name||t.currentField.category?e("div",{staticClass:"choose-group_option"},[e("div",{staticClass:"choose-option"},[e("div",{staticClass:"choose-text"},[e("font-awesome-icon",{staticClass:"icon",attrs:{icon:"question-circle"}}),e("span",[t._v(" Should this field affect the invoice calculations?")])],1),e("label",{staticClass:"check-button"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentField.willBeCalculated,expression:"currentField.willBeCalculated"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.currentField.willBeCalculated)?t._i(t.currentField.willBeCalculated,null)>-1:t.currentField.willBeCalculated},on:{change:function(e){var a=t.currentField.willBeCalculated,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);s.checked?o<0&&t.$set(t.currentField,"willBeCalculated",a.concat([i])):o>-1&&t.$set(t.currentField,"willBeCalculated",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.currentField,"willBeCalculated",r)}}})])]),t.currentField.willBeCalculated?e("div",{staticClass:"choose-option"},[e("div",{staticClass:"choose-text"},[e("font-awesome-icon",{staticClass:"icon",attrs:{icon:"tools"}}),e("span",[t._v(" Include it in installation costs?")])],1),e("label",{staticClass:"check-button"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentField.calculationType,expression:"currentField.calculationType"}],attrs:{type:"radio",value:"installation"},domProps:{checked:t._q(t.currentField.calculationType,"installation")},on:{change:function(e){return t.$set(t.currentField,"calculationType","installation")}}})])]):t._e(),t.currentField.willBeCalculated?e("div",{staticClass:"choose-option"},[e("div",{staticClass:"choose-text"},[e("font-awesome-icon",{staticClass:"icon",attrs:{icon:"cubes"}}),e("span",[t._v(" Include it in material costs?")])],1),e("label",{staticClass:"check-button"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentField.calculationType,expression:"currentField.calculationType"}],attrs:{type:"radio",value:"material"},domProps:{checked:t._q(t.currentField.calculationType,"material")},on:{change:function(e){return t.$set(t.currentField,"calculationType","material")}}})])]):t._e()]):t._e(),t.currentField.name&&t.currentField.willBeCalculated&&"material"==t.currentField.calculationType?e("div",[e("label",{staticClass:"formbold-form-label"},[t._v("buy price ")]),e("ValidationProvider",{attrs:{name:"buy Price",rules:"double:1|min_value:0"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentField.purchaseCost,expression:"currentField.purchaseCost",modifiers:{number:!0}}],staticClass:"formbold-form-input",attrs:{placeholder:"type here",type:"number"},domProps:{value:t.currentField.purchaseCost},on:{input:function(e){e.target.composing||t.$set(t.currentField,"purchaseCost",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!1,2690843760)})],1):t._e(),t.currentField.name&&t.currentField.willBeCalculated&&"material"==t.currentField.calculationType?e("div",{staticClass:"formbold-input-flex"},[e("div",[e("label",{staticClass:"formbold-form-label"},[t._v(" discount ")]),e("ValidationProvider",{attrs:{name:"Price With Labor",rules:"required|double:1|min_value:0"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentField.valueDiscountOnBuy,expression:"currentField.valueDiscountOnBuy",modifiers:{number:!0}}],staticClass:"formbold-form-input",attrs:{placeholder:"type here",type:"number"},domProps:{value:t.currentField.valueDiscountOnBuy},on:{input:function(e){e.target.composing||t.$set(t.currentField,"valueDiscountOnBuy",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!1,853062608)})],1),e("div",[e("label",{staticClass:"formbold-form-label"},[t._v(" Type ")]),e("select",{directives:[{name:"model",rawName:"v-model.number",value:t.currentField.kindDiscount,expression:"currentField.kindDiscount",modifiers:{number:!0}}],staticClass:"formbold-form-input",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var a="_value"in e?e._value:e.value;return t._n(a)}));t.$set(t.currentField,"kindDiscount",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"fixed"}},[t._v("ثابت")]),e("option",{attrs:{value:"percentage"}},[t._v("نسبة")])])])]):t._e(),e("div",{staticClass:"formbold-mb-3 cont_add_del_upda"},[e("button",{staticClass:"addProduct-btn",on:{click:t.addField}},[t._v("Add")]),e("button",{staticClass:"updateProduct-btn",attrs:{disabled:!t.selectedFieldId},on:{click:t.updateField}},[t._v(" Edit ")]),e("button",{staticClass:"deleteProduct-btn",attrs:{disabled:!t.selectedFieldId},on:{click:t.deleteField}},[t._v(" Delete ")]),e("button",{staticClass:"cancelChangeProduct-btn",on:{click:t.cancelEdit}},[t._v(" Cancel ")])])])},Ro=[],Qo={props:{addedFields:{type:Array,default:()=>[]}},data(){return{selectedFieldId:null,currentField:this.getEmptyField()}},methods:{getEmptyField(){return{id:null,name:"",category:"",quantity:1,value:0,willBeCalculated:!1,calculationType:"",purchaseCost:0,valueDiscountOnBuy:0,kindDiscount:"fixed",price_offer:0}},addField(){const t={...this.currentField,id:Date.now(),quantity:this.currentField.quantity||1,value:this.currentField.value||0};this.addedFields.push(t),this.$emit("updateFields",[...this.addedFields]),this.resetForm()},updateField(){const t=this.addedFields.map(t=>t.id===this.selectedFieldId?{...this.currentField}:t);this.addedFields=t,this.$emit("updateFields",[...this.addedFields]),this.resetForm(),this.toggleButtons(!1)},deleteField(){const t=this.addedFields.filter(t=>t.id!==this.selectedFieldId);this.addedFields=t,this.$emit("updateFields",[...this.addedFields]),this.resetForm(),this.toggleButtons(!1)},loadSelectedField(){const t=this.addedFields.find(t=>t.id===this.selectedFieldId);t&&(this.currentField={...t},this.toggleButtons(!0))},cancelEdit(){this.resetForm(),this.toggleButtons(!1)},resetForm(){this.selectedFieldId=null,this.currentField=this.getEmptyField()},toggleButtons(t){const e=document.querySelector(".addProduct-btn"),a=document.querySelector(".updateProduct-btn"),s=document.querySelector(".deleteProduct-btn"),r=document.querySelector(".cancelChangeProduct-btn");t?(e.classList.add("addProduct-btn_hidde"),a.classList.add("updateProduct-btn_show"),s.classList.add("deleteProduct-btn_show"),r.classList.add("cancelChangeProduct-btn_show")):(e.classList.remove("addProduct-btn_hidde"),a.classList.remove("updateProduct-btn_show"),s.classList.remove("deleteProduct-btn_show"),r.classList.remove("cancelChangeProduct-btn_show"))}}},Vo=Qo,Ho=(a("ce80"),Object(l["a"])(Vo,Eo,Ro,!1,null,"0f565ba4",null)),Go=Ho.exports,Wo={name:"ProductManagerWrapper",components:{TransitionWrapper:Ri},props:{addedOrders:{type:Array,required:!0},addedFields:{type:Array,required:!0}},data(){return{currentComponentIndex:0,components:[Fo,Uo,Go]}},computed:{currentComponent(){return this.components[this.currentComponentIndex]}},methods:{navigateTo(t){"next"===t?this.currentComponentIndex=(this.currentComponentIndex+1)%this.components.length:"previous"===t&&(this.currentComponentIndex=(this.currentComponentIndex-1+this.components.length)%this.components.length)},handleAddedOrdersUpdate(t){this.$emit("added-orders-updated",t)},handleupdateFields(t){this.$emit("updateFields",t)}}},zo=Wo,$o=(a("fabe"),Object(l["a"])(zo,xo,Do,!1,null,"95f4e294",null)),Zo=$o.exports;Object(wa["c"])("required",{...Ia["g"],message:"{_field_} مطلوب"}),Object(wa["c"])("numeric",{...Ia["f"],message:"{_field_} يجب أن يكون رقمًا"}),Object(wa["c"])("min_value",{...Ia["e"],message:"{_field_} يجب أن يكون على الأقل {min}"}),Object(wa["c"])("date_format",{validate(t){const e=new RegExp("^\\d{4}-\\d{2}-\\d{2}$");return e.test(t)},params:["format"],message:"{_field_} يجب أن يكون بالتنسيق الصحيح {format}"});var Yo={name:"EditOrder",components:{UserSelectionComponent:fi,DataLocationSelectionComponent:Ci,ShippingAndType:Di,Details:Fi,ProductMangerWraper:Zo,FormActions:vo,CircleLoader:Sa},data(){return{addedFields:[],addedOrders:[],selectedCustomer:"",customerId:null,customerInfo:"",selectedTechnical:"",TechnicalId:null,TechnicaInfo:"",invoiceType:"تركيب وتوريد",date:"",adress:"",notes:"",status:"0",number:"",laborPrice:"",shipping:"",customShipping:"",Group:"",file:null,isLoading:!1,customInvoice:!1,displayTowInvoice:!1,displaySale:!0,displayInstallation:!1,fixedInstallation:0,autoSaveTransactionType:"",autoSaveTransactionId:"",transactionData:""}},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(lt,["orders"]),...Object(y["e"])(ie,["branches"])},async created(){this.fetchBranches(),await this.fetchOrders(),this.Id=this.$route.params.orderId,this.fetchOrderDetails()},methods:{...Object(y["d"])(lt,["updateOrder","fetchOrders","uploadImage","deleteImageFromStorage","generateOrderNumber"]),...Object(y["d"])(ut,["fetchSpecificTransactionById","updateSpecificTransaction"]),...Object(y["d"])(ie,["fetchBranches","updateBranch"]),...Object(y["d"])(pt,["justUpdateAutoTransaction"]),calculateTotalCost(t){return Number(go(t,"true"))+Number(yo(t,"true"))},handleCustomerUpdate({customerId:t,customerInfo:e,selectedCustomer:a}){this.customerId=t,this.customerInfo=e,this.selectedCustomer=a,console.log("update selectedCustomer by emit event",this.selectedCustomer,this.customerInfo)},handleTechnicalUpdate({TechnicalId:t,TechnicaInfo:e,selectedTechnical:a}){this.TechnicalId=t,this.TechnicaInfo=e,this.selectedTechnical=a,console.log("update selectedTechnical by emit event",this.selectedTechnical,this.TechnicaInfo)},handleLocationUpdate(t){this.adress=t,console.log("update location by emit event",this.adress)},handleDateUpdate(t){this.date=t,console.log("update date by emit event",this.date)},handleShippingUpdate(t){this.shipping=t,console.log("update shipping by emit event",this.shipping)},handleGroup(t){this.Group=t,console.log("update invoiceType by emit event",this.Group)},handleCustomShippingUpdate(t){this.customShipping=t,console.log("update customShipping by emit event",this.customShipping)},handleTypeUpdate(t){this.invoiceType=t,console.log("update invoiceType by emit event",this.invoiceType)},handleAddedOrdersUpdate(t){this.addedOrders=t,console.log("update addedOrders by emit event",this.addedOrders)},handleupdateFields(t){this.addedFields=t,console.log("update addedFields by emit event",this.addedFields)},handleDetailsUpdate(t){this.notes=t.notes||"",this.status=t.status||"0",this.number=t.number||"",this.laborPrice=t.laborPrice||"",this.file=t.file,this.displaySale=t.displaySale,this.displayTowInvoice=t.displayTowInvoice,this.displayInstallation=t.displayInstallation,this.fixedInstallation=t.fixedInstallation,console.log(t)},letHandelForBtns(){console.log("let handel to btns")},async fetchOrderDetails(){const t=this.orders.find(t=>t.id===this.Id);console.log(t),t&&(this.addedOrders=t.products,this.addedFields=t.jokerFields||[],this.selectedCustomer=t.customerName,this.customerId=t.customerId,this.customerInfo=t.customerInfo,this.selectedTechnical=t.technicalName,this.TechnicalId=t.technicalId,this.TechnicaInfo=t.TechnicaInfo,this.invoiceType=t.invoiceType,this.date=t.date,this.adress=t.adress,this.notes=t.notes,this.status=t.status,this.number=t.numberOfOrder,this.laborPrice=t.laborPrice,this.shipping=t.shipping,this.customShipping=t.customShipping,this.Group=t.Group||"",this.currentImageUrl=t.imageUrl,this.displaySale=t.displaySale,this.displayTowInvoice=t.displayTowInvoice||!1,this.displayInstallation=t.displayInstallation||!1,this.fixedInstallation=t.fixedInstallation||0,this.autoSaveTransactionType=t.transactionInfo.type||"",this.autoSaveTransaction=t.transactionInfo.transactionId||"",this.transactionData=t.transactionInfo||"")},goBack(){this.$router.push("/dashboard/Order")},async pullProductsFromDatabase(){console.log("just enter pull fun",this.addedOrders);for(const t of this.addedOrders){if(!t.branchId&&t.ancientBranchId){const e=t.ancientBranchId,a=Number(t.ancientQuantityNeeded),s=this.branches.find(t=>t.id===e);if(s){const e=s.products.find(e=>e.id===t.id);e&&(console.log("before back stock",e.quantity),e.quantity+=a,console.log("after back stock",e.quantity),await this.updateBranch(s))}if(delete t.ancientBranchId,delete t.ancientQuantityNeeded,delete t.isPulled,t.isDeleted){console.log("Product marked for deletion, removing it after restoring quantity.");const e=this.addedOrders.findIndex(e=>e.id===t.id);-1!==e&&this.addedOrders.splice(e,1)}else console.log("Product not marked for deletion, keeping it in the list.")}if(t.branchId||t.ancientBranchId){if(console.log("print info",t.branchId,t.ancientBranchId),t.branchId&&t.ancientBranchId){console.log("just enter our case");const e=t.ancientBranchId,a=t.branchId,s=Number(t.ancientQuantityNeeded),r=Number(t.pullQuantityNeeded),i=this.branches.find(t=>t.id===e);if(i){const e=i.products.find(e=>e.id===t.id);e&&(console.log("before back stock",e.quantity),e.quantity+=Number(s),console.log("after back stock",e.quantity),await this.updateBranch(i))}const o=this.branches.find(t=>t.id===a);if(!o){Mt()("خطأ","الفرع المحدد غير موجود.","error");continue}const n=o.products.find(e=>e.id===t.id);if(!n){Mt()("خطأ","المنتج غير موجود في الفرع المحدد.","error");continue}"less"===t.pullStatus?n.quantity=0:"more"===t.pullStatus&&(n.quantity-=r),console.log("before update Branch with new data "),await this.updateBranch(o),delete t.ancientBranchId,delete t.ancientQuantityNeeded}else if(t.branchId&&!t.ancientBranchId&&!t.isPulled){const e=t.branchId,a=Number(t.pullQuantityNeeded),s=this.branches.find(t=>t.id===e);if(!s){Mt()("خطأ","الفرع المحدد غير موجود.","error");continue}const r=s.products.find(e=>e.id===t.id);if(!r){Mt()("خطأ","المنتج غير موجود في الفرع المحدد.","error");continue}"less"===t.pullStatus?r.quantity=0:"more"===t.pullStatus&&(r.quantity-=a),await this.updateBranch(s),t.isPulled=!0}console.log("تم تحديث عملية السحب:",this.addedOrders)}else console.log("skip case")}},async handleTransactionUpdate(t){if(!this.transactionData)return console.log("NO Transaction Data"),null;const{lastAmount:e,transactionId:a,type:s}=this.transactionData;if(console.log("last amount ",e),"MoreThan"===s)return console.log("enter MoreThan with transactionId",a),await this.justUpdateAutoTransaction(a,this.calculateTotalCost(t).toFixed(2)),console.log("after MoreThan with transactionId",a),{type:"MoreThan",transactionId:a,lastAmount:this.calculateTotalCost(t).toFixed(2)};if("OnePlace"===s){if(!a)return null;console.log("Fetching existing OnePlace transaction:",a);const s=await this.fetchSpecificTransactionById(a);return s?(s.typesData.forEach(t=>{t.totalAmount-=Number(e)}),s.typesData.forEach(e=>{e.totalAmount+=Number(this.calculateTotalCost(t))}),this.calculateRemainingValue(s.typesData,s.payments),console.log("Updating existing OnePlace transaction:",s),await this.updateSpecificTransaction({...s,userId:this.customerId,id:a}),{type:"OnePlace",transactionId:a,lastAmount:this.calculateTotalCost(t).toFixed(2)}):(console.error("Transaction not found!"),null)}},calculateRemainingValue(t,e){t.forEach(t=>{t.remainingValue=t.totalAmount}),e.forEach(e=>{const a=t.find(t=>t.type===e.paymentType);a&&(a.remainingValue-=parseFloat(e.amount||0))}),console.log("Updated Types Data with Remaining Values:",t)},async handelUpdateOrder(){this.isLoading=!0;try{if(0===this.addedOrders.length)return Mt()("لا يمكن إنشاء الطلب بدون منتجات.","يرجى إضافة منتجات قبل إنشاء الطلب.","error"),void(this.isLoading=!1);let t="";this.file&&(this.currentImageUrl&&await this.deleteImageFromStorage(this.currentImageUrl),t=await this.uploadImage({file:this.file})),this.number||(this.number=await this.generateOrderNumber()),await this.pullProductsFromDatabase();const e=this.addedOrders.some(t=>t.amountOfIncrease||t.editOfInstallation),a={id:this.Id,jokerFields:this.addedFields,products:this.addedOrders,customerName:this.selectedCustomer,customerId:this.customerId,customerInfo:this.customerInfo,technicalName:this.selectedTechnical,technicalId:this.TechnicalId,TechnicaInfo:this.TechnicaInfo,invoiceType:this.invoiceType,adress:this.adress,date:this.date,status:this.status,notes:this.notes,numberOfOrder:this.number,laborPrice:this.laborPrice,shipping:this.shipping,customShipping:this.customShipping,Group:this.Group,imageUrl:t,displaySale:this.displaySale,displayTowInvoice:this.displayTowInvoice,displayInstallation:this.displayInstallation,fixedInstallation:this.fixedInstallation,hasCustomInvoice:e};console.log("before send"),await this.updateOrder(a);const s=await this.handleTransactionUpdate(a);s&&(console.log("transactionData",s),await this.updateOrder({...a,transactionInfo:s})),console.log("after send"),this.isLoading=!1,Mt()("تم تعديل الطلب بنجاح!","سيتم إعادة توجيهك إلى صفحة تخصيص فاتورة.","success"),this.$router.push({name:"Fatora",params:{orderId:this.Id,isCustom:e.toString()}})}catch(t){console.error("Error creating order:",t),this.isLoading=!1,Mt()("خطأ في تعديل الطلب","يرجى المحاولة مرة أخرى.","error")}}}},Ko=Yo,Xo=(a("4c4c"),Object(l["a"])(Ko,Po,ko,!1,null,"de8ccebe",null)),Jo=Xo.exports,tn=function(){var t=this,e=t._self._c;return e("v-app",[e("v-container",[e("v-card",{staticClass:"mx-auto my-5 elevation-3 rounded-lg",attrs:{"max-width":"1000"}},[e("v-card-title",{staticClass:"primary white--text d-flex align-center py-4"},[e("v-icon",{staticClass:"mr-2"},[t._v("mdi-account-group")]),t._v(" Users List "),e("v-spacer"),e("v-btn",{staticClass:"white--text",attrs:{icon:"",disabled:t.loading},on:{click:t.fetchUserss}},[t.loading?e("v-progress-circular",{attrs:{indeterminate:"",size:"24",color:"white"}}):e("v-icon",[t._v("mdi-refresh")])],1)],1),t.loading?e("v-progress-linear",{attrs:{indeterminate:"",color:"primary",height:"4"}}):t._e(),e("v-card-text",{staticClass:"pa-5"},[e("v-row",{staticClass:"mb-4"},[e("v-col",{attrs:{cols:"12",md:"6"}},[e("v-text-field",{attrs:{label:"Search for a user...","prepend-inner-icon":"mdi-magnify",outlined:"",dense:"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),e("v-data-table",{attrs:{headers:t.headers,items:t.users,"items-per-page":t.itemsPerPage,"server-items-length":t.totalUsers,search:t.search,dense:"","fixed-header":"",height:"400px",loading:t.loading},scopedSlots:t._u([{key:"item",fn:function({item:a}){return[e("tr",[e("td",{staticClass:"text-center"},[t._v(t._s(a.id))]),e("td",{staticClass:"text-center"},[e("v-avatar",{attrs:{size:"30"}},[e("img",{attrs:{src:a.avatar,alt:a.first_name}})])],1),e("td",{staticClass:"text-center"},[t._v(t._s(a.first_name))]),e("td",{staticClass:"text-center"},[t._v(t._s(a.last_name))]),e("td",{staticClass:"text-center"},[t._v(t._s(a.email))]),e("td",{staticClass:"text-center"},[e("v-btn",{attrs:{icon:"",color:"blue"},on:{click:function(e){return t.editUser(a)}}},[e("v-icon",[t._v("mdi-pencil")])],1),e("v-btn",{attrs:{icon:"",color:"red"},on:{click:function(e){return t.confirmDeleteUser(a)}}},[e("v-icon",[t._v("mdi-delete")])],1)],1)])]}}])}),e("v-row",{staticClass:"mt-5",attrs:{justify:"center"}},[e("v-pagination",{attrs:{length:t.totalPages,"total-visible":"5",color:"primary"},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1),e("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[e("v-card",[e("v-card-title",[t._v("Edit User")]),e("v-card-text",[e("v-text-field",{attrs:{label:"First Name",outlined:""},model:{value:t.editedUser.first_name,callback:function(e){t.$set(t.editedUser,"first_name",e)},expression:"editedUser.first_name"}}),e("v-text-field",{attrs:{label:"Last Name",outlined:""},model:{value:t.editedUser.last_name,callback:function(e){t.$set(t.editedUser,"last_name",e)},expression:"editedUser.last_name"}}),e("v-text-field",{attrs:{label:"Email",outlined:""},model:{value:t.editedUser.email,callback:function(e){t.$set(t.editedUser,"email",e)},expression:"editedUser.email"}})],1),e("v-card-actions",[e("v-btn",{attrs:{color:"green"},on:{click:t.saveUser}},[t._v("Save")]),e("v-btn",{attrs:{color:"grey"},on:{click:function(e){t.editDialog=!1}}},[t._v("Cancel")])],1)],1)],1),e("v-dialog",{attrs:{"max-width":"400px"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[e("v-card",[e("v-card-title",[t._v("Confirm Deletion")]),e("v-card-text",[t._v("Are you sure you want to delete user "+t._s(t.selectedUser.first_name)+"?")]),e("v-card-actions",[e("v-btn",{attrs:{color:"red"},on:{click:t.deleteUser}},[t._v("Delete")]),e("v-btn",{attrs:{color:"grey"},on:{click:function(e){t.deleteDialog=!1}}},[t._v("Cancel")])],1)],1)],1)],1)],1)},en=[],an=a("cee4");const sn=Object(y["c"])("users",{state:()=>({users:[],totalPages:1,totalUsers:0,currentPage:1,isLoading:!1}),actions:{async fetchUsers(t=1){this.isLoading=!0,console.log("page",t.page);try{const e=await an["a"].get("https://reqres.in/api/users",{params:{page:t.page,per_page:t.itemsPerPage}});this.users=e.data.data,console.log(this.users),this.totalPages=e.data.total_pages,this.totalUsers=e.data.total,this.currentPage=t}catch(e){console.error("❌ Error fetching users:",e)}finally{this.isLoading=!1}},async updateUser(t){try{console.log(t.id);const e=await an["a"].put("https://reqres.in/api/users/"+t.id,t);console.log(e),alert("تم التعديل بنجاح!")}catch(e){console.error("Error updating user:",e)}},async deleteUser(t){try{await an["a"].delete("https://reqres.in/api/users/"+t),alert("تم الحذف بنجاح!")}catch(e){console.error("Error deleting user:",e)}}}});var rn={data(){return{page:1,itemsPerPage:6,search:"",loading:!1,editDialog:!1,deleteDialog:!1,editedUser:{},selectedUser:{},headers:[{text:"ID",value:"id",align:"center"},{text:"Avatar",value:"avatar",align:"center"},{text:"First Name",value:"first_name",align:"center"},{text:"Last Name",value:"last_name",align:"center"},{text:"Email",value:"email",align:"center"},{text:"Actions",value:"actions",align:"center",sortable:!1}]}},computed:{...Object(y["e"])(sn,["users","totalUsers"]),totalPages(){return Math.ceil(this.totalUsers/this.itemsPerPage)}},methods:{...Object(y["d"])(sn,["fetchUsers","updateUser","removeUser"]),async fetchUserss(){this.loading=!0,await this.fetchUsers({page:this.page,itemsPerPage:this.itemsPerPage}),this.loading=!1},editUser(t){this.editedUser={...t},this.editDialog=!0},async saveUser(){await this.updateUser(this.editedUser),this.editDialog=!1,this.fetchUserss()},confirmDeleteUser(t){this.selectedUser=t,this.deleteDialog=!0},async deleteUser(){await this.removeUser(this.selectedUser.id),this.deleteDialog=!1,this.fetchUserss()}},watch:{page(){this.fetchUserss()}},mounted(){this.fetchUserss()}},on=rn,nn=(a("1419"),Object(l["a"])(on,tn,en,!1,null,"1f6cdb87",null)),ln=nn.exports,cn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page Branches"},[e("div",{staticClass:"title"},[e("div",[e("div",[e("Breadcrumb",{attrs:{breadcrumbs:t.breadcrumbs}})],1),e("div",[e("div",[t._m(0),e("router-link",{attrs:{to:"/dashboard/AddNewBranch"}},[e("button",{staticClass:"add"},[t._v("+ add Branch")])])],1)])]),e("div",{staticClass:"filter_by_search",class:{"dark-mode-box":t.getDarkMode}},[e("div",{},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],class:{"dark-mode-search":t.getDarkMode},attrs:{placeholder:"search",type:"search"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedFilter,expression:"selectedFilter"}],staticClass:"filter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedFilter=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"date"}},[t._v("date")]),e("option",{attrs:{value:"nameBranch"}},[t._v("name Branch")]),e("option",{attrs:{value:"location"}},[t._v("location")])])]),e("div",{class:{"dark-mode-box":t.getDarkMode}},[e("div",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectStatus,expression:"selectStatus"}],staticClass:"filter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectStatus=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"all"}},[t._v("الكل")]),e("option",{attrs:{value:"0"}},[t._v("قديم")]),e("option",{attrs:{value:"1"}},[t._v("جديد")]),e("option",{attrs:{value:"3"}},[t._v("مؤقت")])])]),t._m(1)])])]),e("div",{staticClass:"allContent",class:{"dark-mode-box":t.getDarkMode}},[t.isLoading?e("TableSkeleton",{attrs:{rows:5,columns:6}}):t.getBranches.length>0?e("ListTable",{staticClass:"ListTable_cont",attrs:{Branches:t.getBranches}}):e("NoData",{attrs:{context:"storage"}})],1)])},dn=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"export"},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmvEXj1Sr-tzeKuEP9PgzajIUDvR_-L-zfkg&usqp=CAU"}}),e("button",[t._v("export")])])},function(){var t=this,e=t._self._c;return e("div",[e("button",[t._v("last aded")]),e("img",{staticClass:"arroow aded",attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS_HHn9uGD0sPLHcGzdjI_WX8Au22ap-x1b1Q&usqp=CAU"}})])}],un=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ListTable",class:{"dark-mode":t.getDarkMode}},[e("div",{staticClass:"show__table"},[e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.Branches,(function(a,s){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.date))]),e("td",[t._v(t._s(a.nameBranch))]),e("td",[t._v(t._s(a.location))]),e("td",[t._v(t._s(t.getStatusText(a.status)))]),e("td",{staticClass:"actions"},[e("DropdownMenu",{ref:"dropdownMenu",refInFor:!0,attrs:{branch:a},on:{closeOthers:function(e){return t.openDropdownHandel(s)}}})],1)])})),0)])])])},pn=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("تاريخ الانشاء")]),e("th",[t._v("اسم المخزن")]),e("th",[t._v("المكان")]),e("th",[t._v("الحالة")]),e("th",[t._v("الخيارات")])])])}],hn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dropdown"},[e("button",{staticClass:"dropbtn",on:{click:t.toggle}},[t._v(":")]),t.visible?e("div",{staticClass:"dropdown-content"},[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.viewDetails(t.branch)}}},[e("span",[t._v("تفاصيل")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","eye"]}})],1),e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.editBranch(t.branch)}}},[e("span",[t._v("تعديل")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","edit"]}})],1),e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.delette(t.branch)}}},[e("span",[t._v("حذف")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","trash"]}})],1)]):t._e()])},mn=[],fn={emits:["closeOthers"],name:"DropdownMenu",props:{branch:Object},data(){return{visible:!1,layout:this.$route.meta.layout}},computed:{},methods:{...Object(y["d"])(ie,["deleteBranch"]),toggle(){this.visible=!this.visible,this.visible&&this.$emit("closeOthers")},viewDetails(t){this.$router.push({name:"DetailsBranch",params:{branchId:t.id}})},editBranch(t){this.$router.push({name:"EditBranch",params:{branchId:t.id}})},async delette(t){try{console.log(t.id),await this.deleteBranch(t.id),console.log("branch deleted from database"),Mt()({text:"branch deleted successfully",icon:"success"})}catch(e){console.error("Deletion failed",e),Mt()({text:"Error: "+e.message,icon:"error"})}},closeDropdown(){this.visible=!1},handleClickOutside(t){this.$el.contains(t.target)||this.closeDropdown()}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeDestroy(){document.removeEventListener("click",this.handleClickOutside)}},vn=fn,gn=(a("6384"),Object(l["a"])(vn,hn,mn,!1,null,"331b33f8",null)),bn=gn.exports,yn={name:"ListTable",components:{DropdownMenu:bn},props:["Branches"],data(){return{openDropdownProp:null}},computed:{getDarkMode(){return this.$store.state.darkMode}},methods:{getStatusText(t){switch(t){case"0":return"قديم";case"3":return"مؤقت";case"1":return"جديد";default:return"غير معروف"}},openDropdownHandel(t){null!==this.openDropdownProp&&this.openDropdownProp!==t&&this.$refs.dropdownMenu[this.openDropdownProp].closeDropdown(),this.openDropdownProp=t}}},_n=yn,Cn=(a("fca9"),Object(l["a"])(_n,un,pn,!1,null,"0f1bb512",null)),wn=Cn.exports,In={name:"Order",components:{ListTable:wn,NoData:Xt,TableSkeleton:Tt,Breadcrumb:os},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(ie,["branches"]),getBranches(){let t=this.branches;return"all"!==this.selectStatus&&(t=t.filter(t=>t.status==this.selectStatus)),this.searchQuery&&(t=t.filter(t=>{const e=t[this.selectedFilter].toString().toLowerCase();return console.log(t[this.selectedFilter].toString().toLowerCase()),e.includes(this.searchQuery.toLowerCase())})),t}},async created(){await this.fetchBranches(),this.isLoading=!1},methods:{...Object(y["d"])(ie,["fetchBranches"])},data(){return{searchQuery:"",selectStatus:"all",selectedFilter:"date",isLoading:!0,breadcrumbs:[{label:"Dashboard",link:"/dashboard"},{label:"Branches",link:"/dashboard/Branches"}]}}},Pn=In,kn=(a("d3c7"),Object(l["a"])(Pn,cn,dn,!1,null,"25a4df68",null)),xn=kn.exports,Dn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"addBranch"},[e("div",{staticClass:"create_title"},[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("create branch")])]),e("div",{staticClass:"allContentt",class:{"dark-moode":t.getDarkMode}},[e("div",{staticClass:"formbold-main-wrapper"},[e("div",{staticClass:"formbold-form-wrapper"},[e("FormImage"),e("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function({invalid:a}){return[e("form",{on:{submit:function(e){return e.preventDefault(),t.creatNewBranch.apply(null,arguments)}}},[e("div",{staticClass:"formbold-input-flex"},[e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"location"}},[t._v(" مكان المخزن ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.location,expression:"location"}],staticClass:"formbold-form-input",attrs:{type:"text",id:"location",placeholder:"المكان "},domProps:{value:t.location},on:{input:function(e){e.target.composing||(t.location=e.target.value)}}})]),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"nameBranch"}},[t._v(" اسم المخزن ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nameBranch,expression:"nameBranch"}],staticClass:"formbold-form-input",attrs:{type:"text",id:"nameBranch",placeholder:"اسم المخزن "},domProps:{value:t.nameBranch},on:{input:function(e){e.target.composing||(t.nameBranch=e.target.value)}}})])]),e("div",{staticClass:"formbold-input-flex"},[e("div"),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"addedInBranch"}},[t._v("المنتجات المضافة الآن")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectProductForUpdateProp,expression:"selectProductForUpdateProp"}],staticClass:"formbold-form-input",attrs:{id:"addedInBranch",placeholder:" اختر من المضافة المنتجات "},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectProductForUpdateProp=e.target.multiple?a:a[0]},t.selectProductForUpdate]}},t._l(t.addedInBranch,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),0)])]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("ValidationProvider",{attrs:{name:"الكمية",rules:""+(0==t.addedInBranch.length?"required|numeric|min_value:0":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"quantity"}},[t._v(" (افتتاحية) الكمية ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"quantity",placeholder:"الكمية"},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"product"}},[t._v(" المنتج ")]),e("ValidationProvider",{attrs:{name:"المنتج",rules:""+(0==t.addedInBranch.length?"required":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedProduct,expression:"selectedProduct"}],staticClass:"formbold-form-input",attrs:{list:"propList",placeholder:" ابحث فى المنتجات"},domProps:{value:t.selectedProduct},on:{input:[function(e){e.target.composing||(t.selectedProduct=e.target.value)},t.catchProduct]}}),e("datalist",{attrs:{id:"propList"}},t._l(t.myAllProducts,(function(t){return e("option",{key:t.id,domProps:{value:t.name}})})),0),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"formbold-input-flex"},[e("div"),e("div",[e("ValidationProvider",{attrs:{name:"التنبيه",rules:""+(0==t.addedInBranch.length?"required|numeric|min_value:1":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"alert"}},[t._v(" التنبيه")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.alert,expression:"alert"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"alert",placeholder:"التنبيه"},domProps:{value:t.alert},on:{input:function(e){e.target.composing||(t.alert=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"formbold-mb-3 cont_add_del_upda"},[e("button",{staticClass:"addProduct-btn",attrs:{disabled:!t.selectedProduct||!t.quantity},on:{click:function(e){return e.preventDefault(),t.addProduct.apply(null,arguments)}}},[t._v(" اضافة المنتج ")]),e("button",{staticClass:"updateProduct-btn",attrs:{disabled:!t.selectedProduct||!t.quantity},on:{click:function(e){return e.preventDefault(),t.updateProduct.apply(null,arguments)}}},[t._v(" تعديل المنتج ")]),e("button",{staticClass:"deleteProduct-btn",on:{click:function(e){return e.preventDefault(),t.deleteProduct.apply(null,arguments)}}},[t._v(" حذف ")])]),e("div",{staticClass:"formbold-mb-3"},[e("ValidationProvider",{attrs:{name:"تاريخ بدا العمل",rules:"date_format:YYYY-MM-DD"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"dob"}},[t._v(" تاريخ الانشاء ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],staticClass:"formbold-form-input",attrs:{type:"date",name:"dob",id:"dob"},domProps:{value:t.date},on:{input:function(e){e.target.composing||(t.date=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("ValidationProvider",{attrs:{name:"حالة المخزن",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"status"}},[t._v("حالة المخزن ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],staticClass:"formbold-form-input",attrs:{id:"status",placeholder:"حالة المخزن"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.status=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"0"}},[t._v("قديم")]),e("option",{attrs:{value:"1"}},[t._v("جديد")]),e("option",{attrs:{value:"3"}},[t._v("مؤقت")])]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"formbold-mb-3"},[e("label",{staticClass:"formbold-form-label",attrs:{for:"message"}},[t._v(" ملاحظات ")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.notes,expression:"notes"}],staticClass:"formbold-form-input",attrs:{rows:"6",id:"message"},domProps:{value:t.notes},on:{input:function(e){e.target.composing||(t.notes=e.target.value)}}})]),e("button",{staticClass:"formbold-btn",class:{"disabled-btn":a},attrs:{disabled:a}},[t._v(" حفظ و إنشاء المخزن ")])])]}}])})],1)])]),e("CircleLoader",{attrs:{show:t.isLoading}})],1)},On=[];Object(wa["c"])("required",{...Ia["g"],message:"{_field_} مطلوب"}),Object(wa["c"])("numeric",{...Ia["f"],message:"{_field_} يجب أن يكون رقمًا"}),Object(wa["c"])("min_value",{...Ia["e"],message:"{_field_} يجب أن يكون على الأقل {min}"}),Object(wa["c"])("date_format",{validate(t){const e=new RegExp("^\\d{4}-\\d{2}-\\d{2}$");return e.test(t)},params:["format"],message:"{_field_} يجب أن يكون بالتنسيق الصحيح {format}"});var Sn={name:"AddNewBranch",components:{FormImage:or,CircleLoader:Sa},data(){return{addedInBranch:[],productId:"",quantity:0,alert:0,productInfo:"",selectedProduct:"",isLoading:!1,notes:"",nameBranch:"",date:"",location:"",status:"0",selectProductForUpdateProp:""}},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(Qa,{myAllProducts:"products"})},async created(){this.fetchProducts()},methods:{...Object(y["d"])(Qa,["fetchProducts"]),...Object(y["d"])(ie,["addBranch"]),addProduct(){this.isEditingProduct||(this.addedInBranch.push({id:this.productId,name:this.selectedProduct,alert:this.alert,quantity:this.quantity,productInfo:this.productInfo}),this.clearProductForm())},clearProductForm(){this.selectedProduct="",this.productId="",this.quantity="",this.alert="",this.selectProductForUpdateProp="",this.isEditingProduct=!1,this.toggleButtons(!1)},selectProductForUpdate(){const t=this.addedInBranch.find(t=>t.id===this.selectProductForUpdateProp);t&&(this.selectedProduct=t.name,this.productId=t.id,this.quantity=t.quantity,this.alert=t.alert,this.isEditingProduct=!0,this.toggleButtons(!0))},updateProduct(){const t=this.addedInBranch.findIndex(t=>t.id===this.productId);-1!==t&&(this.addedInBranch[t].name=this.selectedProduct,this.addedInBranch[t].price_offer=this.price_offer,this.addedInBranch[t].quantity=this.quantity,this.clearProductForm())},deleteProduct(){const t=this.addedInBranch.findIndex(t=>t.id===this.productId);-1!==t&&(this.addedInBranch.splice(t,1),this.clearProductForm())},catchProduct(){const t=this.myAllProducts.find(t=>t.name===this.selectedProduct);this.productId=t?t.id:"",this.productInfo=t||""},toggleButtons(t){const e=document.querySelector(".addProduct-btn"),a=document.querySelector(".updateProduct-btn"),s=document.querySelector(".deleteProduct-btn");t?(e.classList.add("addProduct-btn_hidde"),a.classList.add("updateProduct-btn_show"),s.classList.add("deleteProduct-btn_show")):(e.classList.remove("addProduct-btn_hidde"),a.classList.remove("updateProduct-btn_show"),s.classList.remove("deleteProduct-btn_show"))},async creatNewBranch(){this.isLoading=!0;try{if(0===this.addedInBranch.length)return Mt()("لا يمكن إنشاء الفرع بدون منتجات.","يرجى إضافة منتجات قبل إنشاء الفرع.","error"),void(this.isLoading=!1);const t={products:this.addedInBranch,notes:this.notes,nameBranch:this.nameBranch,date:this.date,location:this.location,status:this.status};console.log("before send"),console.log(this.shipping),await this.addBranch(t),console.log("after send"),this.isLoading=!1,Mt()({text:"تم إنشاء المخزن بنجاح!",icon:"success"})}catch(t){console.error("Error creating branch:",t),this.isLoading=!1,Mt()("خطأ في إنشاء الفرع","يرجى المحاولة مرة أخرى.","error")}}}},An=Sn,Bn=(a("8f76"),Object(l["a"])(An,Dn,On,!1,null,"b2a5d940",null)),Tn=Bn.exports,Fn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"addBranch"},[e("div",{staticClass:"create_title"},[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Edit branch")])]),e("div",{staticClass:"allContentt",class:{"dark-moode":t.getDarkMode}},[e("div",{staticClass:"formbold-main-wrapper"},[e("div",{staticClass:"formbold-form-wrapper"},[e("FormImage"),e("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function({invalid:a}){return[e("form",{on:{submit:function(e){return e.preventDefault(),t.handelUpdatBranch.apply(null,arguments)}}},[e("div",{staticClass:"formbold-input-flex"},[e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"location"}},[t._v(" مكان المخزن ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.location,expression:"location"}],staticClass:"formbold-form-input",attrs:{type:"text",id:"location",placeholder:"المكان "},domProps:{value:t.location},on:{input:function(e){e.target.composing||(t.location=e.target.value)}}})]),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"nameBranch"}},[t._v(" اسم المخزن ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nameBranch,expression:"nameBranch"}],staticClass:"formbold-form-input",attrs:{type:"text",id:"nameBranch",placeholder:"اسم المخزن "},domProps:{value:t.nameBranch},on:{input:function(e){e.target.composing||(t.nameBranch=e.target.value)}}})])]),e("div",{staticClass:"formbold-input-flex"},[e("div"),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"addedInBranch"}},[t._v("المنتجات المضافة الآن")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectProductForUpdateProp,expression:"selectProductForUpdateProp"}],staticClass:"formbold-form-input",attrs:{id:"addedInBranch",placeholder:" اختر من المضافة المنتجات "},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectProductForUpdateProp=e.target.multiple?a:a[0]},t.selectProductForUpdate]}},t._l(t.addedInBranch,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),0)])]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("ValidationProvider",{attrs:{name:"الكمية",rules:""+(0==t.addedInBranch.length?"required|numeric|min_value:0":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"quantity"}},[t._v(" (افتتاحية) الكمية ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"quantity",placeholder:"الكمية"},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"product"}},[t._v(" المنتج ")]),e("ValidationProvider",{attrs:{name:"المنتج",rules:""+(0==t.addedInBranch.length?"required":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedProduct,expression:"selectedProduct"}],staticClass:"formbold-form-input",attrs:{list:"propList",placeholder:" ابحث فى المنتجات"},domProps:{value:t.selectedProduct},on:{input:[function(e){e.target.composing||(t.selectedProduct=e.target.value)},t.catchProduct]}}),e("datalist",{attrs:{id:"propList"}},t._l(t.myAllProducts,(function(t){return e("option",{key:t.id,domProps:{value:t.name}})})),0),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"formbold-input-flex"},[e("div"),e("div",[e("ValidationProvider",{attrs:{name:"التنبيه",rules:""+(0==t.addedInBranch.length?"required|numeric|min_value:1":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"alert"}},[t._v(" التنبيه")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.alert,expression:"alert"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"alert",placeholder:"التنبيه"},domProps:{value:t.alert},on:{input:function(e){e.target.composing||(t.alert=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"formbold-mb-3 cont_add_del_upda"},[e("button",{staticClass:"addProduct-btn",attrs:{disabled:!t.selectedProduct||!t.quantity},on:{click:function(e){return e.preventDefault(),t.addProduct.apply(null,arguments)}}},[t._v(" اضافة المنتج ")]),e("button",{staticClass:"updateProduct-btn",attrs:{disabled:!t.selectedProduct||!t.quantity},on:{click:function(e){return e.preventDefault(),t.updateProduct.apply(null,arguments)}}},[t._v(" تعديل المنتج ")]),e("button",{staticClass:"deleteProduct-btn",on:{click:function(e){return e.preventDefault(),t.deleteProduct.apply(null,arguments)}}},[t._v(" حذف ")])]),e("div",{staticClass:"formbold-mb-3"},[e("ValidationProvider",{attrs:{name:"تاريخ بدا العمل",rules:"date_format:YYYY-MM-DD"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"dob"}},[t._v(" تاريخ الانشاء ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],staticClass:"formbold-form-input",attrs:{type:"date",name:"dob",id:"dob"},domProps:{value:t.date},on:{input:function(e){e.target.composing||(t.date=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("ValidationProvider",{attrs:{name:"حالة المخزن",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"status"}},[t._v("حالة المخزن ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],staticClass:"formbold-form-input",attrs:{id:"status",placeholder:"حالة المخزن"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.status=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"0"}},[t._v("قديم")]),e("option",{attrs:{value:"1"}},[t._v("جديد")]),e("option",{attrs:{value:"3"}},[t._v("مؤقت")])]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"formbold-mb-3"},[e("label",{staticClass:"formbold-form-label",attrs:{for:"message"}},[t._v(" ملاحظات ")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.notes,expression:"notes"}],staticClass:"formbold-form-input",attrs:{rows:"6",id:"message"},domProps:{value:t.notes},on:{input:function(e){e.target.composing||(t.notes=e.target.value)}}})]),e("button",{staticClass:"formbold-btn",class:{"disabled-btn":a},attrs:{disabled:a}},[t._v(" حفظ و إنشاء المخزن ")])])]}}])})],1)])]),e("CircleLoader",{attrs:{show:t.isLoading}})],1)},qn=[];Object(wa["c"])("required",{...Ia["g"],message:"{_field_} مطلوب"}),Object(wa["c"])("numeric",{...Ia["f"],message:"{_field_} يجب أن يكون رقمًا"}),Object(wa["c"])("min_value",{...Ia["e"],message:"{_field_} يجب أن يكون على الأقل {min}"}),Object(wa["c"])("date_format",{validate(t){const e=new RegExp("^\\d{4}-\\d{2}-\\d{2}$");return e.test(t)},params:["format"],message:"{_field_} يجب أن يكون بالتنسيق الصحيح {format}"});var Ln={name:"AddNewBranch",components:{FormImage:or,CircleLoader:Sa},data(){return{addedInBranch:[],productId:"",quantity:0,alert:0,selectedProduct:"",isLoading:!1,notes:"",nameBranch:"",date:"",location:"",status:"0",Id:null,selectProductForUpdateProp:""}},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(ie,["branches"]),...Object(y["e"])(Qa,{myAllProducts:"products"})},async created(){this.fetchProducts(),await this.fetchBranches(),this.Id=this.$route.params.branchId,this.fetchBranchDetails()},methods:{...Object(y["d"])(Qa,["fetchProducts"]),...Object(y["d"])(ie,["updateBranch","fetchBranches"]),async fetchBranchDetails(){const t=this.branches.find(t=>t.id===this.Id);t&&(this.addedInBranch=t.products,this.notes=t.notes,this.nameBranch=t.nameBranch,this.date=t.date,this.location=t.location,this.status=t.status)},addProduct(){this.isEditingProduct||(this.addedInBranch.push({id:this.productId,name:this.selectedProduct,alert:this.alert,quantity:this.quantity}),this.clearProductForm())},clearProductForm(){this.selectedProduct="",this.productId="",this.quantity="",this.alert="",this.selectProductForUpdateProp="",this.isEditingProduct=!1,this.toggleButtons(!1)},selectProductForUpdate(){const t=this.addedInBranch.find(t=>t.id===this.selectProductForUpdateProp);t&&(this.selectedProduct=t.name,this.productId=t.id,this.quantity=t.quantity,this.alert=t.alert,this.isEditingProduct=!0,this.toggleButtons(!0))},updateProduct(){const t=this.addedInBranch.findIndex(t=>t.id===this.productId);-1!==t&&(this.addedInBranch[t].name=this.selectedProduct,this.addedInBranch[t].quantity=this.quantity,this.clearProductForm())},deleteProduct(){const t=this.addedInBranch.findIndex(t=>t.id===this.productId);-1!==t&&(this.addedInBranch.splice(t,1),this.clearProductForm())},catchProduct(){const t=this.myAllProducts.find(t=>t.name===this.selectedProduct);this.productId=t?t.id:""},toggleButtons(t){const e=document.querySelector(".addProduct-btn"),a=document.querySelector(".updateProduct-btn"),s=document.querySelector(".deleteProduct-btn");t?(e.classList.add("addProduct-btn_hidde"),a.classList.add("updateProduct-btn_show"),s.classList.add("deleteProduct-btn_show")):(e.classList.remove("addProduct-btn_hidde"),a.classList.remove("updateProduct-btn_show"),s.classList.remove("deleteProduct-btn_show"))},async handelUpdatBranch(){this.isLoading=!0;try{if(0===this.addedInBranch.length)return Mt()("لا يمكن إنشاء الفرع بدون منتجات.","يرجى إضافة منتجات قبل إنشاء الفرع.","error"),void(this.isLoading=!1);const t={id:this.Id,products:this.addedInBranch,notes:this.notes,nameBranch:this.nameBranch,date:this.date,location:this.location,status:this.status};console.log("before send"),console.log(t),await this.updateBranch(t),console.log("after send"),this.isLoading=!1,Mt()({text:"تم إنشاء المخزن بنجاح!",icon:"success"})}catch(t){console.error("Error creating branch:",t),this.isLoading=!1,Mt()("خطأ في إنشاء الفرع","يرجى المحاولة مرة أخرى.","error")}}}},Nn=Ln,jn=(a("e85a"),Object(l["a"])(Nn,Fn,qn,!1,null,"0ee16361",null)),Mn=jn.exports,Un=function(){var t=this,e=t._self._c;return e("div",{staticClass:"details"},[e("div",{staticClass:"details_title"},[e("div",[e("div",{staticClass:"contTitle"},[t._m(0),e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Details grid")])]),e("div",[t._m(1),e("button",{staticClass:"generate",on:{click:t.print}},[e("font-awesome-icon",{staticClass:"printIcon",attrs:{icon:"fa-solid fa-print"}}),e("p",[t._v("print")])],1)])])]),e("div",{staticClass:"details_allContent",class:{"dark-mode-box":t.getDarkMode}},[t.isLoading?e("DetailsSkeleton"):t.branchInfo?e("ShowDetails",{attrs:{branchInfo:t.branchInfo}}):t._e()],1)])},En=[function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTUQUVkx6lAgtb3-3fMuDZnDixihOSrrNSAOg&usqp=CAU"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"export"},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmvEXj1Sr-tzeKuEP9PgzajIUDvR_-L-zfkg&usqp=CAU"}}),e("button",[t._v("png")])])}],Rn=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"detailsContent"},[e("div",{staticClass:"detailsContent__title"},[e("p",[t._v("تفاصيل المخزن: (اسم المخزن: "+t._s(t.branchInfo.nameBranch)+")")])]),e("div",{staticClass:"detailsContent__Info"},[e("div",{staticClass:"detailsContent__Info__date"},[e("p",[t._v("تاريخ الانشاء: "+t._s(t.branchInfo.date))])]),e("div",{staticClass:"detailsContent__Info__general"},[e("p",[t._v("مكان المخزن: "+t._s(t.branchInfo.location))]),e("p",[t._v("اسم المخزن : "+t._s(t.branchInfo.nameBranch))]),e("p",[t._v("الحالة: "+t._s(t.getStatusText(t.branchInfo.status)))])])]),e("div",{staticClass:"detailsContent__listProducts"},[t._m(0),e("div",[e("table",{staticClass:"table"},[t._m(1),t.branchInfo.products?e("tbody",t._l(t.branchInfo.products,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(a.quantity))]),e("td",[t._v(t._s(a.alert))]),e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(t.categoryName(a)))])])})),0):t._e()])])]),e("div",{staticClass:"detailsContent__note"},[t._m(2),e("div",{staticClass:"detailsContent__note_cont"},[t.branchInfo.notes?e("p",[t._v(t._s(t.branchInfo.notes))]):e("div",{staticClass:"no-notes"},[e("font-awesome-icon",{attrs:{icon:"sticky-note",size:"4x"}}),e("p",[t._v("لا توجد ملاحظات")])],1)])])]),e("div",{staticClass:"details__btns"},[e("button",{on:{click:function(e){return e.preventDefault(),t.goBack.apply(null,arguments)}}},[t._v("اغلاق")])])])},Qn=[function(){var t=this,e=t._self._c;return e("div",[e("p",[t._v(":المنتجات")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("الكمية")]),e("th",[t._v("التنبيه")]),e("th",[t._v("كود الصنف")]),e("th",[t._v("اسم الصنف")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"detailsContent__note_title"},[e("p",[t._v(":الملاحظات")])])}],Vn={name:"ShowDetails",components:{},props:["branchInfo"],computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(Ke,["categories"])},async created(){this.fetchCategories()},methods:{...Object(y["d"])(Ke,["fetchCategories"]),categoryName(t){if(this.categories){const e=this.categories.find(e=>{var a;return e.id===(null===t||void 0===t||null===(a=t.productInfo)||void 0===a?void 0:a.categoryId)});return console.log(e),e?e.name:"غير محدد"}},goBack(){this.$router.push("/dashboard/Branches")},getStatusText(t){switch(t){case"0":return"قديم";case"3":return"مؤقت";case"1":return"جديد";default:return"غير معروف"}}},data(){return{}}},Hn=Vn,Gn=(a("1356"),Object(l["a"])(Hn,Rn,Qn,!1,null,"01f6dd51",null)),Wn=Gn.exports,zn={name:"DetailsOrder",components:{DetailsSkeleton:Tr,ShowDetails:Wn},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(ie,["branches"])},async created(){try{await this.fetchBranches(),this.isLoading=!1,console.log("branches fetched:",this.branches),this.branchId=this.$route.params.branchId,console.log("branch ID:",this.branchId),this.branchInfo=this.branches.find(t=>t.id===this.branchId),console.log("branch Info:",this.branchInfo)}catch(t){this.isLoading=!1,console.error("Error fetching branches:",t)}},methods:{...Object(y["d"])(ie,["fetchBranches"]),print(){window.print()}},data(){return{branchId:"",branchInfo:null,isLoading:!0}}},$n=zn,Zn=(a("183f"),Object(l["a"])($n,Un,En,!1,null,"3313526c",null)),Yn=Zn.exports,Kn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page transfers"},[e("div",{staticClass:"title"},[e("div",[e("div",{staticClass:"contTitle"},[t._m(0),e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("transfers grid")])]),e("div",[t._m(1),e("router-link",{attrs:{to:"/dashboard/AddTransfer"}},[e("button",{staticClass:"add"},[t._v("+ add transfer")])])],1)]),e("div",{class:{"dark-mode-box":t.getDarkMode}},[e("div",{},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],class:{"dark-mode-search":t.getDarkMode},attrs:{placeholder:"search",type:"search"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedFilter,expression:"selectedFilter"}],staticClass:"filter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedFilter=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"date"}},[t._v("date")]),e("option",{attrs:{value:"selectedBranchTo"}},[t._v("Branch To")]),e("option",{attrs:{value:"selectedBranchFrom"}},[t._v("Branch From")])])]),e("div",{class:{"dark-mode-box":t.getDarkMode}},[e("div",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectStatus,expression:"selectStatus"}],staticClass:"filter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectStatus=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"all"}},[t._v("الكل")]),e("option",{attrs:{value:"0"}},[t._v("فى الانتظار")]),e("option",{attrs:{value:"1"}},[t._v("اثناء النقل")]),e("option",{attrs:{value:"3"}},[t._v("منجز")])])]),t._m(2)])])]),e("div",{staticClass:"allContent",class:{"dark-mode-box":t.getDarkMode}},[t.isLoading?e("TableSkeleton",{attrs:{rows:5,columns:6}}):t.getTransfers.length>0?e("ListTable",{staticClass:"ListTable_cont",attrs:{transferes:t.getTransfers}}):e("NoData",{attrs:{context:"transfers"}})],1)])},Xn=[function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTUQUVkx6lAgtb3-3fMuDZnDixihOSrrNSAOg&usqp=CAU"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"export"},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmvEXj1Sr-tzeKuEP9PgzajIUDvR_-L-zfkg&usqp=CAU"}}),e("button",[t._v("export")])])},function(){var t=this,e=t._self._c;return e("div",[e("button",[t._v("last aded")]),e("img",{staticClass:"arroow aded",attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS_HHn9uGD0sPLHcGzdjI_WX8Au22ap-x1b1Q&usqp=CAU"}})])}];const Jn=Object(y["c"])("useBranchTransferStore",{state:()=>({transferes:[]}),actions:{async fetchTransferes(){const t=await m.collection("transferes").get();this.transferes=t.docs.map(t=>({id:t.id,...t.data()})),console.log(this.transferes),console.log(this.transferes[0])},async addTransfer(t){await m.collection("transferes").add(t),this.fetchTransferes()},async deleteTransfer(t){await m.collection("transferes").doc(t).delete(),this.fetchTransferes()}}});var tl=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ListTable",class:{"dark-mode":t.getDarkMode}},[e("div",{staticClass:"show__table"},[e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.transferes,(function(a,s){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.date))]),e("td",[t._v(t._s(a.selectedBranchFrom))]),e("td",[t._v(t._s(a.selectedBranchTo))]),e("td",[t._v(t._s(t.getStatusText(a.status)))]),e("td",{staticClass:"actions"},[e("DropdownMenu",{ref:"dropdownMenu",refInFor:!0,attrs:{transfer:a},on:{closeOthers:function(e){return t.openDropdownHandel(s)}}})],1)])})),0)])])])},el=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("تاريخ التحويل")]),e("th",[t._v("الفرع *من")]),e("th",[t._v("الفرع *الى")]),e("th",[t._v("الحالة")]),e("th",[t._v("الخيارات")])])])}],al=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dropdown"},[e("button",{staticClass:"dropbtn",on:{click:t.toggle}},[t._v(":")]),t.visible?e("div",{staticClass:"dropdown-content"},[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.delette(t.transfer)}}},[e("span",[t._v("حذف")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","trash"]}})],1)]):t._e()])},sl=[],rl={emits:["closeOthers"],name:"DropdownMenu",props:{transfer:Object},data(){return{visible:!1,layout:this.$route.meta.layout}},computed:{},methods:{...Object(y["d"])(Jn,["deleteTransfer"]),toggle(){this.visible=!this.visible,this.visible&&this.$emit("closeOthers")},async delette(t){try{console.log(t.id),await this.deleteTransfer(t.id),console.log("branch deleted from database"),Mt()({text:"transfer deleted successfully",icon:"success"})}catch(e){console.error("Deletion failed",e),Mt()({text:"Error: "+e.message,icon:"error"})}},closeDropdown(){this.visible=!1},handleClickOutside(t){this.$el.contains(t.target)||this.closeDropdown()}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeDestroy(){document.removeEventListener("click",this.handleClickOutside)}},il=rl,ol=(a("d3a6"),Object(l["a"])(il,al,sl,!1,null,"d18fa38c",null)),nl=ol.exports,ll={name:"ListTable",components:{DropdownMenu:nl},props:["transferes"],data(){return{openDropdownProp:null}},computed:{getDarkMode(){return this.$store.state.darkMode}},methods:{getStatusText(t){switch(t){case 0:return"فى الانتظار";case 3:return"منجز";case 1:return"اثناء النقل";default:return"غير معروف"}},openDropdownHandel(t){null!==this.openDropdownProp&&this.openDropdownProp!==t&&this.$refs.dropdownMenu[this.openDropdownProp].closeDropdown(),this.openDropdownProp=t}}},cl=ll,dl=(a("1f51"),Object(l["a"])(cl,tl,el,!1,null,"8640bf3e",null)),ul=dl.exports,pl={name:"transfers",components:{ListTable:ul,NoData:Xt,TableSkeleton:Tt},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(Jn,["transferes"]),getTransfers(){let t=this.transferes;return"all"!==this.selectStatus&&(t=t.filter(t=>t.status==this.selectStatus)),this.searchQuery&&(t=t.filter(t=>{const e=t[this.selectedFilter].toString().toLowerCase();return console.log(t[this.selectedFilter].toString().toLowerCase()),e.includes(this.searchQuery.toLowerCase())})),t}},async created(){await this.fetchTransferes(),console.log(this.transferes),this.isLoading=!1},methods:{...Object(y["d"])(Jn,["fetchTransferes"])},data(){return{searchQuery:"",selectStatus:"all",selectedFilter:"date",isLoading:!0}}},hl=pl,ml=Object(l["a"])(hl,Kn,Xn,!1,null,"1472fb09",null),fl=ml.exports,vl=function(){var t=this,e=t._self._c;return e("div",{staticClass:"addBranch"},[e("div",{staticClass:"create_title"},[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("create transfer")])]),e("div",{staticClass:"allContentt",class:{"dark-moode":t.getDarkMode}},[e("div",{staticClass:"formbold-main-wrapper"},[e("div",{staticClass:"formbold-form-wrapper"},[e("FormImage"),e("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function({invalid:a}){return[e("form",{on:{submit:function(e){return e.preventDefault(),t.creatNewTransferBranch.apply(null,arguments)}}},[e("div",{staticClass:"formbold-input-flex"},[e("div",[e("ValidationProvider",{attrs:{name:" الفرع",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"selectedBranchTo"}},[t._v(" *الفرع *الى")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedBranchTo,expression:"selectedBranchTo"}],staticClass:"formbold-form-input",attrs:{id:"selectedBranchTo",placeholder:" اختر من الفروع "},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedBranchTo=e.target.multiple?a:a[0]}}},t._l(t.branches,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.nameBranch)+" ")])})),0),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("ValidationProvider",{attrs:{name:" الفرع",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"selectedBranchFrom"}},[t._v(" *الفرع *من")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedBranchFrom,expression:"selectedBranchFrom"}],staticClass:"formbold-form-input",attrs:{id:"selectedBranchFrom",placeholder:" اختر من الفروع "},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedBranchFrom=e.target.multiple?a:a[0]}}},t._l(t.branches,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.nameBranch)+" ")])})),0),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"addedInBranch"}},[t._v("المنتجات المحوله ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectProductForUpdateProp,expression:"selectProductForUpdateProp"}],staticClass:"formbold-form-input",attrs:{id:"addedInBranch",placeholder:"  ابحث فى المنتجات "},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectProductForUpdateProp=e.target.multiple?a:a[0]},t.selectProductForUpdate]}},t._l(t.transferdInBranch,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),0)]),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"addedInBranch"}},[t._v("ابحث فى منتجات الفرع ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectProductForShowDataProp,expression:"selectProductForShowDataProp"}],staticClass:"formbold-form-input",attrs:{id:"addedInBranch",placeholder:"  ابحث فى المنتجات "},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectProductForShowDataProp=e.target.multiple?a:a[0]},t.selectProductForshowData]}},t._l(t.branchTransferFrom.products,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),0)])]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("ValidationProvider",{attrs:{name:"الكمية",rules:""+(0==t.transferdInBranch.length?"required|numeric|min_value:1":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"quantity"}},[t._v(" (المتاحة) الكمية ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"quantity",placeholder:"الكمية",readonly:""},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"product"}},[t._v(" المنتج ")]),e("ValidationProvider",{attrs:{name:"المنتج",rules:""+(0==t.transferdInBranch.length?"required":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedProductName,expression:"selectedProductName"}],staticClass:"formbold-form-input",attrs:{list:"propList",readonly:"",placeholder:" المنتج "},domProps:{value:t.selectedProductName},on:{input:function(e){e.target.composing||(t.selectedProductName=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"formbold-input-flex"},[e("div"),e("div",[e("ValidationProvider",{attrs:{name:"الكمية",rules:""+(0==t.transferdInBranch.length?"required|numeric|min_value:1":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"quantity"}},[t._v(" (المحوله) الكمية ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.transferedQuantity,expression:"transferedQuantity"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"quantity",placeholder:"الكمية"},domProps:{value:t.transferedQuantity},on:{input:function(e){e.target.composing||(t.transferedQuantity=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"formbold-mb-3 cont_add_del_upda"},[e("button",{staticClass:"addProduct-btn",attrs:{disabled:!t.selectedProductName||!t.quantity},on:{click:function(e){return e.preventDefault(),t.addProduct.apply(null,arguments)}}},[t._v(" اضافة المنتج ")]),e("button",{staticClass:"updateProduct-btn",attrs:{disabled:!t.selectedProductName||!t.quantity},on:{click:function(e){return e.preventDefault(),t.updateProduct.apply(null,arguments)}}},[t._v(" تعديل المنتج ")]),e("button",{staticClass:"deleteProduct-btn",on:{click:function(e){return e.preventDefault(),t.deleteProduct.apply(null,arguments)}}},[t._v(" حذف ")])]),e("div",{staticClass:"formbold-mb-3"},[e("ValidationProvider",{attrs:{name:"تاريخ بدا العمل",rules:"date_format:YYYY-MM-DD"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"dob"}},[t._v(" التاريخ ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],staticClass:"formbold-form-input",attrs:{type:"date",name:"dob",id:"dob"},domProps:{value:t.date},on:{input:function(e){e.target.composing||(t.date=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("ValidationProvider",{attrs:{name:"حالة المخزن",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"status"}},[t._v("الحالة ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],staticClass:"formbold-form-input",attrs:{id:"status",placeholder:"الحالة "},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.status=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"0"}},[t._v("فى الانتظار")]),e("option",{attrs:{value:"1"}},[t._v("اثناء النقل")]),e("option",{attrs:{value:"3"}},[t._v("منجز")])]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"formbold-mb-3"},[e("label",{staticClass:"formbold-form-label",attrs:{for:"message"}},[t._v(" ملاحظات ")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.notes,expression:"notes"}],staticClass:"formbold-form-input",attrs:{rows:"6",id:"message"},domProps:{value:t.notes},on:{input:function(e){e.target.composing||(t.notes=e.target.value)}}})]),e("button",{staticClass:"formbold-btn",class:{"disabled-btn":a},attrs:{disabled:a}},[t._v(" حفظ التحويل ")])])]}}])})],1)])]),e("CircleLoader",{attrs:{show:t.isLoading}})],1)},gl=[];Object(wa["c"])("required",{...Ia["g"],message:"{_field_} مطلوب"}),Object(wa["c"])("numeric",{...Ia["f"],message:"{_field_} يجب أن يكون رقمًا"}),Object(wa["c"])("min_value",{...Ia["e"],message:"{_field_} يجب أن يكون على الأقل {min}"}),Object(wa["c"])("date_format",{validate(t){const e=new RegExp("^\\d{4}-\\d{2}-\\d{2}$");return e.test(t)},params:["format"],message:"{_field_} يجب أن يكون بالتنسيق الصحيح {format}"});var bl={name:"AddNewBranch",components:{FormImage:or,CircleLoader:Sa},data(){return{transferdInBranch:[],productId:"",quantity:null,productInfo:"",selectedProductName:"",transferedQuantity:0,isLoading:!1,notes:"",selectedBranchTo:"",selectedBranchFrom:"",date:"",status:0,selectProductForUpdateProp:"",selectProductForShowDataProp:""}},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(ie,["branches"]),branchTransferFrom(){const t=this.branches.find(t=>t.id===this.selectedBranchFrom);return t?(console.log("from",t),t):""},branchTransferTo(){const t=this.branches.find(t=>t.id===this.selectedBranchTo);return t?(console.log("to",t),t):""}},async created(){this.fetchBranches()},methods:{...Object(y["d"])(ie,["fetchBranches","updateBranch"]),...Object(y["d"])(Jn,["addTransfer"]),addProduct(){this.isEditingProduct||(this.transferdInBranch.push({id:this.productId,name:this.selectedProductName,transferedQuantity:this.transferedQuantity,quantity:this.quantity}),this.clearProductForm())},clearProductForm(){this.selectedProductName="",this.productId="",this.quantity="",this.transferedQuantity="",this.selectProductForUpdateProp="",this.isEditingProduct=!1,this.toggleButtons(!1)},selectProductForshowData(){const t=this.branchTransferFrom.products.find(t=>t.id===this.selectProductForShowDataProp);t&&(this.selectedProductName=t.name,this.productId=t.id,this.quantity=t.quantity)},selectProductForUpdate(){const t=this.transferdInBranch.find(t=>t.id===this.selectProductForShowDataProp);t&&(this.selectedProductName=t.name,this.quantity=t.quantity,this.transferedQuantity=t.transferedQuantity,this.productId=t.id),this.isEditingProduct=!0,this.toggleButtons(!0)},updateProduct(){const t=this.transferdInBranch.findIndex(t=>t.id===this.productId);-1!==t&&(this.transferdInBranch[t].name=this.selectedProductName,this.transferdInBranch[t].transferedQuantity=this.transferedQuantity,this.clearProductForm())},deleteProduct(){const t=this.transferdInBranch.findIndex(t=>t.id===this.productId);-1!==t&&(this.transferdInBranch.splice(t,1),this.clearProductForm())},toggleButtons(t){const e=document.querySelector(".addProduct-btn"),a=document.querySelector(".updateProduct-btn"),s=document.querySelector(".deleteProduct-btn");t?(e.classList.add("addProduct-btn_hidde"),a.classList.add("updateProduct-btn_show"),s.classList.add("deleteProduct-btn_show")):(e.classList.remove("addProduct-btn_hidde"),a.classList.remove("updateProduct-btn_show"),s.classList.remove("deleteProduct-btn_show"))},async creatNewTransferBranch(){this.isLoading=!0;try{if(0===this.transferdInBranch.length)return Mt()("لا يمكن تحويل المخزون بدون منتجات","يرجى إضافة منتجات قبل التحويل .","error"),void(this.isLoading=!1);if(this.branchTransferFrom==this.branchTransferTo)return Mt()("لا يمكن التحويل لنفس الفرع","يرجى تحديد فرعين مختلفين  قبل التحويل .","error"),void(this.isLoading=!1);this.transferdInBranch.forEach(t=>{const e=this.branchTransferFrom.products.find(e=>e.id===t.id);e&&(e.quantity-=t.transferedQuantity)}),this.transferdInBranch.forEach(t=>{const e=this.branchTransferTo.products.find(e=>e.id===t.id);e?e.quantity=Number(e.quantity)+Number(t.transferedQuantity):this.branchTransferTo.products.push({id:t.id,name:t.name,quantity:t.transferedQuantity})}),await this.updateBranch(this.branchTransferFrom),await this.updateBranch(this.branchTransferTo);const t={date:this.date,notes:this.notes,status:this.status,selectedBranchTo:this.branchTransferTo.nameBranch,selectedBranchFrom:this.branchTransferFrom.nameBranch,products:this.transferdInBranch};console.log("before send"),await this.addTransfer(t),console.log("after send"),this.isLoading=!1,Mt()({text:"تم تحويل المخزون بنجاح!",icon:"success"})}catch(t){console.error("Error creating branch:",t),this.isLoading=!1,Mt()("خطأ في تحويل المخزون","يرجى المحاولة مرة أخرى.","error")}}}},yl=bl,_l=(a("ae0a"),Object(l["a"])(yl,vl,gl,!1,null,"50054e84",null)),Cl=_l.exports,wl=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page StockAlerts"},[e("div",{staticClass:"title"},[e("div",[e("div",{staticClass:"contTitle"},[t._m(0),e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Stock alerts grid")])]),t._m(1)]),e("div",{class:{"dark-mode-box":t.getDarkMode}},[e("div",{},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],class:{"dark-mode-search":t.getDarkMode},attrs:{placeholder:"search",type:"search"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedFilter,expression:"selectedFilter"}],staticClass:"filter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedFilter=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"branchName"}},[t._v("branch Name")]),e("option",{attrs:{value:"productName"}},[t._v("product Name")]),e("option",{attrs:{value:"productQuantity"}},[t._v("productQuantity")])])]),e("div",{class:{"dark-mode-box":t.getDarkMode}},[e("div",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectStatus,expression:"selectStatus"}],staticClass:"filter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectStatus=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"all"}},[t._v("الكل")]),e("option",{attrs:{value:"0"}},[t._v("فى مستوى خطير")]),e("option",{attrs:{value:"1"}},[t._v("مستوى متوسط")]),e("option",{attrs:{value:"3"}},[t._v("عادى")])])]),t._m(2)])])]),e("div",{staticClass:"allContent",class:{"dark-mode-box":t.getDarkMode}},[t.isLoading?e("TableSkeleton",{attrs:{rows:5,columns:6}}):t.getStockAlerts.length>0?e("ListTable",{staticClass:"ListTable_cont",attrs:{StockAlerts:t.getStockAlerts}}):e("NoData",{attrs:{context:"stock-alerts"}})],1)])},Il=[function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTUQUVkx6lAgtb3-3fMuDZnDixihOSrrNSAOg&usqp=CAU"}})])},function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"export"},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmvEXj1Sr-tzeKuEP9PgzajIUDvR_-L-zfkg&usqp=CAU"}}),e("button",[t._v("export")])])])},function(){var t=this,e=t._self._c;return e("div",[e("button",[t._v("last aded")]),e("img",{staticClass:"arroow aded",attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS_HHn9uGD0sPLHcGzdjI_WX8Au22ap-x1b1Q&usqp=CAU"}})])}],Pl={name:"StockAlerts",components:{ListTable:ue,NoData:Xt,TableSkeleton:Tt},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(ie,["branches"]),getStockAlerts(){let t=[];return this.branches.forEach(e=>{e.products.forEach(a=>{if(a.quantity<=a.alert){let s="";const r=a.quantity/a.alert;s=r<=.3?"0":r<=.7?"1":"3",t.push({branchName:e.nameBranch,productName:a.name,productQuantity:a.quantity,alertQuantity:a.alert,status:s})}})}),"all"!==this.selectStatus&&(t=t.filter(t=>t.status==this.selectStatus)),this.searchQuery&&(t=t.filter(t=>{const e=t[this.selectedFilter].toString().toLowerCase();return console.log(t[this.selectedFilter].toString().toLowerCase()),e.includes(this.searchQuery.toLowerCase())})),t}},async created(){await this.fetchBranches(),console.log(this.transferes),this.isLoading=!1},methods:{...Object(y["d"])(ie,["fetchBranches"])},data(){return{searchQuery:"",selectStatus:"all",selectedFilter:"branchName",isLoading:!0}}},kl=Pl,xl=(a("5ced"),Object(l["a"])(kl,wl,Il,!1,null,"438749a8",null)),Dl=xl.exports,Ol=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Purchases"},[e("div",{staticClass:"title"},[e("div",[e("div",[e("Breadcrumb",{attrs:{breadcrumbs:t.breadcrumbs}})],1),e("div",[e("div",[t._m(0),e("router-link",{attrs:{to:"/dashboard/AddPurchase"}},[e("button",{staticClass:"add"},[t._v("+ add Purchase")])])],1)])]),e("div",{staticClass:"filter_by_search",class:{"dark-mode-box":t.getDarkMode}},[e("div",{},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],class:{"dark-mode-search":t.getDarkMode},attrs:{placeholder:"search",type:"search"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedFilter,expression:"selectedFilter"}],staticClass:"filter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedFilter=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"date"}},[t._v("date")]),e("option",{attrs:{value:"adress"}},[t._v("Supplier")]),e("option",{attrs:{value:"selectedBranch"}},[t._v("branch")])])]),e("div",{class:{"dark-mode-box":t.getDarkMode}},[e("div",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectStatus,expression:"selectStatus"}],staticClass:"filter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectStatus=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"all"}},[t._v("الكل")]),e("option",{attrs:{value:"0"}},[t._v("مدفوع")]),e("option",{attrs:{value:"1"}},[t._v("اجل")])])]),t._m(1)])])]),e("div",{staticClass:"allContent",class:{"dark-mode-box":t.getDarkMode}},[t.isLoading?e("TableSkeleton",{attrs:{rows:5,columns:6}}):t.getPurchases.length>0?e("ListTable",{staticClass:"ListTable_cont",attrs:{purchases:t.getPurchases}}):e("NoData",{attrs:{context:"purchases"}})],1),e("div",{staticClass:"scrollUp",attrs:{id:"scrollUp"}})])},Sl=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"export"},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmvEXj1Sr-tzeKuEP9PgzajIUDvR_-L-zfkg&usqp=CAU"}}),e("button",[t._v("export")])])},function(){var t=this,e=t._self._c;return e("div",[e("button",[t._v("last aded")]),e("img",{staticClass:"arroow aded",attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS_HHn9uGD0sPLHcGzdjI_WX8Au22ap-x1b1Q&usqp=CAU"}})])}],Al={name:"Purchase",components:{ListTable:qe,NoData:Xt,TableSkeleton:Tt,Breadcrumb:os},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(ct,["purchases"]),getPurchases(){let t=this.purchases;return"all"!==this.selectStatus&&(t=t.filter(t=>t.status==this.selectStatus)),this.searchQuery&&(t=t.filter(t=>{const e=t[this.selectedFilter].toString().toLowerCase();return console.log(t[this.selectedFilter].toString().toLowerCase()),e.includes(this.searchQuery.toLowerCase())})),t}},async created(){await this.fetchPurchases(),this.isLoading=!1},methods:{...Object(y["d"])(ct,["fetchPurchases"])},data(){return{searchQuery:"",selectStatus:"all",selectedFilter:"date",isLoading:!0,breadcrumbs:[{label:"Dashboard",link:"/dashboard"},{label:"Purchases",link:"/dashboard/Purchases"}]}}},Bl=Al,Tl=(a("bf5b"),Object(l["a"])(Bl,Ol,Sl,!1,null,"322a30f7",null)),Fl=Tl.exports,ql=function(){var t=this,e=t._self._c;return e("div",{staticClass:"addOrder"},[e("div",{staticClass:"create_title"},[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("create Purchases")])]),e("div",{staticClass:"allContentt",class:{"dark-moode":t.getDarkMode}},[e("div",{staticClass:"formbold-main-wrapper"},[e("div",{staticClass:"formbold-form-wrapper"},[e("FormImage"),e("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function({invalid:a}){return[e("form",{on:{submit:function(e){return e.preventDefault(),t.creatNewPurchase.apply(null,arguments)}}},[e("div",{staticClass:"formbold-input-flex"},[e("div",[e("ValidationProvider",{attrs:{name:"حالة الشراء",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"status"}},[t._v("حالة الشراء ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],staticClass:"formbold-form-input",attrs:{id:"status",placeholder:"حالة الشراء"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.status=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"0"}},[t._v("مدفوع")]),e("option",{attrs:{value:"1"}},[t._v("اجل")])]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"branch"}},[t._v(" الفروع ")]),e("ValidationProvider",{attrs:{name:"الفروع"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedBranch,expression:"selectedBranch"}],staticClass:"formbold-form-input",attrs:{list:"List",placeholder:" ابحث فى الفروع"},domProps:{value:t.selectedBranch},on:{input:[function(e){e.target.composing||(t.selectedBranch=e.target.value)},t.getProductsFromBranch]}}),e("datalist",{attrs:{id:"List"}},t._l(t.branches,(function(t){return e("option",{key:t.id,domProps:{value:t.nameBranch}})})),0),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"shipping"}},[t._v(" تفاصيل الشحن ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.shipping,expression:"shipping"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"shipping",placeholder:"الشحن "},domProps:{value:t.shipping},on:{input:function(e){e.target.composing||(t.shipping=e.target.value)}}})]),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"addedOrders"}},[t._v(" سلة المشتريات")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectProductForUpdateProp,expression:"selectProductForUpdateProp"}],staticClass:"formbold-form-input",attrs:{id:"addedOrders"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectProductForUpdateProp=e.target.multiple?a:a[0]},t.selectProductForUpdate]}},t._l(t.addedPurchase,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),0)])]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("ValidationProvider",{attrs:{name:"الكمية",rules:""+(0==t.addedPurchase.length?"required|numeric|min_value:1":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"quantity"}},[t._v(" الكمية المطلوبة")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"quantity",placeholder:"الكمية"},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"product"}},[t._v(" اختر المنتج ")]),e("ValidationProvider",{attrs:{name:"المنتج",rules:""+(0==t.addedPurchase.length?"required":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedProduct,expression:"selectedProduct"}],staticClass:"formbold-form-input",attrs:{list:"propList",placeholder:" ابحث فى المنتجات"},domProps:{value:t.selectedProduct},on:{input:[function(e){e.target.composing||(t.selectedProduct=e.target.value)},t.updateProductId]}}),e("datalist",{attrs:{id:"propList"}},t._l(t.ProductsInBranch,(function(t){return e("option",{key:t.id,domProps:{value:t.name}})})),0),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("ValidationProvider",{attrs:{name:"سعر البيع",rules:""+(0==t.addedPurchase.length?"required|numeric|min_value:1":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"price_sell"}},[t._v(" سعر البيع ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.price_sell,expression:"price_sell"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"price_sell",placeholder:"سعر البيع"},domProps:{value:t.price_sell},on:{input:function(e){e.target.composing||(t.price_sell=e.target.value)}}}),e("p",{staticClass:"info-message"},[t._v(" ان قمت بتغير سعر البيع سيتم تحديثه فى السيستم ")]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("ValidationProvider",{attrs:{name:" نوع الخصم  ",rules:""+(0==t.addedPurchase.length?"required":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"price_sell"}},[t._v(" نوع الخصم ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.kindDiscount,expression:"kindDiscount"}],staticClass:"formbold-form-input-no-right-padding",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.kindDiscount=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"fixed"}},[t._v("ثابت")]),e("option",{attrs:{value:"percentage"}},[t._v("نسبة")])]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("ValidationProvider",{attrs:{name:"   الخصم   ",rules:""+(0==t.addedPurchase.length?"required|numeric|min_value:1":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"price_sell"}},[t._v(" الخصم ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.valueDiscountOnBuy,expression:"valueDiscountOnBuy"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"price_sell",placeholder:" الخصم"},domProps:{value:t.valueDiscountOnBuy},on:{input:function(e){e.target.composing||(t.valueDiscountOnBuy=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("ValidationProvider",{attrs:{name:"سعر الشراء",rules:""+(0==t.addedPurchase.length?"required|numeric|min_value:1":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"price_buy"}},[t._v(" سعر الشراء ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.price_buy,expression:"price_buy"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"price_buy",placeholder:"سعر الشراء"},domProps:{value:t.price_buy},on:{input:function(e){e.target.composing||(t.price_buy=e.target.value)}}}),e("p",{staticClass:"info-message"},[t._v(" ان قمت بتغير سعر الشراء سيتم تحديثه فى السيستم ")]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"formbold-mb-3 cont_add_del_upda"},[e("button",{staticClass:"addProduct-btn",attrs:{disabled:!t.selectedProduct||!t.quantity},on:{click:function(e){return e.preventDefault(),t.addProduct.apply(null,arguments)}}},[t._v(" اضافة لسلة المشتريات ")]),e("button",{staticClass:"updateProduct-btn",attrs:{disabled:!t.selectedProduct||!t.quantity},on:{click:function(e){return e.preventDefault(),t.updateSingleProduct.apply(null,arguments)}}},[t._v(" تعديل المنتج ")]),e("button",{staticClass:"deleteProduct-btn",on:{click:function(e){return e.preventDefault(),t.deleteProduct.apply(null,arguments)}}},[t._v(" حذف ")]),e("button",{staticClass:"cancelChangeProduct-btn",on:{click:function(e){return e.preventDefault(),t.cancelChange.apply(null,arguments)}}},[t._v(" الغاء ")])]),e("div",{staticClass:"formbold-mb-3"},[e("label",{staticClass:"formbold-form-label",attrs:{for:"address"}},[t._v(" عنوان/ اسم المورد ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.adress,expression:"adress"}],staticClass:"formbold-form-input formbold-mb-3",attrs:{type:"text",id:"address",placeholder:"العنوان"},domProps:{value:t.adress},on:{input:function(e){e.target.composing||(t.adress=e.target.value)}}})]),e("div",{staticClass:"formbold-mb-3"},[e("ValidationProvider",{attrs:{name:"تاريخ  الشراء",rules:"date_format:YYYY-MM-DD"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"dob"}},[t._v(" تاريخ الشراء ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],staticClass:"formbold-form-input",attrs:{type:"date",name:"dob",id:"dob"},domProps:{value:t.date},on:{input:function(e){e.target.composing||(t.date=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"formbold-mb-3"},[e("label",{staticClass:"formbold-form-label",attrs:{for:"message"}},[t._v(" ملاحظات ")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.notes,expression:"notes"}],staticClass:"formbold-form-input",attrs:{rows:"6",id:"message"},domProps:{value:t.notes},on:{input:function(e){e.target.composing||(t.notes=e.target.value)}}})]),e("button",{staticClass:"formbold-btn",class:{"disabled-btn":a},attrs:{disabled:a}},[t._v(" حفظ و عرض التفاصيل ")])])]}}])})],1)])]),e("CircleLoader",{attrs:{show:t.isLoading}})],1)},Ll=[];Object(wa["c"])("required",{...Ia["g"],message:"{_field_} مطلوب"}),Object(wa["c"])("numeric",{...Ia["f"],message:"{_field_} يجب أن يكون رقمًا"}),Object(wa["c"])("min_value",{...Ia["e"],message:"{_field_} يجب أن يكون على الأقل {min}"}),Object(wa["c"])("date_format",{validate(t){const e=new RegExp("^\\d{4}-\\d{2}-\\d{2}$");return e.test(t)},params:["format"],message:"{_field_} يجب أن يكون بالتنسيق الصحيح {format}"});var Nl={name:"AddNewPurchase",components:{FormImage:or,CircleLoader:Sa},data(){return{addedPurchase:[],selectedProduct:"",productId:"",quantity:"",price_sell:0,price_buy:0,valueDiscountOnBuy:0,kindDiscount:"fixed",productInfo:"",discount_type:"percentage",discount_value:0,status:"0",date:"",notes:"",shipping:"",adress:"",selectProductForUpdateProp:"",isEditingProduct:!1,ProductsInBranch:[],selectedBranch:"",BranchId:"",isLoading:!1}},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(Qa,{myAllProducts:"products"}),...Object(y["e"])(Ke,["categories"]),...Object(y["e"])(ie,["branches"])},async created(){this.fetchCategories(),this.fetchProducts(),this.fetchBranches()},methods:{...Object(y["d"])(Qa,["fetchProducts","updateProduct"]),...Object(y["d"])(Ke,["fetchCategories"]),...Object(y["d"])(ie,["fetchBranches","updateBranch","fetchBranchById"]),...Object(y["d"])(ct,["addPurchase"]),addProduct(){if(!this.isEditingProduct){let t={id:this.productId,name:this.selectedProduct,price_sell:this.price_sell,price_buy:this.price_buy,valueDiscountOnBuy:this.valueDiscountOnBuy,kindDiscount:this.kindDiscount,quantity:this.quantity,productInfo:this.productInfo};this.addedPurchase.push(t),console.log(this.addedPurchase),this.clearProductForm()}},cancelChange(){this.clearProductForm()},clearProductForm(){this.selectedProduct="",this.productId="",this.quantity="",this.price_buy="",this.price_sell="",this.valueDiscountOnBuy="",this.kindDiscount="",this.productInfo="",this.selectProductForUpdateProp="",this.isEditingProduct=!1,this.toggleButtons(!1)},selectProductForUpdate(){const t=this.addedPurchase.find(t=>t.id===this.selectProductForUpdateProp);t&&(this.selectedProduct=t.name,this.productId=t.id,this.price_sell=t.price_sell,this.price_buy=t.price_buy,this.valueDiscountOnBuy=t.valueDiscountOnBuy,this.kindDiscount=t.kindDiscount,this.quantity=t.quantity,this.isEditingProduct=!0,this.toggleButtons(!0))},updateSingleProduct(){const t=this.addedPurchase.findIndex(t=>t.id===this.productId);-1!==t&&(this.addedPurchase[t].name=this.selectedProduct,this.addedPurchase[t].price_sell=this.price_sell,this.addedPurchase[t].price_buy=this.price_buy,this.addedPurchase[t].valueDiscountOnBuy=this.valueDiscountOnBuy,this.addedPurchase[t].kindDiscount=this.kindDiscount,this.addedPurchase[t].quantity=this.quantity,console.log(this.addedPurchase),this.clearProductForm())},deleteProduct(){const t=this.addedPurchase.findIndex(t=>t.id===this.productId);-1!==t&&(this.addedPurchase.splice(t,1),this.clearProductForm())},updateProductId(){this.isEditingProduct=!1,this.toggleButtons(!1);const t=this.myAllProducts.find(t=>t.name===this.selectedProduct);this.productId=t?t.id:"",this.productInfo=t||"",this.price_sell=t?t.priceMaterial:"",this.price_buy=t?t.buyPrice:"",this.valueDiscountOnBuy=(null===t||void 0===t?void 0:t.valueDiscountOnBuy)||0,this.kindDiscount=(null===t||void 0===t?void 0:t.kindDiscount)||"fixed",console.log(this.productId),console.log("our product",t)},getProductsFromBranch(){const t=this.branches.find(t=>t.nameBranch===this.selectedBranch);this.BranchId=t.id,t&&(this.ProductsInBranch=t.products),console.log("our products",t,t.products)},toggleButtons(t){const e=document.querySelector(".addProduct-btn"),a=document.querySelector(".updateProduct-btn"),s=document.querySelector(".deleteProduct-btn"),r=document.querySelector(".cancelChangeProduct-btn");t?(e.classList.add("addProduct-btn_hidde"),a.classList.add("updateProduct-btn_show"),s.classList.add("deleteProduct-btn_show"),r.classList.add("cancelChangeProduct-btn_show")):(e.classList.remove("addProduct-btn_hidde"),a.classList.remove("updateProduct-btn_show"),s.classList.remove("deleteProduct-btn_show"),r.classList.remove("cancelChangeProduct-btn_show"))},async changeProductsInSystem(){for(const t of this.addedPurchase){const e=this.myAllProducts.find(e=>e.id===t.id);if(e){const a={id:e.id,priceMaterial:Number(t.price_sell),buyPrice:Number(t.price_buy),valueDiscountOnBuy:Number(t.valueDiscountOnBuy),kindDiscount:t.kindDiscount};await this.updateProduct(a)}}},async addProductsToBranches(){const t=this.BranchId;try{const e=await this.fetchBranchById(t);for(const t of this.addedPurchase){const a=e.products.find(e=>e.id===t.id);if(a){const e=Number(a.quantity)+Number(t.quantity);a.quantity=e}}await this.updateBranch({products:e.products,id:e.id}),console.log("Products updated successfully!")}catch(e){console.error("Error fetching branch data:",e)}},async creatNewPurchase(){this.isLoading=!0;try{if(0===this.addedPurchase.length)return Mt()("لا يمكن إنشاء الطلب بدون منتجات.","يرجى إضافة منتجات قبل إنشاء الطلب.","error"),void(this.isLoading=!1);await this.changeProductsInSystem(),await this.addProductsToBranches();const t={products:this.addedPurchase,adress:this.adress,date:this.date,status:this.status,notes:this.notes,shipping:this.shipping,discount_type:this.discount_type,discount_value:this.discount_value,selectedBranch:this.selectedBranch,BranchId:this.BranchId};console.log("before send");const e=await this.addPurchase(t);console.log("after send",e),this.isLoading=!1,Mt()("تم إنشاء الطلب بنجاح!","سيتم إعادة توجيهك إلى صفحة التفاصيل.","success"),this.$router.push({name:"DetailsPurchase",params:{purchasesId:e}})}catch(t){console.error("Error creating order:",t),this.isLoading=!1,Mt()("خطأ في عملية الشراء ","يرجى المحاولة مرة أخرى.","error")}}}},jl=Nl,Ml=(a("2d4e"),Object(l["a"])(jl,ql,Ll,!1,null,"04c4eeb9",null)),Ul=Ml.exports,El=function(){var t=this,e=t._self._c;return e("div",{staticClass:"details"},[e("div",{staticClass:"details_title"},[e("div",[e("div",{staticClass:"contTitle"},[t._m(0),e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Details grid")])]),e("div",[t._m(1),e("button",{staticClass:"generate",on:{click:t.print}},[e("font-awesome-icon",{staticClass:"printIcon",attrs:{icon:"fa-solid fa-print"}}),e("p",[t._v("print")])],1)])])]),e("div",{staticClass:"details_allContent",class:{"dark-mode-box":t.getDarkMode}},[t.isLoading?e("DetailsSkeleton"):t.purchaseInfo?e("ShowDetails",{attrs:{purchaseInfo:t.purchaseInfo}}):t._e()],1)])},Rl=[function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTUQUVkx6lAgtb3-3fMuDZnDixihOSrrNSAOg&usqp=CAU"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"export"},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmvEXj1Sr-tzeKuEP9PgzajIUDvR_-L-zfkg&usqp=CAU"}}),e("button",[t._v("png")])])}],Ql=function(){var t=this,e=t._self._c;return e("div",[t.returns?e("div",{staticClass:"detailsContent"},[e("div",{staticClass:"detailsContent__Info"},[e("div",{staticClass:"detailsContent__Info__date"},[e("p",[t._v("تاريخ الشراء: "+t._s(t.purchaseInfo.date))])]),e("div",{staticClass:"detailsContent__Info__general"},[e("p",[t._v("اسم الفرع: "+t._s(t.purchaseInfo.selectedBranch))]),e("p",[t._v("العنوان/ اسم المورد: "+t._s(t.purchaseInfo.adress||"غير محدد"))]),e("p",[t._v("الحالة: "+t._s(t.getStatusText(t.purchaseInfo.status)))])])]),e("div",{staticClass:"detailsContent__listProducts"},[t._m(0),e("div",[e("table",{staticClass:"table"},[t._m(1),t.purchaseInfo.products?e("tbody",[t._l(t.purchaseInfo.products,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(t.calculateTotalPrice(a)))]),e("td",[t._v(t._s(a.quantity))]),e("td",[t._v(t._s(a.price_buy))]),e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(t.categoryName(a)))])])})),t.purchaseInfo.shipping?e("tr",[e("td",{attrs:{colspan:"3"}},[t._v(t._s(t.purchaseInfo.shipping))]),e("td",{attrs:{colspan:"3"}},[t._v("الشحن")])]):t._e(),e("tr",[e("td",{attrs:{colspan:"3"}},[t._v(t._s(t.calculateTotalPriceForAll))]),e("td",{attrs:{colspan:"3"}},[t._v("اجمالى قبل الخصم")])]),e("tr",[e("td",{attrs:{colspan:"3"}},[t._v(t._s(t.calculateDiscount))]),e("td",{attrs:{colspan:"3"}},[t._v("اجمالى الخصم")])]),e("tr",[e("td",{attrs:{colspan:"3"}},[t._v(t._s(t.calculateGrandTotal))]),e("td",{attrs:{colspan:"3"}},[t._v("الاجمالى")])]),t.calculateTotalReturns>0?e("tr",[e("td",{attrs:{colspan:"3"}},[t._v(t._s(t.calculateTotalReturns))]),e("td",{attrs:{colspan:"3"}},[t._v("اجمالي المرتجعات")])]):t._e(),t.calculateNetTotal>0?e("tr",[e("td",{attrs:{colspan:"3"}},[t._v(t._s(t.calculateNetTotal))]),e("td",{attrs:{colspan:"3"}},[t._v("قيمة المستحق")])]):t._e()],2):t._e()])])]),e("div",{staticClass:"detailsContent__note"},[t._m(2),e("div",{staticClass:"detailsContent__note_cont"},[t.purchaseInfo.notes?e("p",[t._v(t._s(t.purchaseInfo.notes))]):e("div",{staticClass:"no-notes"},[e("font-awesome-icon",{attrs:{icon:"sticky-note",size:"4x"}}),e("p",[t._v("لا توجد ملاحظات")])],1)])])]):t._e(),e("div",{staticClass:"details__btns"},[e("button",{on:{click:function(e){return e.preventDefault(),t.goBack.apply(null,arguments)}}},[t._v("اغلاق")])])])},Vl=[function(){var t=this,e=t._self._c;return e("div",[e("p",[t._v(":المنتجات")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("الاجمالى")]),e("th",[t._v("الكمية")]),e("th",[t._v("سعر الشراء")]),e("th",[t._v("كود الصنف")]),e("th",[t._v("اسم الصنف")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"detailsContent__note_title"},[e("p",[t._v(":الملاحظات")])])}],Hl={name:"ShowDetails",components:{},props:["purchaseInfo"],computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(Ke,["categories"]),...Object(y["e"])(dt,["returns"]),calculateTotalReturns(){if(!this.returns||0===this.returns.length)return"0.00";let t=0;return this.returns.forEach(e=>{e.products.forEach(e=>{if(e&&"undefined"!==typeof e.price_buy&&"undefined"!==typeof e.quantityReturn){const a=e.price_buy*e.quantityReturn,s="undefined"!==typeof e.valueDiscountOnBuy&&"undefined"!==typeof e.kindDiscount;if(s)if("percentage"===e.kindDiscount){const s=a*(Number(e.valueDiscountOnBuy)/100);console.log("value return ",e.name,e.quantityReturn,a-s),t+=a-s}else if("fixed"===e.kindDiscount){const s=Number(e.valueDiscountOnBuy)*Number(e.quantityReturn);console.log("value return ",e.name,e.quantityReturn,a-s),t+=a-s}else t+=a;else t+=a}})}),t.toFixed(2)},calculateNetTotal(){const t=this.calculateGrandTotal,e=this.calculateTotalReturns;return(t-e).toFixed(2)},calculateTotalPriceForAll(){const t=this.purchaseInfo.products.reduce((t,e)=>{if(e&&"undefined"!==typeof e.price_buy&&"undefined"!==typeof e.quantity){const a=e.price_buy*e.quantity;return t+a}return t},0);return t.toFixed(2)},calculateDiscount(){let t=0;return this.purchaseInfo.products.forEach(e=>{if(e&&"undefined"!==typeof e.price_buy&&"undefined"!==typeof e.quantity){const a=e.price_buy*e.quantity;console.log(e.name,e);const s="undefined"!==typeof e.valueDiscountOnBuy&&"undefined"!==typeof e.kindDiscount;console.log("has?",s),s&&("percentage"===e.kindDiscount?t+=a*(Number(e.valueDiscountOnBuy)/100):"fixed"===e.kindDiscount&&(t+=Number(e.valueDiscountOnBuy)*Number(e.quantity)))}}),t.toFixed(2)},calculateGrandTotal(){const t=this.calculateTotalPriceForAll,e=this.calculateDiscount,a=t-e,s=Number(this.purchaseInfo.shipping)||0;return(a+s).toFixed(2)}},async created(){this.fetchCategories(),this.fetchReturns()},methods:{...Object(y["d"])(Ke,["fetchCategories"]),...Object(y["d"])(dt,["fetchReturnsByPurchaseId"]),async fetchReturns(){this.purchaseInfo.id&&await this.fetchReturnsByPurchaseId(this.purchaseInfo.id)},calculateTotalPrice(t){if(!t||"undefined"===typeof t.price_buy||"undefined"===typeof t.quantity)return 0;const e=t.price_buy*t.quantity;return e.toFixed(2)},categoryName(t){const e=this.categories.find(e=>e.id===t.productInfo.categoryId);if(console.log(e),e)return e.name},goBack(){this.$router.push({name:"Purchases"})},getStatusText(t){switch(t){case"0":return"مدفوع";case"1":return"اجل";default:return"غير معروف"}}},data(){return{}}},Gl=Hl,Wl=(a("4713"),Object(l["a"])(Gl,Ql,Vl,!1,null,"6d9d281a",null)),zl=Wl.exports,$l={name:"DetailsPurchase",components:{DetailsSkeleton:Tr,ShowDetails:zl},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(ct,["purchases"])},async created(){try{await this.fetchPurchases(),this.isLoading=!1,console.log("purchases fetched:",this.purchases),this.purchaseId=this.$route.params.purchasesId,console.log("purchase ID:",this.purchaseId),this.purchaseInfo=this.purchases.find(t=>t.id===this.purchaseId),console.log("purchase Info:",this.purchaseInfo)}catch(t){this.isLoading=!1,console.error("Error fetching purchase:",t)}},methods:{...Object(y["d"])(ct,["fetchPurchases"]),print(){window.print()}},data(){return{purchaseId:"",purchaseInfo:null,isLoading:!0}}},Zl=$l,Yl=(a("1e61"),Object(l["a"])(Zl,El,Rl,!1,null,"17e089a8",null)),Kl=Yl.exports,Xl=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Purchases"},[e("div",{staticClass:"title"},[e("div",[e("div",{staticClass:"contTitle"},[t._m(0),e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Returns grid")])]),t._m(1)]),e("div",{class:{"dark-mode-box":t.getDarkMode}},[e("div",{},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],class:{"dark-mode-search":t.getDarkMode},attrs:{placeholder:"search",type:"search"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedFilter,expression:"selectedFilter"}],staticClass:"filter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedFilter=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"date"}},[t._v("date")]),e("option",{attrs:{value:"adress"}},[t._v("Supplier")]),e("option",{attrs:{value:"selectedBranch"}},[t._v("branch")])])]),e("div",{class:{"dark-mode-box":t.getDarkMode}},[e("div",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectStatus,expression:"selectStatus"}],staticClass:"filter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectStatus=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"all"}},[t._v("الكل")]),e("option",{attrs:{value:"0"}},[t._v("مدفوع")]),e("option",{attrs:{value:"1"}},[t._v("اجل")])])]),t._m(2)])])]),e("div",{staticClass:"allContent",class:{"dark-mode-box":t.getDarkMode}},[t.isLoading?e("TableSkeleton",{attrs:{rows:5,columns:6}}):t.getReturns.length>0?e("ListTable",{staticClass:"ListTable_cont",attrs:{returns:t.getReturns}}):e("NoData",{attrs:{context:"returns"}})],1),e("div",{staticClass:"scrollUp",attrs:{id:"scrollUp"}})])},Jl=[function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTUQUVkx6lAgtb3-3fMuDZnDixihOSrrNSAOg&usqp=CAU"}})])},function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"export"},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmvEXj1Sr-tzeKuEP9PgzajIUDvR_-L-zfkg&usqp=CAU"}}),e("button",[t._v("export")])])])},function(){var t=this,e=t._self._c;return e("div",[e("button",[t._v("last aded")]),e("img",{staticClass:"arroow aded",attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS_HHn9uGD0sPLHcGzdjI_WX8Au22ap-x1b1Q&usqp=CAU"}})])}],tc=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ListTable",class:{"dark-mode":t.getDarkMode}},[e("div",{staticClass:"show__table"},[e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.returns,(function(a,s){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.date||"غير محدد"))]),e("td",[t._v(t._s(a.shipping||"غير محدد"))]),e("td",[t._v(t._s(a.selectedBranch||"غير محدد"))]),e("td",{staticClass:"actions"},[e("DropdownMenu",{ref:"dropdownMenu",refInFor:!0,attrs:{ret:a},on:{closeOthers:function(e){return t.openDropdownHandel(s)}}})],1)])})),0)])])])},ec=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("تاريخ")]),e("th",[t._v("الشحن")]),e("th",[t._v("الفرع")]),e("th",[t._v("الخيارات")])])])}],ac=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dropdown"},[e("button",{staticClass:"dropbtn",on:{click:t.toggle}},[t._v(":")]),t.visible?e("div",{staticClass:"dropdown-content"},[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.viewReturns(t.ret)}}},[e("span",[t._v("التفاصيل")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","eye"]}})],1),e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.delette(t.ret)}}},[e("span",[t._v("حذف")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","trash"]}})],1)]):t._e()])},sc=[],rc={emits:["closeOthers"],name:"DropdownMenu",props:{ret:Object},data(){return{visible:!1}},methods:{...Object(y["d"])(dt,["deleteReturn"]),toggle(){this.visible=!this.visible,this.visible&&this.$emit("closeOthers")},viewReturns(t){console.log(t),this.$router.push({name:"DetailsReturn",params:{returnId:t.id}})},async delette(t){try{console.log(t.id),await this.deleteReturn(t.id),console.log("return deleted from database"),Mt()({text:"return deleted successfully",icon:"success"})}catch(e){console.error("Deletion failed",e),Mt()({text:"Error: "+e.message,icon:"error"})}},closeDropdown(){this.visible=!1},handleClickOutside(t){this.$el.contains(t.target)||this.closeDropdown()}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeDestroy(){document.removeEventListener("click",this.handleClickOutside)}},ic=rc,oc=(a("0294"),Object(l["a"])(ic,ac,sc,!1,null,"c6e2249e",null)),nc=oc.exports,lc={name:"ListTable",components:{DropdownMenu:nc},props:["returns"],data(){return{openDropdownProp:null}},computed:{getDarkMode(){return this.$store.state.darkMode}},methods:{getStatusText(t){switch(t){case"0":return"مدفوع";case"1":return"اجل";default:return"غير معروف"}},openDropdownHandel(t){null!==this.openDropdownProp&&this.openDropdownProp!==t&&this.$refs.dropdownMenu[this.openDropdownProp].closeDropdown(),this.openDropdownProp=t}}},cc=lc,dc=(a("87e1"),Object(l["a"])(cc,tc,ec,!1,null,"8f69fa56",null)),uc=dc.exports,pc={name:"Purchase",components:{ListTable:uc,NoData:Xt,TableSkeleton:Tt},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(dt,["returns"]),getReturns(){let t=this.returns;return this.purchaseId&&(t=this.returns.filter(t=>t.purchaseId==this.purchaseId)),"all"!==this.selectStatus&&(t=t.filter(t=>t.status==this.selectStatus)),this.searchQuery&&(t=t.filter(t=>{const e=t[this.selectedFilter].toString().toLowerCase();return console.log(t[this.selectedFilter].toString().toLowerCase()),e.includes(this.searchQuery.toLowerCase())})),t}},async created(){await this.fetchAllReturns(),this.isLoading=!1,this.$route.params.purchaseId&&(this.purchaseId=this.$route.params.purchaseId)},methods:{...Object(y["d"])(dt,["fetchAllReturns"])},data(){return{searchQuery:"",selectStatus:"all",selectedFilter:"date",isLoading:!0,purchaseId:null}}},hc=pc,mc=(a("e333"),Object(l["a"])(hc,Xl,Jl,!1,null,"bc0a038a",null)),fc=mc.exports,vc=function(){var t=this,e=t._self._c;return e("div",{staticClass:"addOrder"},[e("div",{staticClass:"create_title"},[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Return Purchases")])]),e("div",{staticClass:"allContentt",class:{"dark-moode":t.getDarkMode}},[e("div",{staticClass:"formbold-main-wrapper"},[e("div",{staticClass:"formbold-form-wrapper"},[e("FormImage"),e("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function({invalid:a}){return[e("form",{on:{submit:function(e){return e.preventDefault(),t.createNewReturn.apply(null,arguments)}}},[e("div",{staticClass:"formbold-input-flex"},[e("div",[e("ValidationProvider",{attrs:{name:"حالة الشراء",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"status"}},[t._v("حالة الشراء ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.getStatusText,expression:"getStatusText"}],staticClass:"formbold-form-input readOnlyInput",attrs:{readonly:"",type:"text",id:"status",placeholder:"الحالة "},domProps:{value:t.getStatusText},on:{input:function(e){e.target.composing||(t.getStatusText=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"branch"}},[t._v(" الفرع ")]),e("ValidationProvider",{attrs:{name:"الفرع"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedBranch,expression:"selectedBranch"}],staticClass:"formbold-form-input readOnlyInput",attrs:{readonly:"",placeholder:"الفرع"},domProps:{value:t.selectedBranch},on:{input:function(e){e.target.composing||(t.selectedBranch=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"shipping"}},[t._v(" تفاصيل الشحن ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.shippingReturn,expression:"shippingReturn"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"shipping",placeholder:"الشحن "},domProps:{value:t.shippingReturn},on:{input:function(e){e.target.composing||(t.shippingReturn=e.target.value)}}})]),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"addedOrders"}},[t._v(" سلة المشتريات")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectProductForUpdateProp,expression:"selectProductForUpdateProp"}],staticClass:"formbold-form-input",attrs:{id:"addedOrders"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectProductForUpdateProp=e.target.multiple?a:a[0]},t.selectProductForUpdate]}},t._l(t.addedPurchase,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),0)])]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("ValidationProvider",{attrs:{name:"الكمية",rules:""+(0==t.addedPurchase.length?"required|numeric|min_value:1":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"quantityReturn"}},[t._v(" الكمية المرتجعه")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.quantityReturn,expression:"quantityReturn"}],staticClass:"formbold-form-input",attrs:{type:"number",id:"quantityReturn",placeholder:"الكمية"},domProps:{value:t.quantityReturn},on:{input:function(e){e.target.composing||(t.quantityReturn=e.target.value)}}}),e("p",{staticClass:"info-message"},[e("span",{staticClass:"bold"},[t._v(" "+t._s(t.quantity?t.quantity:0))]),t._v(" : الكميه الاصليه ")]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("label",{staticClass:"formbold-form-label",attrs:{for:"product"}},[t._v(" المنتج ")]),e("ValidationProvider",{attrs:{name:"المنتج",rules:""+(0==t.addedPurchase.length?"required":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedProduct,expression:"selectedProduct"}],staticClass:"formbold-form-input readOnlyInput",attrs:{readonly:"",placeholder:" اختر للعرض "},domProps:{value:t.selectedProduct},on:{input:function(e){e.target.composing||(t.selectedProduct=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"formbold-input-flex"},[e("div",[e("ValidationProvider",{attrs:{name:"سعر الشراء",rules:""+(0==t.addedPurchase.length?"required|numeric|min_value:1":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"price_buy"}},[t._v(" سعر الشراء ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.price_buy,expression:"price_buy"}],staticClass:"formbold-form-input readOnlyInput",attrs:{readonly:"",type:"number",id:"price_buy",placeholder:"سعر الشراء"},domProps:{value:t.price_buy},on:{input:function(e){e.target.composing||(t.price_buy=e.target.value)}}}),e("p",{staticClass:"info-message"},[t._v(" ان قمت بتغير سعر الشراء سيتم تحديثه فى السيستم ")]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("ValidationProvider",{attrs:{name:"سعر البيع",rules:""+(0==t.addedPurchase.length?"required|numeric|min_value:1":"")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"price_sell"}},[t._v(" سعر البيع ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.price_sell,expression:"price_sell"}],staticClass:"formbold-form-input readOnlyInput",attrs:{readonly:"",type:"number",id:"price_sell",placeholder:"سعر البيع"},domProps:{value:t.price_sell},on:{input:function(e){e.target.composing||(t.price_sell=e.target.value)}}}),e("p",{staticClass:"info-message"},[t._v(" ان قمت بتغير سعر البيع سيتم تحديثه فى السيستم ")]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"formbold-mb-3 cont_add_del_upda"},[e("button",{staticClass:"updateProduct-btn",attrs:{disabled:!t.selectedProduct||!t.quantity},on:{click:function(e){return e.preventDefault(),t.updateSingleProduct.apply(null,arguments)}}},[t._v(" تعديل المنتج ")]),e("button",{staticClass:"cancelChangeProduct-btn",on:{click:function(e){return e.preventDefault(),t.cancelChange.apply(null,arguments)}}},[t._v(" الغاء ")])]),e("div",{staticClass:"formbold-mb-3"},[e("ValidationProvider",{attrs:{name:"تاريخ  المرتجع",rules:"date_format:YYYY-MM-DD"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{staticClass:"formbold-form-label",attrs:{for:"dob"}},[t._v(" تاريخ المرتجع ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.dateReturn,expression:"dateReturn"}],staticClass:"formbold-form-input",attrs:{type:"date",name:"dob",id:"dob"},domProps:{value:t.dateReturn},on:{input:function(e){e.target.composing||(t.dateReturn=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"formbold-mb-3"},[e("label",{staticClass:"formbold-form-label",attrs:{for:"message"}},[t._v(" ملاحظات ")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.notes,expression:"notes"}],staticClass:"formbold-form-input",attrs:{rows:"6",id:"message"},domProps:{value:t.notes},on:{input:function(e){e.target.composing||(t.notes=e.target.value)}}})]),e("button",{staticClass:"formbold-btn",class:{"disabled-btn":a},attrs:{disabled:a}},[t._v(" حفظ و عرض التفاصيل ")])])]}}])})],1)])]),e("CircleLoader",{attrs:{show:t.isLoading}})],1)},gc=[];Object(wa["c"])("required",{...Ia["g"],message:"{_field_} مطلوب"}),Object(wa["c"])("numeric",{...Ia["f"],message:"{_field_} يجب أن يكون رقمًا"}),Object(wa["c"])("min_value",{...Ia["e"],message:"{_field_} يجب أن يكون على الأقل {min}"}),Object(wa["c"])("date_format",{validate(t){const e=new RegExp("^\\d{4}-\\d{2}-\\d{2}$");return e.test(t)},params:["format"],message:"{_field_} يجب أن يكون بالتنسيق الصحيح {format}"});var bc={name:"AddNewReturn",components:{FormImage:or,CircleLoader:Sa},data(){return{addedPurchase:[],selectedProduct:"",productId:"",quantity:"",price_sell:0,price_buy:0,productInfo:"",status:"0",dateReturn:"",quantityReturn:"",shippingReturn:"",notes:"",Id:"",selectProductForUpdateProp:"",isEditingProduct:!1,ProductsInBranch:[],selectedBranch:"",BranchId:"",isLoading:!1}},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(Qa,{myAllProducts:"products"}),...Object(y["e"])(Ke,["categories"]),...Object(y["e"])(ie,["branches"]),...Object(y["e"])(ct,["purchases"]),...Object(y["e"])(dt,["returns"]),getStatusText(){switch(this.status){case"0":return"مدفوع";case"1":return"اجل";default:return"غير معروف"}}},async created(){this.fetchCategories(),this.fetchProducts(),this.fetchBranches(),await this.fetchPurchases(),this.Id=this.$route.params.purchasesId,this.fetchPurchaseDetails()},methods:{...Object(y["d"])(Qa,["fetchProducts","updateProduct"]),...Object(y["d"])(Ke,["fetchCategories"]),...Object(y["d"])(ie,["fetchBranches","updateBranch","fetchBranchById"]),...Object(y["d"])(ct,["fetchPurchases"]),...Object(y["d"])(dt,["addReturn"]),async fetchPurchaseDetails(){const t=this.purchases.find(t=>t.id===this.Id);t&&(this.addedPurchase=t.products,this.status=t.status,this.BranchId=t.BranchId,this.selectedBranch=t.selectedBranch,console.log(this.BranchId))},cancelChange(){this.clearProductForm()},clearProductForm(){this.selectedProduct="",this.productId="",this.quantity="",this.quantityReturn="",this.price_buy="",this.price_sell="",this.productInfo="",this.selectProductForUpdateProp="",this.isEditingProduct=!1,this.toggleButtons(!1)},selectProductForUpdate(){const t=this.addedPurchase.find(t=>t.id===this.selectProductForUpdateProp);t&&(this.selectedProduct=t.name,this.productId=t.id,this.price_buy=t.price_buy,this.price_sell=t.price_sell,this.quantity=t.quantity,t.quantityReturn&&(this.quantityReturn=t.quantityReturn),this.isEditingProduct=!0,this.toggleButtons(!0))},updateSingleProduct(){const t=this.addedPurchase.findIndex(t=>t.id===this.productId);-1!==t&&(this.addedPurchase[t].name=this.selectedProduct,this.addedPurchase[t].quantityReturn=this.quantityReturn,console.log(this.addedPurchase),this.clearProductForm())},toggleButtons(t){const e=document.querySelector(".cancelChangeProduct-btn");t?e.classList.add("cancelChangeProduct-btn_show"):e.classList.remove("cancelChangeProduct-btn_show")},async createNewReturn(){this.isLoading=!0;try{if(0===this.addedPurchase.length)return Mt()("لا يمكن إنشاء المرتجع بدون منتجات.","يرجى إضافة منتجات قبل إنشاء المرتجع.","error"),void(this.isLoading=!1);console.log("BranchId",this.BranchId);const t={products:this.addedPurchase,date:this.dateReturn,notes:this.notes,shipping:this.shippingReturn,selectedBranch:this.selectedBranch,BranchId:this.BranchId,purchaseId:this.Id};console.log("قبل الإرسال",t);const e=await this.addReturn(t.purchaseId,t);console.log("بعد الإرسال",e),this.isLoading=!1,Mt()("تم إنشاء المرتجع بنجاح!","سيتم إعادة توجيهك إلى صفحة التفاصيل.","success"),this.$router.push({name:"DetailsReturn",params:{returnId:e}})}catch(t){console.error("Error creating return:",t),this.isLoading=!1;const e=t.message||"حدث خطأ غير متوقع. حاول مرة أخرى.";Mt()("خطأ في عملية المرتجع",e,"error")}}}},yc=bc,_c=(a("c4d1"),Object(l["a"])(yc,vc,gc,!1,null,"c3410d3c",null)),Cc=_c.exports,wc=function(){var t=this,e=t._self._c;return e("div",{staticClass:"details"},[e("div",{staticClass:"details_title"},[e("div",[e("div",{staticClass:"contTitle"},[t._m(0),e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Details grid")])]),e("div",[t._m(1),e("button",{staticClass:"generate",on:{click:t.print}},[e("font-awesome-icon",{staticClass:"printIcon",attrs:{icon:"fa-solid fa-print"}}),e("p",[t._v("print")])],1)])])]),e("div",{staticClass:"details_allContent",class:{"dark-mode-box":t.getDarkMode}},[t.isLoading?e("DetailsSkeleton"):t.returnsInfo?e("ShowDetails",{attrs:{returnsInfo:t.returnsInfo}}):t._e()],1)])},Ic=[function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTUQUVkx6lAgtb3-3fMuDZnDixihOSrrNSAOg&usqp=CAU"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"export"},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmvEXj1Sr-tzeKuEP9PgzajIUDvR_-L-zfkg&usqp=CAU"}}),e("button",[t._v("png")])])}],Pc=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"detailsContent"},[e("div",{staticClass:"detailsContent__Info"},[e("div",{staticClass:"detailsContent__Info__date"},[e("p",[t._v("تاريخ الارتجاع: "+t._s(t.returnsInfo.date||"غير محدد"))])]),e("div",{staticClass:"detailsContent__Info__general"},[e("p",[t._v("اسم الفرع: "+t._s(t.returnsInfo.selectedBranch))])])]),e("div",{staticClass:"detailsContent__listProducts"},[t._m(0),e("div",[e("table",{staticClass:"table"},[t._m(1),t.returnsInfo.products?e("tbody",[t._l(t.returnsInfo.products,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(t.calculateTotalPrice(a)))]),e("td",[t._v(t._s(a.quantityReturn))]),e("td",[t._v(t._s(a.price_buy))]),e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(t.categoryName(a)))])])})),t.returnsInfo.shipping?e("tr",[e("td",{attrs:{colspan:"3"}},[t._v(t._s(t.returnsInfo.shipping))]),e("td",{attrs:{colspan:"3"}},[t._v("الشحن")])]):t._e()],2):t._e()])])]),e("div",{staticClass:"detailsContent__note"},[t._m(2),e("div",{staticClass:"detailsContent__note_cont"},[t.returnsInfo.notes?e("p",[t._v(t._s(t.returnsInfo.notes))]):e("div",{staticClass:"no-notes"},[e("font-awesome-icon",{attrs:{icon:"sticky-note",size:"4x"}}),e("p",[t._v("لا توجد ملاحظات")])],1)])])]),e("div",{staticClass:"details__btns"},[e("button",{on:{click:function(e){return e.preventDefault(),t.goBack.apply(null,arguments)}}},[t._v("اغلاق")])])])},kc=[function(){var t=this,e=t._self._c;return e("div",[e("p",[t._v(":المنتجات")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("الاجمالى")]),e("th",[t._v("الكميه المرتجعه")]),e("th",[t._v("سعر الشراء")]),e("th",[t._v("كود الصنف")]),e("th",[t._v("اسم الصنف")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"detailsContent__note_title"},[e("p",[t._v(":الملاحظات")])])}],xc={name:"ShowDetails",components:{},props:["returnsInfo"],computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(Ke,["categories"])},async created(){this.fetchCategories()},methods:{...Object(y["d"])(Ke,["fetchCategories"]),calculateTotalPrice(t){if(!t||"undefined"===typeof t.price_buy||"undefined"===typeof t.quantityReturn)return 0;const e=t.price_buy*t.quantityReturn;return e.toFixed(2)},categoryName(t){const e=this.categories.find(e=>e.id===t.productInfo.categoryId);if(console.log(e),e)return e.name},goBack(){this.$router.push({name:"Purchases"})}},data(){return{}}},Dc=xc,Oc=(a("7d7c"),Object(l["a"])(Dc,Pc,kc,!1,null,"1cf1bd1e",null)),Sc=Oc.exports,Ac={name:"DetailsReturn",components:{DetailsSkeleton:Tr,ShowDetails:Sc},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(dt,["returns"])},async created(){try{await this.fetchAllReturns(),this.isLoading=!1,console.log("returns fetched:",this.returns),this.returnId=this.$route.params.returnId,console.log("returnId ID:",this.returnId),this.returnsInfo=this.returns.find(t=>t.id===this.returnId),console.log("returns Info:",this.returnsInfo)}catch(t){this.isLoading=!1,console.error("Error fetching returns:",t)}},methods:{...Object(y["d"])(dt,["fetchAllReturns"]),print(){window.print()}},data(){return{returnId:"",returnsInfo:null,isLoading:!0}}},Bc=Ac,Tc=(a("31da"),Object(l["a"])(Bc,wc,Ic,!1,null,"4da16728",null)),Fc=Tc.exports,qc=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page technichal"},[e("div",{staticClass:"title"},[e("div",[e("div",[e("Breadcrumb",{attrs:{breadcrumbs:t.breadcrumbs}})],1),e("div",[e("div",[t._m(0),e("router-link",{attrs:{to:"/dashboard/users/technical/AddTechnical"}},[e("button",{staticClass:"add font_sm"},[t._v("+ add technichal")])])],1)])]),e("div",{staticClass:"filter_by_search",class:{"dark-mode-box":t.getDarkMode}},[e("div",{},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],class:{"dark-mode-search":t.getDarkMode},attrs:{placeholder:"search",type:"search"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}})]),e("div",{class:{"dark-mode-box":t.getDarkMode}},[e("div"),t._m(1)])])]),e("div",{staticClass:"allContent",class:{"dark-mode-box":t.getDarkMode}},[t.isLoading?e("TableSkeleton",{attrs:{rows:5,columns:6}}):t.filteredUsers.length>0?e("UsersList",{attrs:{users:t.filteredUsers}}):e("NoData",{attrs:{context:"users"}})],1)])},Lc=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"export"},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmvEXj1Sr-tzeKuEP9PgzajIUDvR_-L-zfkg&usqp=CAU"}}),e("button",[t._v("export")])])},function(){var t=this,e=t._self._c;return e("div",[e("button",[t._v("last aded")]),e("img",{staticClass:"arroow aded",attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS_HHn9uGD0sPLHcGzdjI_WX8Au22ap-x1b1Q&usqp=CAU"}})])}],Nc=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ListTable",class:{"dark-mode":t.getDarkMode}},[e("div",{staticClass:"show__table"},[e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.users,(function(a,s){return e("tr",{key:a.id},[a.profileImageURL?e("td",[e("img",{staticClass:"profile",attrs:{src:a.profileImageURL}})]):e("td",[e("font-awesome-icon",{staticClass:"profile",attrs:{icon:"user-circle"}})],1),e("td",{staticClass:"email"},[t._v(t._s(a.email))]),e("td",{staticClass:"phone"},[t._v(t._s(a.number))]),e("td",[t._v(t._s(a.name))]),e("td",{staticClass:"actions"},[e("DropdownMenu",{ref:"dropdownMenu",refInFor:!0,attrs:{user:a},on:{closeOthers:function(e){return t.openDropdownHandel(s)}}})],1)])})),0)])])])},jc=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("الصورة الشخصية")]),e("th",[t._v("الايميل")]),e("th",[t._v("رقم الهاتف")]),e("th",[t._v("الاسم")]),e("th",[t._v("الخيارات")])])])}],Mc=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dropdown"},[e("button",{staticClass:"dropbtn",on:{click:t.toggle}},[t._v(":")]),t.visible?e("div",{staticClass:"dropdown-content"},[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.profile(t.user)}}},[e("span",[t._v("بروفايل")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:"user"}})],1),t.user.number?e("a",{attrs:{href:"https://wa.me/2"+t.user.number,target:"_blank"}},[e("span",[t._v("واتس")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fab","whatsapp"]}})],1):t._e(),e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.deleteUser(t.user)}}},[e("span",{staticClass:"delete-text"},[t._v("حذف ")]),e("font-awesome-icon",{staticClass:"icon delete-text",attrs:{icon:"user"}})],1)]):t._e()])},Uc=[],Ec={emits:["closeOthers"],name:"DropdownMenu",props:{user:Object},data(){return{visible:!1}},methods:{toggle(){this.visible=!this.visible,this.visible&&this.$emit("closeOthers")},profile(t){this.$router.push({name:"AdminUserOrder",params:{profileId:t.id}})},deleteUser(t){this.$router.push({name:"deleteUser",params:{profileId:t.id}})},nothing(){console.log("nothing")},closeDropdown(){this.visible=!1},handleClickOutside(t){this.$el.contains(t.target)||this.closeDropdown()}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeDestroy(){document.removeEventListener("click",this.handleClickOutside)}},Rc=Ec,Qc=(a("8658"),Object(l["a"])(Rc,Mc,Uc,!1,null,"48a60716",null)),Vc=Qc.exports,Hc={name:"UsersList",components:{DropdownMenu:Vc},props:["users"],data(){return{openDropdownProp:null}},computed:{getDarkMode(){return this.$store.state.darkMode}},methods:{openDropdownHandel(t){null!==this.openDropdownProp&&this.openDropdownProp!==t&&this.$refs.dropdownMenu[this.openDropdownProp].closeDropdown(),this.openDropdownProp=t}}},Gc=Hc,Wc=(a("b2eb"),Object(l["a"])(Gc,Nc,jc,!1,null,"7e2b9aa4",null)),zc=Wc.exports,$c={name:"Category",components:{NoData:Xt,UsersList:zc,TableSkeleton:Tt,Breadcrumb:os},data(){return{searchQuery:"",isLoading:!0,breadcrumbs:[{label:"Dashboard",link:"/dashboard"},{label:"Technical",link:"users/technical/AddTechnical"}]}},computed:{...Object(y["e"])(x,["technicalUsers"]),getDarkMode(){return this.$store.state.darkMode},filteredUsers(){const t=this.searchQuery.toLowerCase();return t?this.technicalUsers.filter(e=>e.name.toLowerCase().includes(t)):this.technicalUsers}},methods:{...Object(y["d"])(x,["fetchUsers"])},async created(){await this.fetchUsers(),this.isLoading=!1}},Zc=$c,Yc=(a("42ae"),Object(l["a"])(Zc,qc,Lc,!1,null,"3a509e4e",null)),Kc=Yc.exports,Xc=function(){var t=this,e=t._self._c;return e("div",{staticClass:"add"},[e("div",{staticClass:"add_title"},[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Create Technical")])]),e("div",{staticClass:"add_allContent",class:{"dark-moode":t.getDarkMode}},[e("div",[e("h3",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Add Technical")])]),e("ValidationObserver",{ref:"observer",staticClass:"wraper-form",scopedSlots:t._u([{key:"default",fn:function({invalid:a}){return[e("form",{staticClass:"add_allContent_cont-form",on:{submit:function(e){return e.preventDefault(),t.createNewTechnical.apply(null,arguments)}}},[e("div",{staticClass:"cont-form_field Name"},[e("ValidationProvider",{attrs:{name:"الاسم الاول",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Full Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"Enter your name",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"cont-form_field cont-form_field--Password"},[e("ValidationProvider",{attrs:{name:" كلمة السر",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"Enter your password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"cont-form_field cont-form_field--Number"},[e("ValidationProvider",{attrs:{name:" رقم التليفون",rules:"required|digits:11"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Number")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],attrs:{type:"number",placeholder:"Enter your number",required:""},domProps:{value:t.number},on:{input:function(e){e.target.composing||(t.number=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"cont-form_field cont-form_field--Email"},[e("ValidationProvider",{attrs:{name:"الايميل",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",placeholder:"Enter your Email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),e("p",{staticClass:"note"},[t._v("You will be able to edit it later.")]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",[e("label",[t._v("Image")]),e("input",{staticClass:"filee",attrs:{id:"fileImage",type:"file"},on:{change:t.handleFileUpload}})]),e("div",{staticClass:"cont-form_btn"},[e("router-link",{attrs:{to:"/dashboard/users/technicalPages/Technical"}},[e("button",{attrs:{type:"button"}},[t._v("Cancel")])]),e("button",{staticClass:"create",class:{"disabled-btn":a},attrs:{disabled:a,type:"submit"}},[t._v(" Create ")])],1)])]}}])})],1)])},Jc=[];Object(wa["c"])("required",{...Ia["g"],message:"{_field_} مطلوب"}),Object(wa["c"])("email",{...Ia["c"],message:" ادخل ايميل صالح"}),Object(wa["c"])("numeric",{...Ia["f"],message:" ادخل  رقم من فضلك"}),Object(wa["c"])("digits",{...Ia["a"],message:" ادخل  رقم صحيح من فضلك"});var td={name:"AddTechnical",data(){return{name:"",password:"",email:"",number:null,file:null,profileImageURL:""}},computed:{getDarkMode(){return!1}},methods:{...Object(y["d"])(k,["registerUser","handleAuthStateChanged","uploadImage"]),handleFileUpload(t){this.file=t.target.files[0]},async createNewTechnical(){try{const t=await this.registerUser({email:this.email,password:this.password,name:this.name,number:this.number,role:"technical",profileImageURL:this.profileImageURL}),e=t.user.uid;this.file&&await this.uploadImage({uid:e,file:this.file}),alert("User created successfully!")}catch(t){alert("Error creating user: "+t.message)}}},created(){}},ed=td,ad=(a("e36c"),Object(l["a"])(ed,Xc,Jc,!1,null,"66d53d4d",null)),sd=ad.exports,rd=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page clint"},[e("div",{staticClass:"title"},[e("div",[e("div",[e("Breadcrumb",{attrs:{breadcrumbs:t.breadcrumbs}})],1),e("div",[e("div",[t._m(0),e("router-link",{attrs:{to:"/dashboard/users/clint/AddClint"}},[e("button",{staticClass:"add"},[t._v("+ add clint")])])],1)])]),e("div",{staticClass:"filter_by_search",class:{"dark-mode-box":t.getDarkMode}},[e("div",{},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],class:{"dark-mode-search":t.getDarkMode},attrs:{placeholder:"search",type:"search"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}})]),e("div",{class:{"dark-mode-box":t.getDarkMode}},[e("div"),t._m(1)])])]),e("div",{staticClass:"allContent",class:{"dark-mode-box":t.getDarkMode}},[t.isLoading?e("TableSkeleton",{attrs:{rows:5,columns:6}}):t.filteredUsers.length>0?e("UsersList",{attrs:{users:t.filteredUsers}}):e("NoData",{attrs:{context:"users"}})],1)])},id=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"export"},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmvEXj1Sr-tzeKuEP9PgzajIUDvR_-L-zfkg&usqp=CAU"}}),e("button",[t._v("export")])])},function(){var t=this,e=t._self._c;return e("div",[e("button",[t._v("last aded")]),e("img",{staticClass:"arroow aded",attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS_HHn9uGD0sPLHcGzdjI_WX8Au22ap-x1b1Q&usqp=CAU"}})])}],od={name:"clint",components:{NoData:Xt,UsersList:zc,TableSkeleton:Tt,Breadcrumb:os},data(){return{searchQuery:"",isLoading:!0,breadcrumbs:[{label:"Dashboard",link:"/dashboard"},{label:"Clinte",link:"users/clintPages/Clint"}]}},computed:{...Object(y["e"])(x,["clientUsers"]),getDarkMode(){return this.$store.state.darkMode},filteredUsers(){const t=this.searchQuery.toLowerCase();return t?this.clientUsers.filter(e=>e.name.toLowerCase().includes(t)):this.clientUsers}},methods:{...Object(y["d"])(x,["fetchUsers"])},async created(){await this.fetchUsers(),this.isLoading=!1}},nd=od,ld=(a("0908"),Object(l["a"])(nd,rd,id,!1,null,"6db9fd57",null)),cd=ld.exports,dd=function(){var t=this,e=t._self._c;return e("div",{staticClass:"add"},[e("div",{staticClass:"add_title"},[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Create Clint")])]),e("div",{staticClass:"add_allContent",class:{"dark-moode":t.getDarkMode}},[e("div",[e("h3",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Add Clint")])]),e("ValidationObserver",{ref:"observer",staticClass:"wraper-form",scopedSlots:t._u([{key:"default",fn:function({invalid:a}){return[e("form",{staticClass:"add_allContent_cont-form",on:{submit:function(e){return e.preventDefault(),t.createNewClint.apply(null,arguments)}}},[e("div",{staticClass:"cont-form_field Name"},[e("ValidationProvider",{attrs:{name:"الاسم الاول",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Full Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"Enter your name",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"cont-form_field cont-form_field--Password"},[e("ValidationProvider",{attrs:{name:" كلمة السر",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"Enter your password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"cont-form_field cont-form_field--Number"},[e("ValidationProvider",{attrs:{name:" رقم التليفون",rules:"required|digits:11"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Number")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],attrs:{type:"number",placeholder:"Enter your number",required:""},domProps:{value:t.number},on:{input:function(e){e.target.composing||(t.number=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"cont-form_field cont-form_field--Email"},[e("ValidationProvider",{attrs:{name:"الايميل",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",placeholder:"Enter your Email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),e("p",{staticClass:"note"},[t._v("You will be able to edit it later.")]),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"cont-form_Image"},[e("label",[t._v("Image")]),e("input",{staticClass:"filee",attrs:{id:"fileImage",type:"file"},on:{change:t.handleFileUpload}})]),e("div",{staticClass:"cont-form_btn"},[e("router-link",{attrs:{to:"/dashboard/users/clintPages/Clint"}},[e("button",{attrs:{type:"button"}},[t._v("Cancel")])]),e("button",{staticClass:"create",class:{"disabled-btn":a},attrs:{disabled:a,type:"submit"}},[t._v(" Create ")])],1)])]}}])})],1),e("CircleLoader",{attrs:{show:t.isLoading}})],1)},ud=[];Object(wa["c"])("required",{...Ia["g"],message:"{_field_} مطلوب"}),Object(wa["c"])("email",{...Ia["c"],message:" ادخل ايميل صالح"}),Object(wa["c"])("numeric",{...Ia["f"],message:" ادخل  رقم من فضلك"}),Object(wa["c"])("digits",{...Ia["a"],message:" ادخل  رقم صحيح من فضلك"});var pd={name:"AddClint",data(){return{name:"",password:"",email:"",number:null,file:null,profileImageURL:"",isLoading:!1}},components:{CircleLoader:Sa},computed:{...Object(y["e"])(k,["user","role"]),getDarkMode(){return!1}},methods:{...Object(y["d"])(k,["registerUser","handleAuthStateChanged","uploadImage"]),handleFileUpload(t){this.file=t.target.files[0]},async createNewClint(){this.isLoading=!0;try{const t=await this.registerUser({email:this.email,password:this.password,name:this.name,number:this.number,role:"clint",profileImageURL:this.profileImageURL}),e=t.user.uid;this.file&&await this.uploadImage({uid:e,file:this.file}),this.isLoading=!1,alert("User created successfully!")}catch(t){this.isLoading=!1,alert("Error creating user: "+t.message)}}},created(){}},hd=pd,md=(a("d121"),Object(l["a"])(hd,dd,ud,!1,null,"68914ae2",null)),fd=md.exports,vd=function(){var t=this,e=t._self._c;return e("div",{staticClass:"add"},[e("div",{staticClass:"add_title"},[e("p",{class:{"dark-mode-title":t.getDarkMode}},[t._v(" Delete "+t._s("clint"==t.role?"Clint":"technical")+" ")])]),e("div",{staticClass:"add_allContent add_allContent--edit",class:{"dark-moode":t.getDarkMode}},[e("div",[t.shouldShowText?e("h3",{staticClass:"warning-message",class:{"dark-mode-title":t.getDarkMode}},[e("small",{staticClass:"moreSmall"},[t._v("please inter email and password for deleting")])]):e("h3",[t._v("are u sure ?")])]),e("ValidationObserver",{ref:"observer",staticClass:"wraper-form",scopedSlots:t._u([{key:"default",fn:function({invalid:a}){return[e("form",{staticClass:"add_allContent_cont-form add_allContent_cont-form--edit",on:{submit:function(e){return e.preventDefault(),t.Delete.apply(null,arguments)}}},[e("div",{staticClass:"cont-form_field Name"},[e("ValidationProvider",{attrs:{name:"الاسم الاول",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Full Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"readOnlyInput",attrs:{readonly:"",type:"text",placeholder:"Enter your name",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"cont-form_field cont-form_field--Password"},[e("ValidationProvider",{attrs:{name:" كلمة السر",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v(" Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.oldPassword,expression:"oldPassword"}],attrs:{type:"password",placeholder:"Enter your old password",required:""},domProps:{value:t.oldPassword},on:{input:function(e){e.target.composing||(t.oldPassword=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"cont-form_field cont-form_field--Number"},[e("ValidationProvider",{attrs:{name:" رقم التليفون",rules:"required|digits:11"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v("Number")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],staticClass:"readOnlyInput",attrs:{readonly:"",type:"number",placeholder:"Enter your number",required:""},domProps:{value:t.number},on:{input:function(e){e.target.composing||(t.number=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"cont-form_field cont-form_field--Email"},[e("ValidationProvider",{attrs:{name:"الايميل",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{class:{"dark-mode-title":t.getDarkMode}},[t._v(" Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.oldEmail,expression:"oldEmail"}],attrs:{type:"email",placeholder:"Enter your old Email",required:""},domProps:{value:t.oldEmail},on:{input:function(e){e.target.composing||(t.oldEmail=e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"cont-form_btn"},[e("router-link",{attrs:{to:"/dashboard/users/clintPages/Clint"}},[e("button",{attrs:{type:"button"}},[t._v("Cancel")])]),e("button",{staticClass:"delete-btn",class:{"disabled-btn":a},attrs:{disabled:a,type:"submit"}},[t._v(" Delete ")])],1)])]}}])})],1),e("CircleLoader",{attrs:{show:t.isLoading}})],1)},gd=[];Object(wa["c"])("required",{...Ia["g"],message:"{_field_} مطلوب"}),Object(wa["c"])("email",{...Ia["c"],message:" ادخل ايميل صالح"}),Object(wa["c"])("numeric",{...Ia["f"],message:" ادخل  رقم من فضلك"}),Object(wa["c"])("digits",{...Ia["a"],message:" ادخل  رقم صحيح من فضلك"});var bd={name:"deleteUser",data(){return{name:"",password:"",email:"",number:null,role:"",file:null,profileImageURL:"",oldEmail:"",oldPassword:"",isLoading:!1}},components:{CircleLoader:Sa},computed:{...Object(y["e"])(k,["user","role"]),getDarkMode(){return!1},shouldShowText(){return!this.oldEmail||!this.oldPassword}},methods:{...Object(y["d"])(k,["deleteUser","handleAuthStateChanged","uploadImage"]),...Object(y["d"])(x,["fetchSingleUser"]),handleFileUpload(t){this.file=t.target.files[0]},async Delete(){this.isLoading=!0;try{await this.deleteUser({uid:this.userId,oldEmail:this.oldEmail,oldPassword:this.oldPassword}),this.$router.push({name:"Clint"}),this.isLoading=!1}catch(t){this.isLoading=!1}}},async created(){this.userId=this.$route.params.profileId;try{const t=await this.fetchSingleUser(this.userId);this.name=t.name||"",this.role=t.role||"",this.number=t.number||"",this.oldEmail=t.email||"",this.password=""}catch(t){alert("Error fetching user data: "+t.message)}}},yd=bd,_d=(a("22f2"),Object(l["a"])(yd,vd,gd,!1,null,"794c9278",null)),Cd=_d.exports,wd=function(){var t=this,e=t._self._c;return e("div",{class:{"dark-mode":t.getDarkMode},attrs:{id:"profile-layout"}},[t.userInfo?e("div",{staticClass:"infoUser",attrs:{id:"infoUser"}},[e("div",{staticClass:"background"},[e("div",{staticClass:"imge-profilee"},[e("img",{staticClass:"imge-pro",attrs:{src:t.userInfo.profileImageURL||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR05q_vg5Ux_rPqNDBBeYLc1BHrG-qjaw7_tA&usqp=CAU",alt:"Profile Image"}})])]),e("div",{staticClass:"shop"},[e("button",{staticClass:"shop-btn"},[e("router-link",{attrs:{to:"/portfolio"}},[t._v(" Show shop ")])],1)]),e("div",{staticClass:"ddetails"},[e("p",{attrs:{id:"nameProfile"}},[t._v(t._s(t.userInfo.name))]),e("p",{attrs:{id:"emailProfile"}},[t._v(t._s(t.userInfo.email))]),e("div",{staticClass:"parent"},[e("div",{staticClass:"spechial_cont"},[t._v(" Phone Number: "),e("span",{staticClass:"spechial"},[t._v(t._s(t.userInfo.number))])]),e("div",{staticClass:"spechial_cont"},[t._v(" Role: "),e("span",{staticClass:"spechial"},[t._v(t._s(t.userInfo.role))])])])]),e("div",{staticClass:"trans"},[e("router-link",{attrs:{to:t.generateRoute(""),exact:""}},[t._v(" Orders ")]),e("router-link",{attrs:{to:t.generateRoute("financial")}},[t._v(" Financial ")]),e("router-link",{attrs:{to:t.generateRoute("projects")}},[t._v(" Projects ")]),e("DropdownMenuSetting")],1)]):t._e(),e("router-view",{staticClass:"profile-content",class:{"dark-mode":t.getDarkMode}})],1)},Id=[],Pd=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dropdown"},[e("button",{staticClass:"dropbtn",on:{click:t.toggle}},[t._v("setting")]),t.visible?e("div",{staticClass:"dropdown-content"},[t.isTechnical||t.isClint?e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logOut()}}},[e("font-awesome-icon",{staticClass:"icon",attrs:{icon:"user"}}),t._v(" "),e("span",[t._v("log out")])],1):t._e(),e("a",{attrs:{href:"#"}},[e("font-awesome-icon",{staticClass:"icon",attrs:{icon:"user"}}),t._v(" "),e("span",[t._v(" photo")])],1)]):t._e()])},kd=[],xd={name:"DropdownMenu",data(){return{visible:!1}},computed:{...Object(y["e"])(k,["isAdmin","isClint","isTechnical"])},methods:{...Object(y["d"])(k,["logout"]),toggle(){this.visible=!this.visible},async logOut(){await this.logout(),this.$router.push("/login")},closeDropdown(){this.visible=!1},handleClickOutside(t){this.$el.contains(t.target)||this.closeDropdown()}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeDestroy(){document.removeEventListener("click",this.handleClickOutside)}},Dd=xd,Od=(a("12ef"),Object(l["a"])(Dd,Pd,kd,!1,null,"8bd79b0e",null)),Sd=Od.exports,Ad={name:"ProfileLayout",components:{DropdownMenuSetting:Sd},computed:{getDarkMode(){return this.$store.state.darkMode}},methods:{...Object(y["d"])(x,["fetchSingleUser"]),generateRoute(t){const e=this.$route.params.profileId,a=this.$route.meta.layout;return"DashboardLayout"===a||"profileInDashboardLayout"===a?`/dashboard/profile/${e}/${t}`:"profileOutDashboardLayout"===a?`/profile/${e}/${t}`:void 0}},data(){return{userInfo:null}},async created(){try{const t=this.$route.params.profileId;this.userInfo=await this.fetchSingleUser(t),console.log("get param from profile layout:",this.$route.params.profileId),console.log("get userInfo from profile layout:",this.userInfo)}catch(t){console.error(t.message)}}},Bd=Ad,Td=(a("4ae2"),Object(l["a"])(Bd,wd,Id,!1,null,"93652874",null)),Fd=Td.exports,qd=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page oredrs"},[e("div",{staticClass:"title--pagesInProfile"},[e("div",{staticClass:"filter_by_search",class:{"dark-mode-box":t.getDarkMode}},[e("div",{},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],class:{"dark-mode-search":t.getDarkMode},attrs:{placeholder:"search",type:"search"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedFilter,expression:"selectedFilter"}],staticClass:"filter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedFilter=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"date"}},[t._v("date")]),e("option",{attrs:{value:"customerName"}},[t._v("customer")]),e("option",{attrs:{value:"numberOfOrder"}},[t._v("order number")])])]),e("div",{class:{"dark-mode-box":t.getDarkMode}},[e("div",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectStatus,expression:"selectStatus"}],staticClass:"filter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectStatus=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"all"}},[t._v("الكل")]),e("option",{attrs:{value:"1"}},[t._v("مؤكد")]),e("option",{attrs:{value:"2"}},[t._v("منتهى")])])]),t._m(0)])])]),e("div",{staticClass:"allContent",class:{"dark-mode-box":t.getDarkMode}},[t.isLoading?e("TableSkeleton",{attrs:{rows:5,columns:6}}):t.getOrders.length>0?e("ListTable",{staticClass:"ListTable_cont",attrs:{orders:t.getOrders}}):e("NoData",{attrs:{context:"orders"}})],1)])},Ld=[function(){var t=this,e=t._self._c;return e("div",[e("button",[t._v("last aded")]),e("img",{staticClass:"arroow aded",attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS_HHn9uGD0sPLHcGzdjI_WX8Au22ap-x1b1Q&usqp=CAU"}})])}],Nd={name:"Order",components:{ListTable:Wt,NoData:Xt,TableSkeleton:Tt},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(lt,["orders"]),getOrders(){let t=this.orders.filter(t=>"0"!==t.status);return this.profileId&&(t=t.filter(t=>t.customerId===this.profileId||t.technicalId===this.profileId)),"all"!==this.selectStatus&&(t=t.filter(t=>t.status==this.selectStatus)),this.searchQuery&&(t=t.filter(t=>{const e=t[this.selectedFilter].toString().toLowerCase();return console.log(t[this.selectedFilter].toString().toLowerCase()),e.includes(this.searchQuery.toLowerCase())})),t}},async created(){this.profileId=this.$route.params.profileId,await this.fetchOrders(),this.isLoading=!1},methods:{...Object(y["d"])(lt,["fetchOrders"])},data(){return{searchQuery:"",selectStatus:"all",selectedFilter:"date",profileId:null,isLoading:!0}}},jd=Nd,Md=(a("a024"),Object(l["a"])(jd,qd,Ld,!1,null,"544af14f",null)),Ud=Md.exports,Ed=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page transactions"},[e("OptionWraper"),e("GlobalInfoWraper")],1)},Rd=[],Qd=function(){var t=this,e=t._self._c;return e("div",{staticClass:"optionWraper"},["technical"==t.getRole?e("OptionCard",{scopedSlots:t._u([{key:"iconLetter",fn:function(){return[e("span",{staticClass:"letter_icon_option"},[t._v("E")])]},proxy:!0},{key:"optionTitle",fn:function(){return[t._v(" Employee ")]},proxy:!0},{key:"optionRouterLink",fn:function(){return[e("router-link",{attrs:{to:"/"}},[t._v(" → ")])]},proxy:!0}],null,!1,2497738676)}):t._e(),e("OptionCard",{attrs:{layout:"technical"!=t.getRole?"row":"column"},scopedSlots:t._u([{key:"iconLetter",fn:function(){return[e("span",{staticClass:"letter_icon_option"},[t._v(" "+t._s("technical"==t.getRole?"T":"M"))])]},proxy:!0},{key:"optionTitle",fn:function(){return[t._v(" "+t._s("technical"==t.getRole?"Transiction":"More Than Place")+" ")]},proxy:!0},"technical"!=t.getRole?{key:"optionLinkText",fn:function(){return[t._v(" Like Location ")]},proxy:!0}:null,{key:"optionRouterLink",fn:function(){return[e("router-link",{attrs:{to:t.generateRoute("RandomFinancial")}},[t._v(" → ")])]},proxy:!0}],null,!0)}),"technical"!=t.getRole?e("OptionCard",{attrs:{layout:"row"},scopedSlots:t._u([{key:"iconLetter",fn:function(){return[e("span",{staticClass:"letter_icon_option"},[t._v("O ")])]},proxy:!0},{key:"optionTitle",fn:function(){return[t._v(" One Place ")]},proxy:!0},{key:"optionLinkText",fn:function(){return[t._v(" Like department ")]},proxy:!0},{key:"optionRouterLink",fn:function(){return[e("router-link",{attrs:{to:t.generateRoute("ListOfTransaction")}},[t._v(" → ")])]},proxy:!0}],null,!1,600136149)}):t._e(),"technical"==t.getRole?e("OptionCard",{scopedSlots:t._u([{key:"iconLetter",fn:function(){return[e("span",{staticClass:"letter_icon_option"},[t._v("E")])]},proxy:!0},{key:"optionTitle",fn:function(){return[t._v(" expenses ")]},proxy:!0},{key:"optionRouterLink",fn:function(){return[e("router-link",{attrs:{to:"/"}},[t._v(" → ")])]},proxy:!0}],null,!1,2076270741)}):t._e()],1)},Vd=[],Hd=function(){var t=this,e=t._self._c;return e("div",{class:["option",t.layoutClass]},[e("div",{staticClass:"icon_option"},[t._t("iconLetter",(function(){return[e("span",{staticClass:"letter_icon_option"},[t._v("E")])]}))],2),e("div",{staticClass:"info_option"},[e("p",{staticClass:"option-title"},[t._t("optionTitle",(function(){return[t._v("Employee")]}))],2),e("div",{staticClass:"option-link"},[e("p",{staticClass:"option-link-text"},[t._t("optionLinkText",(function(){return[t._v("Select To Go")]}))],2),t._t("optionRouterLink",(function(){return[e("router-link",{attrs:{to:"/"}},[t._v(" → ")])]}))],2)])])},Gd=[],Wd={name:"OptionCard",props:{layout:{type:String,default:"column"}},computed:{layoutClass(){return"row"===this.layout?"option-row":""}}},zd=Wd,$d=(a("ed28"),Object(l["a"])(zd,Hd,Gd,!1,null,"104dbe8e",null)),Zd=$d.exports,Yd={name:"Transactions",components:{OptionCard:Zd},computed:{getRole(){return this.userInfo?this.userInfo.role:""}},methods:{...Object(y["d"])(x,["fetchSingleUser"]),generateRoute(t){const e=this.$route.meta.layout;return"DashboardLayout"===e||"profileInDashboardLayout"===e?`/dashboard/profile/${this.profileId}/${t}`:"profileOutDashboardLayout"===e?`/profile/${this.profileId}/${t}`:void 0}},data(){return{profileId:null,userInfo:null}},async created(){this.profileId=this.$route.params.profileId,this.userInfo=await this.fetchSingleUser(this.profileId),console.log("Fetched user info:",this.userInfo)}},Kd=Yd,Xd=(a("daa2"),Object(l["a"])(Kd,Qd,Vd,!1,null,"e9cac6ee",null)),Jd=Xd.exports,tu=function(){var t=this,e=t._self._c;return e("div",{staticClass:"GlobalInfoWraper"},[e("div",{staticClass:"GlobalInfoWraper_header"},[e("h1",{staticClass:"GlobalInfoWraper_title"},[t._v("Financial Management")]),e("div",{staticClass:"date-filter"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedDate,expression:"selectedDate"}],staticClass:"date-input",attrs:{type:"date"},domProps:{value:t.selectedDate},on:{change:t.handleDateChange,input:function(e){e.target.composing||(t.selectedDate=e.target.value)}}})])]),e("p",{staticClass:"subtitle"},[t._v("Resullt an differin transaction title transcomm pos")]),e("div",{staticClass:"boxes-row"},[e("FinancialBox",{scopedSlots:t._u([{key:"letter",fn:function(){return[e("span",[t._v(t._s("technical"==t.getRole?"T":"M"))])]},proxy:!0},{key:"title",fn:function(){return[t._v(" "+t._s("technical"==t.getRole?"Transiction":"More")+" ")]},proxy:!0},{key:"value",fn:function(){return[t._v(" "+t._s(t.moreBalance)+" ")]},proxy:!0}])}),e("FinancialBox",{scopedSlots:t._u([{key:"letter",fn:function(){return[e("span",[t._v(t._s("technical"==t.getRole?"e":"O"))])]},proxy:!0},{key:"title",fn:function(){return[t._v(" "+t._s("technical"==t.getRole?"expenses":"One")+" ")]},proxy:!0},{key:"value",fn:function(){return[t._v(" "+t._s("technical"==t.getRole?"----":t.oneBalance)+" ")]},proxy:!0}])}),e("FinancialBox",{scopedSlots:t._u([{key:"letter",fn:function(){return[e("span",[t._v("T")])]},proxy:!0},{key:"title",fn:function(){return[t._v(" Total"+t._s("technical"==t.getRole?" Pull":"")+" ")]},proxy:!0},{key:"value",fn:function(){return[t._v(" "+t._s("technical"==t.getRole?"----":t.totalBalance)+" ")]},proxy:!0}])})],1)])},eu=[],au=function(){var t=this,e=t._self._c;return e("div",{staticClass:"financial-box"},[e("div",{staticClass:"letter-area"},[t._t("letter",(function(){return[t._v("R")]}))],2),e("div",{staticClass:"text-area"},[e("p",{staticClass:"box-title"},[t._t("title",(function(){return[t._v("Some Title")]}))],2),e("p",{staticClass:"box-value"},[t._t("value",(function(){return[t._v("$0.00")]}))],2)])])},su=[],ru={name:"FinancialBox"},iu=ru,ou=(a("8771"),Object(l["a"])(iu,au,su,!1,null,"3a49a886",null)),nu=ou.exports,lu={name:"FinancialContainer",components:{FinancialBox:nu},data(){return{profileId:null,userInfo:null,moreBalance:0,oneBalance:0,totalBalance:0,selectedDate:null}},methods:{...Object(y["d"])(x,["fetchSingleUser"]),...Object(y["d"])(ut,["fetchSpecificTransactionByUserId"]),...Object(y["d"])(pt,["fetchTransactionsByProfile"]),async calculateBalances(){await this.fetchSpecificTransactionByUserId(this.profileId);const t=this.specificUserTransactions;await this.fetchTransactionsByProfile(this.profileId);const e=this.balance;let a=0,s=0;a=e,t.forEach(t=>{if(t.typesData&&Array.isArray(t.typesData)){let e=!0;t.typesData.forEach(t=>{if("both"===t.type&&t.totalAmount){const a=parseFloat(t.remainingValue)||0;s+=a,e=!1}}),e&&t.typesData.forEach(t=>{const e=parseFloat(t.remainingValue)||0;s+=e})}}),this.moreBalance=a,this.oneBalance=s,this.totalBalance=a+s},async handleDateChange(){console.log("No Thing yet")}},computed:{...Object(y["e"])(ut,["specificUserTransactions"]),...Object(y["e"])(pt,["balance"]),getRole(){return this.userInfo?this.userInfo.role:""}},async created(){this.profileId=this.$route.params.profileId,this.userInfo=await this.fetchSingleUser(this.profileId),console.log("Fetched user info:",this.userInfo),await this.calculateBalances()}},cu=lu,du=(a("dab3"),Object(l["a"])(cu,tu,eu,!1,null,"c4156dfc",null)),uu=du.exports,pu={name:"Transactions",components:{OptionWraper:Jd,GlobalInfoWraper:uu},computed:{getDarkMode(){return this.$store.state.darkMode}},async created(){this.profileId=this.$route.params.profileId},methods:{generateRoute(t){const e=this.$route.meta.layout;return"DashboardLayout"===e||"profileInDashboardLayout"===e?`/dashboard/profile/${this.profileId}/${t}`:"profileOutDashboardLayout"===e?`/profile/${this.profileId}/${t}`:void 0}},data(){return{profileId:null,isLoading:!0}}},hu=pu,mu=(a("c42a"),Object(l["a"])(hu,Ed,Rd,!1,null,"a1dc042e",null)),fu=mu.exports,vu=function(){var t=this,e=t._self._c;return e("div",{staticClass:"financial-transaction-page"},[t._m(0),e("div",{staticClass:"financial-transaction-form"},[e("TransictionInfo",{attrs:{initialFormData:t.formData},on:{"update:formData":t.updateFormData,save:t.handleSave}}),e("PaymentsContainer",{attrs:{payments:t.payments},on:{"update:payments":t.updatePayments,"delete-payment":t.handleDelete}})],1),e("CircleLoader",{attrs:{show:t.isLoading}})],1)},gu=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("h1",{staticClass:"header_title"},[t._v("Create Transaction")])])}],bu=function(){var t=this,e=t._self._c;return e("div",{staticClass:"financial-transaction-container"},[e("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function({invalid:a}){return[e("div",{staticClass:"financial-transaction"},[e("div",{staticClass:"header"},[e("h1",{staticClass:"header_title"},[t._v("Transaction Information")]),e("h2",{staticClass:"header_subtitle"},[t._v("💳 Amount Owed")])]),e("div",{staticClass:"values-section"},[e("div",{staticClass:"value"},[e("label",{staticClass:"label-payment",attrs:{for:"total-amount"}},[t._v("💰 Total Amount")]),e("div",{staticClass:"amount-cont"},[e("ValidationProvider",{attrs:{name:"total Amount ",rules:"required|numeric|min_value:1"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedTypeData.totalAmount,expression:"selectedTypeData.totalAmount"}],staticClass:"amount-input",class:{"readonly-input":t.formData.orderLink.length>0},attrs:{id:"total-amount",type:"text",placeholder:"Enter amount",readonly:t.formData.orderLink.length>0},domProps:{value:t.selectedTypeData.totalAmount},on:{input:[function(e){e.target.composing||t.$set(t.selectedTypeData,"totalAmount",e.target.value)},function(e){return t.updateSelectedTypeValues("totalAmount",e.target.value)}]}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)}),e("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:0==t.formData.orderLink.length,expression:"formData.orderLink.length == 0"}],staticClass:"icon",attrs:{icon:"edit"}})],1)]),e("div",{staticClass:"value"},[e("label",{staticClass:"label-payment",attrs:{for:"remaining-value"}},[t._v("📉 Remaining Value")]),e("div",{staticClass:"amount-cont"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedTypeData.remainingValue,expression:"selectedTypeData.remainingValue"}],staticClass:"amount-input",class:{"readonly-input":t.formData.orderLink.length>0},attrs:{id:"remaining-value",type:"text",placeholder:"Enter remaining value",readonly:t.formData.orderLink.length>0},domProps:{value:t.selectedTypeData.remainingValue},on:{input:[function(e){e.target.composing||t.$set(t.selectedTypeData,"remainingValue",e.target.value)},function(e){return t.updateSelectedTypeValues("remainingValue",e.target.value)}]}}),e("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:0==t.formData.orderLink.length,expression:"formData.orderLink.length == 0"}],staticClass:"icon",attrs:{icon:"edit"}})],1)]),e("div",{staticClass:"value"},[e("label",{staticClass:"label-payment",attrs:{for:"used-values"}},[t._v("🔄 Type Values")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.selectedType,expression:"formData.selectedType"}],staticClass:"amount-input",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"selectedType",e.target.multiple?a:a[0])},t.emitFormDataUpdate]}},[e("option",{directives:[{name:"show",rawName:"v-show",value:0==t.formData.orderLink.length,expression:"formData.orderLink.length == 0"}],attrs:{value:"materials"}},[t._v(" Materials ")]),e("option",{directives:[{name:"show",rawName:"v-show",value:0==t.formData.orderLink.length,expression:"formData.orderLink.length == 0"}],attrs:{value:"manufacturing"}},[t._v(" Manufacturing ")]),e("option",{attrs:{value:"both"}},[t._v("Both")])])])])]),e("div",{staticClass:"payment-section"},[e("h3",{staticClass:"section-title"},[t._v("📝 Additional Information")]),e("div",{staticClass:"form-container"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"location"}},[t._v("📍 Location")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.location,expression:"formData.location"}],staticClass:"form-input",attrs:{id:"location",type:"text",placeholder:"Enter location"},domProps:{value:t.formData.location},on:{input:[function(e){e.target.composing||t.$set(t.formData,"location",e.target.value)},t.emitFormDataUpdate]}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[t._v("🔗 الفواتير المرتبطة")]),e("div",{staticClass:"invoice-list"},t._l(t.formData.orderLink,(function(a,s){return e("div",{key:a,staticClass:"invoice-item",on:{click:function(e){return t.goToInvoice(a)}}},[e("font-awesome-icon",{staticClass:"icon",attrs:{icon:"file-invoice"}}),e("span",{staticClass:"order-text"},[t._v("فاتورة رقم "+t._s(s+1))])],1)})),0)]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"date"}},[t._v("📅 Date")]),e("ValidationProvider",{attrs:{name:"date",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.date,expression:"formData.date"}],staticClass:"form-input",attrs:{id:"date",type:"date"},domProps:{value:t.formData.date},on:{change:t.emitFormDataUpdate,input:function(e){e.target.composing||t.$set(t.formData,"date",e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"status"}},[t._v("📂 Status")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.status,expression:"formData.status"}],staticClass:"form-input",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"status",e.target.multiple?a:a[0])},t.emitFormDataUpdate]}},[e("option",{attrs:{value:"open"}},[t._v("Open")]),e("option",{attrs:{value:"closed"}},[t._v("Closed")])])]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"note"}},[t._v("🖋️ Note")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.note,expression:"formData.note"}],staticClass:"form-textarea",attrs:{id:"note",placeholder:"Enter notes"},domProps:{value:t.formData.note},on:{input:[function(e){e.target.composing||t.$set(t.formData,"note",e.target.value)},t.emitFormDataUpdate]}})])]),e("div",{staticClass:"button-container"},[e("button",{staticClass:"save-btn",class:{"disabled-btn":a},attrs:{disabled:a},on:{click:t.emitSaveEvent}},[t._v(" 💾 Save Transaction ")])])])]}}])})],1)},yu=[];Object(wa["c"])("required",{...Ia["g"],message:"{_field_} مطلوب"}),Object(wa["c"])("numeric",{...Ia["f"],message:"{_field_} يجب أن يكون رقمًا"}),Object(wa["c"])("min_value",{...Ia["e"],message:"{_field_} يجب أن يكون على الأقل {min}"});var _u={props:{initialFormData:{required:!0}},data(){return{formData:{...this.initialFormData}}},computed:{selectedTypeData(){return this.formData.typesData.find(t=>t.type===this.formData.selectedType)}},methods:{emitFormDataUpdate(){this.$emit("update:formData",this.formData)},updateSelectedTypeValues(t,e){this.selectedTypeData&&(this.selectedTypeData[t]=e,this.emitFormDataUpdate())},emitSaveEvent(){this.$emit("save")},goToInvoice(t){console.log("enter go",t);const e="Fatora",a=this.$route.params.profileId,s=this.$route.meta.layout;console.log("enter go layout",s),"DashboardLayout"===s?this.$router.push(`/dashboard/${e}/${t}/true`):"profileInDashboardLayout"===s?this.$router.push(`/dashboard/profile/${a}/${e}/${t}/true`):"profileOutDashboardLayout"===s&&this.$router.push(`/profile/${a}/${e}/${t}/true`)}},watch:{initialFormData:{handler(t){this.formData=t},immediate:!0}}},Cu=_u,wu=(a("ea86"),Object(l["a"])(Cu,bu,yu,!1,null,"22740dca",null)),Iu=wu.exports,Pu=function(){var t=this,e=t._self._c;return e("div",{staticClass:"payments-container"},[e("AddPaymentForm",{attrs:{moneyImage:t.moneyImage},on:{"update:payments":t.updatePayments}}),e("PaymentsList",{attrs:{payments:t.payments},on:{"delete-payment":t.handleDelete}})],1)},ku=[],xu=function(){var t=this,e=t._self._c;return e("div",{staticClass:"add-payment-form"},[e("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function({invalid:a}){return[e("div",{staticClass:"money-image"},[e("img",{attrs:{src:t.moneyImage,alt:"Money"}})]),e("div",{staticClass:"form-container"},[e("span",{staticClass:"add-payment-info"},[t._v(" Add Payment + ")]),e("div",{staticClass:"form-fields"},[e("div",{staticClass:"field"},[e("label",{staticClass:"m-btn-5"},[t._v("Notes")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newPayment.note,expression:"newPayment.note"}],attrs:{type:"text",placeholder:"Write a note"},domProps:{value:t.newPayment.note},on:{input:function(e){e.target.composing||t.$set(t.newPayment,"note",e.target.value)}}})]),e("div",{staticClass:"field"},[e("label",{staticClass:"m-btn-5"},[t._v("Date:")]),e("ValidationProvider",{attrs:{name:"date",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newPayment.date,expression:"newPayment.date"}],attrs:{type:"date"},domProps:{value:t.newPayment.date},on:{input:function(e){e.target.composing||t.$set(t.newPayment,"date",e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"field"},[e("label",{staticClass:"m-btn-5"},[t._v("Value")]),e("ValidationProvider",{attrs:{name:"Value",rules:"required|numeric|min_value:1"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newPayment.amount,expression:"newPayment.amount"}],attrs:{type:"text",placeholder:"Enter Value"},domProps:{value:t.newPayment.amount},on:{input:function(e){e.target.composing||t.$set(t.newPayment,"amount",e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)]),e("button",{staticClass:"submit-button",class:{"disabled-btn":a},attrs:{disabled:a},on:{click:t.addPayment}},[t._v(" Add Payment ")])])]}}])})],1)},Du=[];Object(wa["c"])("required",{...Ia["g"],message:"{_field_} مطلوب"}),Object(wa["c"])("numeric",{...Ia["f"],message:"{_field_} يجب أن يكون رقمًا"}),Object(wa["c"])("min_value",{...Ia["e"],message:"{_field_} يجب أن يكون على الأقل {min}"});var Ou={props:{moneyImage:{type:String,required:!0}},data(){return{newPayment:{note:"",date:"",amount:""}}},methods:{addPayment(){const t={...this.newPayment};this.newPayment={note:"",date:"",amount:""},this.$emit("update:payments",t)}}},Su=Ou,Au=(a("acf0"),Object(l["a"])(Su,xu,Du,!1,null,"3056385e",null)),Bu=Au.exports,Tu=function(){var t=this,e=t._self._c;return e("div",{staticClass:"payments-list"},t._l(t.payments,(function(a,s){return e("div",{key:s,staticClass:"payment-row"},[e("div",{staticClass:"note"},[t._v(t._s(a.note))]),e("div",{staticClass:"date"},[t._v(t._s(a.date))]),e("div",{staticClass:"amount"},[t._v(t._s(a.amount))]),e("button",{staticClass:"delete-button",on:{click:function(e){return t.deletePayment(s)}}},[t._v("✕")])])})),0)},Fu=[],qu={props:{payments:{type:Array,required:!0}},methods:{deletePayment(t){this.$emit("delete-payment",t)}}},Lu=qu,Nu=(a("58c0"),Object(l["a"])(Lu,Tu,Fu,!1,null,"32e87223",null)),ju=Nu.exports,Mu={props:{payments:{type:Array,required:!0}},components:{AddPaymentForm:Bu,PaymentsList:ju},data(){return{moneyImage:a("c84a")}},methods:{updatePayments(t){this.$emit("update:payments",t)},handleDelete(t){this.$emit("delete-payment",t)}}},Uu=Mu,Eu=(a("0b77"),Object(l["a"])(Uu,Pu,ku,!1,null,"748fad02",null)),Ru=Eu.exports,Qu={components:{TransictionInfo:Iu,PaymentsContainer:Ru,CircleLoader:Sa},data(){return{formData:{selectedType:"both",location:"",orderLink:"",date:"",note:"",status:"open",userId:"",typesData:[{type:"materials",totalAmount:0,remainingValue:0},{type:"manufacturing",totalAmount:0,remainingValue:0},{type:"both",totalAmount:0,remainingValue:0}]},payments:[],userId:"",isLoading:!1}},methods:{...Object(y["d"])(ut,["addSpecificTransaction","fetchSpecificTransactions"]),updateFormData(t){this.formData={...t},this.calculateRemainingValue(),console.log("Updated Form Data:",this.formData)},updatePayments(t){this.payments.push({...t,paymentType:this.formData.selectedType}),this.calculateRemainingValue(),console.log("Updated Payments:",this.payments)},handleDelete(t){this.payments.splice(t,1),this.calculateRemainingValue()},calculateRemainingValue(){this.formData.typesData.forEach(t=>{t.remainingValue=t.totalAmount}),this.payments.forEach(t=>{const e=this.formData.typesData.find(e=>e.type===t.paymentType);e&&(e.remainingValue-=parseFloat(t.amount||0))}),console.log("Updated Types Data with Remaining Values:",this.formData.typesData)},async handleSave(){this.isLoading=!0,console.log("Save Triggered with Data:",this.formData);const t={...this.formData,userId:this.userId,payments:this.payments},e=await this.addSpecificTransaction(t);console.log("Transaction saved with ID:",e),this.isLoading=!1,Mt()({text:"created",icon:"success"})}},async created(){this.userId=this.$route.params.profileId,console.log("here",this.userId)}},Vu=Qu,Hu=(a("8201"),Object(l["a"])(Vu,vu,gu,!1,null,"26b85b4c",null)),Gu=Hu.exports,Wu=function(){var t=this,e=t._self._c;return e("div",{staticClass:"financial-transaction-page"},[t._m(0),e("div",{staticClass:"financial-transaction-form"},[e("TransictionInfo",{attrs:{initialFormData:t.formData},on:{"update:formData":t.updateFormData,save:t.handleUpdate}}),e("PaymentsContainer",{attrs:{payments:t.payments},on:{"update:payments":t.updatePayments,"delete-payment":t.handleDelete}})],1),e("CircleLoader",{attrs:{show:t.isLoading}})],1)},zu=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("h1",{staticClass:"header_title"},[t._v("Update Transaction")])])}],$u={components:{TransictionInfo:Iu,PaymentsContainer:Ru,CircleLoader:Sa},data(){return{formData:{selectedType:"both",location:"",orderLink:"",date:"",note:"",status:"open",userId:"",typesData:[{type:"materials",totalAmount:0,remainingValue:0},{type:"manufacturing",totalAmount:0,remainingValue:0},{type:"both",totalAmount:0,remainingValue:0}]},payments:[],userId:"",isLoading:!1}},methods:{...Object(y["d"])(ut,["fetchSpecificTransactionById","updateSpecificTransaction"]),updateFormData(t){this.formData={...t},this.calculateRemainingValue(),console.log("Updated Form Data:",this.formData)},updatePayments(t){this.payments.push({...t,paymentType:this.formData.selectedType}),this.calculateRemainingValue(),console.log("Updated Payments:",this.payments)},handleDelete(t){this.payments.splice(t,1),this.calculateRemainingValue()},calculateRemainingValue(){this.formData.typesData.forEach(t=>{t.remainingValue=t.totalAmount}),this.payments.forEach(t=>{const e=this.formData.typesData.find(e=>e.type===t.paymentType);e&&(e.remainingValue-=parseFloat(t.amount||0))}),console.log("Updated Types Data with Remaining Values:",this.formData.typesData)},async handleUpdate(){this.isLoading=!0,console.log("Update Triggered with Data:",this.formData);const t={...this.formData,userId:this.userId,payments:this.payments,id:this.transactionId};await this.updateSpecificTransaction(t),console.log("Transaction updated with ID:",this.transactionId),this.isLoading=!1,Mt()({text:"Transaction updated successfully",icon:"success"})}},async created(){this.transactionId=this.$route.params.transactionId,this.userId=this.$route.params.profileId,console.log("Transaction ID:",this.transactionId);const t=await this.fetchSpecificTransactionById(this.transactionId);console.log("transaction data",t),t&&(this.formData={...t},console.log("formData",this.formData),this.payments=t.payments||[])}},Zu=$u,Yu=(a("5ceb"),Object(l["a"])(Zu,Wu,zu,!1,null,"1764a577",null)),Ku=Yu.exports,Xu=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page transactions"},[e("div",{staticClass:"title--pagesInProfile"},[e("div",[e("div",{staticClass:"random-cont"}),e("div",[e("div",{staticClass:"export"}),t.isAdmin?e("router-link",{attrs:{to:t.generateRoute("AddFinancial")}},[e("button",{staticClass:"add"},[t._v("+ add financial")])]):t._e()],1)]),e("div",{staticClass:"filter_by_search",class:{"dark-mode-box":t.getDarkMode}},[e("div",{},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],class:{"dark-mode-search":t.getDarkMode},attrs:{placeholder:"search",type:"search"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedFilter,expression:"selectedFilter"}],staticClass:"filter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedFilter=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"date"}},[t._v("date")]),e("option",{attrs:{value:"adress"}},[t._v("adress")])])]),e("div",{class:{"dark-mode-box":t.getDarkMode}},[e("div",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectStatus,expression:"selectStatus"}],staticClass:"filter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectStatus=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"all"}},[t._v("الكل")]),e("option",{attrs:{value:"مفتوح"}},[t._v("مفتوح")]),e("option",{attrs:{value:"منهى"}},[t._v("منهى")])])]),t._m(0)])])]),e("div",{staticClass:"allContent",class:{"dark-mode-box":t.getDarkMode}},[t.isLoading?e("TableSkeleton",{attrs:{rows:5,columns:6}}):t.getTransactions.length>0?e("ListTable",{staticClass:"ListTable_cont",attrs:{transactions:t.getTransactions}}):e("NoData",{attrs:{context:"transactions"}})],1),e("div",{staticClass:"scrollUp",attrs:{id:"scrollUp"}})])},Ju=[function(){var t=this,e=t._self._c;return e("div",[e("button",[t._v("last aded")]),e("img",{staticClass:"arroow aded",attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS_HHn9uGD0sPLHcGzdjI_WX8Au22ap-x1b1Q&usqp=CAU"}})])}],tp=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ListTable",class:{"dark-mode":t.getDarkMode}},[e("div",{staticClass:"show__table"},[e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.transactionsWithCalculatedTotal,(function(a,s){return e("tr",{key:a.id},[e("td",[t._v(t._s(t._f("formatDate")(a.date)))]),e("td",[t._v(t._s(a.location||"---"))]),e("td",[t._v(t._s(a.totalAmount))]),e("td",[t._v(t._s(a.status))]),e("td",{staticClass:"actions"},[e("DropdownMenu",{ref:"dropdownMenu",refInFor:!0,attrs:{transaction:a},on:{closeOthers:function(e){return t.openDropdownHandle(s)}}})],1)])})),0)])])])},ep=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("تاريخ")]),e("th",[t._v("المكان")]),e("th",[t._v("المستحق")]),e("th",[t._v("الحالة")]),e("th",[t._v("الخيارات")])])])}],ap=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dropdown"},[e("button",{staticClass:"dropbtn",on:{click:t.toggle}},[t._v(":")]),t.visible?e("div",{staticClass:"dropdown-content"},[t.isAdmin?e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.generateRoute("EditTransaction",t.transaction.id)}}},[e("span",[t._v("اجراء")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","edit"]}})],1):t._e(),t.isAdmin?e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.deletteFinancial(t.transaction)}}},[e("span",[t._v("حذف")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","trash"]}})],1):t._e()]):t._e()])},sp=[],rp={emits:["closeOthers"],name:"DropdownMenu",props:{transaction:Object},data(){return{visible:!1}},computed:{...Object(y["e"])(k,["isAdmin","isClint","isTechnical"])},methods:{...Object(y["d"])(ut,["deleteSpecificTransaction"]),...Object(y["d"])(lt,["updateOrder"]),toggle(){this.visible=!this.visible,this.visible&&this.$emit("closeOthers")},viewDetails(){},generateRoute(t,e){const a=this.$route.params.profileId,s=this.$route.meta.layout;"profileInDashboardLayout"===s?this.$router.push(`/dashboard/profile/${a}/${t}/${e}`):"profileOutDashboardLayout"===s&&this.$router.push(`/profile/${a}/${t}/${e}`)},async deletteFinancial(t){try{await this.deleteSpecificTransaction(t.id,this.$route.params.profileId),Mt()({text:"Transaction deleted successfully",icon:"success"})}catch(e){console.error("Deletion failed",e),Mt()({text:"Error: "+e.message,icon:"error"})}},closeDropdown(){this.visible=!1},handleClickOutside(t){this.$el.contains(t.target)||this.closeDropdown()}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeDestroy(){document.removeEventListener("click",this.handleClickOutside)}},ip=rp,op=(a("6664"),Object(l["a"])(ip,ap,sp,!1,null,"86c219e4",null)),np=op.exports,lp={name:"ListTable",components:{DropdownMenu:np},props:["transactions"],data(){return{openDropdownProp:null}},computed:{getDarkMode(){return this.$store.state.darkMode},transactionsWithCalculatedTotal(){return this.transactions.map(t=>{const e=t.typesData.find(t=>"both"===t.type);if(e&&e.totalAmount>0)return{...t,totalAmount:e.totalAmount};const a=t.typesData.filter(t=>"both"!==t.type).reduce((t,e)=>t+Number(e.totalAmount),0);return{...t,totalAmount:a}})}},methods:{openDropdownHandel(t){null!==this.openDropdownProp&&this.openDropdownProp!==t&&this.$refs.dropdownMenu[this.openDropdownProp].closeDropdown(),this.openDropdownProp=t}}},cp=lp,dp=(a("8abd"),Object(l["a"])(cp,tp,ep,!1,null,"4a234d20",null)),up=dp.exports,pp={name:"Transactions",components:{ListTable:up,NoData:Xt,TableSkeleton:Tt},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(ut,["specificUserTransactions"]),...Object(y["e"])(k,["isAdmin"]),getTransactions(){let t=this.specificUserTransactions;return"all"!==this.selectStatus&&(t=t.filter(t=>t.status==this.selectStatus)),this.searchQuery&&(t=t.filter(t=>{const e=t[this.selectedFilter].toString().toLowerCase();return e.includes(this.searchQuery.toLowerCase())})),t}},async created(){this.profileId=this.$route.params.profileId,await this.fetchSpecificTransactionByUserId(this.profileId),this.isLoading=!1,console.log("specificUserTransactions",this.specificUserTransactions),console.log("getTransactions",this.getTransactions)},methods:{...Object(y["d"])(ut,["fetchSpecificTransactionByUserId"]),generateRoute(t){const e=this.$route.meta.layout;return"DashboardLayout"===e||"profileInDashboardLayout"===e?`/dashboard/profile/${this.profileId}/${t}`:"profileOutDashboardLayout"===e?`/profile/${this.profileId}/${t}`:void 0},showScrollUp(){let t=document.getElementById("scrollUp");window.onscroll=function(){t.style.visibility=scrollY>=500?"visible":"hidden"}}},data(){return{searchQuery:"",selectStatus:"all",selectedFilter:"date",profileId:null,isLoading:!0}}},hp=pp,mp=(a("0ddf"),Object(l["a"])(hp,Xu,Ju,!1,null,"170a26c8",null)),fp=mp.exports,vp=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page random"},[e("TotalBalance"),e("div",{staticClass:"add-payment"},[e("AddPayment")],1),e("div",{staticClass:"allContent",class:{"dark-mode-box":t.getDarkMode}},[e("FinancialList",{attrs:{paymentType:"Pull"},scopedSlots:t._u([{key:"title",fn:function(){return[e("h2",[t._v("Pull Payments")])]},proxy:!0},{key:"icon",fn:function(){return[e("img",{staticClass:"iconAwesome",attrs:{src:a("45db")}})]},proxy:!0}])}),e("FinancialList",{attrs:{paymentType:"Add"},scopedSlots:t._u([{key:"title",fn:function(){return[e("h2",[t._v("push Payments")])]},proxy:!0},{key:"icon",fn:function(){return[e("img",{staticClass:"iconAwesome",attrs:{src:a("cfdf")}})]},proxy:!0}])})],1)],1)},gp=[],bp=function(){var t=this,e=t._self._c;return e("div",{staticClass:"financial-list"},[e("div",{staticClass:"head"},[t._t("title"),t._t("icon",(function(){return[e("img",{attrs:{src:"https://via.placeholder.com/40",alt:"User Image"}})]}))],2),t.filteredData.length>0?e("div",{staticClass:"payments"},t._l(t.filteredData,(function(t){return e("PaymentItem",{key:t.id,attrs:{data:t}})})),1):e("NoData",{attrs:{context:"transactions"}}),e("div",{staticClass:"footer"},[e("div",{staticClass:"footer_total"},[e("font-awesome-icon",{staticClass:"total-icon",attrs:{icon:"wallet"}}),e("span",{staticClass:"total-label"},[t._v("Total "+t._s("Add"===t.paymentType?"Push":"Pull")+":")]),e("span",{staticClass:"total-amount"},[t._v(t._s(t.totalAmount)+" EGP")])],1),e("div",{staticClass:"footer_btns"},[e("button",{staticClass:"common-btn",attrs:{disabled:!t.addHasNextPage&&"Add"===t.paymentType||!t.pullHasNextPage&&"Pull"===t.paymentType},on:{click:function(e){"Add"===t.paymentType?t.fetchAddTransactions(5,"next",t.profileId):t.fetchPullTransactions(5,"next",t.profileId)}}},[t._v(" Next "),e("font-awesome-icon",{attrs:{icon:"chevron-right"}})],1),e("button",{staticClass:"common-btn",attrs:{disabled:!t.addHasPreviousPage&&"Add"===t.paymentType||!t.pullHasPreviousPage&&"Pull"===t.paymentType},on:{click:function(e){"Add"===t.paymentType?t.fetchAddTransactions(5,"previous",t.profileId):t.fetchPullTransactions(5,"previous",t.profileId)}}},[e("font-awesome-icon",{attrs:{icon:"chevron-left"}}),t._v(" Previous ")],1),e("button",{staticClass:"common-btn spicial-btn",on:{click:function(e){"add"===t.paymentType?t.fetchAddTransactions(5,null,t.profileId):t.fetchPullTransactions(5,null,t.profileId)}}},[e("font-awesome-icon",{attrs:{icon:"clock"}}),t._v(" Last Added ")],1)])])],1)},yp=[],_p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"payment-item"},[e("div",{staticClass:"payment-date"},[t._v(t._s(t._f("formatDate")(t.data.date)))]),e("div",{staticClass:"payment-amount"},[e("span",[t._v(t._s(t.data.amount))])]),e("div",{staticClass:"payment-note"},[e("span",[t._v(t._s(t.data.notes))])]),e("DropdownMenu",{ref:"dropdownMenu",attrs:{transaction:t.data},on:{closeOthers:function(e){return t.openDropdownHandle(t.data.id)}}})],1)},Cp=[],wp=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dropdown"},[e("button",{staticClass:"dropbtn",on:{click:t.toggle}},[t._v(":")]),t.visible?e("div",{staticClass:"dropdown-content"},[t.transaction.orderId?e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.generateRoute("Fatora",t.transaction.orderId)}}},[e("span",[t._v("فاتوره")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","file-invoice"]}})],1):t._e(),e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.deleteSingleTransaction()}}},[e("span",[t._v("حذف")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","trash"]}})],1),e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.hideSingleTransaction()}}},[e("span",[t._v(" "+t._s(t.transaction.hidden?"اظهار":"اخفاء")+" ")]),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","eye-slash"]}})],1)]):t._e()])},Ip=[],Pp={emits:["closeOthers"],name:"DropdownMenu",props:{transaction:Object},data(){return{visible:!1,profileId:this.$route.params.profileId}},methods:{...Object(y["d"])(pt,["deleteTransaction","hideTransaction"]),toggle(){this.visible=!this.visible,this.visible&&this.$emit("closeOthers")},closeDropdown(){this.visible=!1},handleClickOutside(t){this.$el.contains(t.target)||this.closeDropdown()},async deleteSingleTransaction(){console.log("its transaction",this.transaction),await this.deleteTransaction(this.transaction.id,this.transaction.type,this.profileId)},async hideSingleTransaction(){await this.hideTransaction(this.transaction.id,this.transaction.type,this.transaction,this.profileId)},generateRoute(t,e){const a=this.$route.params.profileId,s=this.$route.meta.layout;"profileInDashboardLayout"===s?this.$router.push(`/dashboard/profile/${a}/${t}/${e}/"true"`):"profileOutDashboardLayout"===s&&this.$router.push(`/profile/${a}/${t}/${e}`)}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeDestroy(){document.removeEventListener("click",this.handleClickOutside)}},kp=Pp,xp=(a("c7ba"),Object(l["a"])(kp,wp,Ip,!1,null,"05f674b8",null)),Dp=xp.exports,Op={name:"PaymentItem",components:{DropdownMenu:Dp},props:{data:{type:Object,required:!0}},data(){return{openDropdownProp:null}},methods:{openDropdownHandle(t){console.log("enter",this.openDropdownProp,t),null!==this.openDropdownProp&&this.openDropdownProp!==t&&(console.log("enter condition",this.openDropdownProp,t),this.$refs.dropdownMenu[this.openDropdownProp].closeDropdown()),this.openDropdownProp=t,console.log("openDropdown Prop",this.openDropdownProp)}}},Sp=Op,Ap=(a("41dd"),Object(l["a"])(Sp,_p,Cp,!1,null,"5f6deffc",null)),Bp=Ap.exports,Tp={name:"AddPayment",components:{PaymentItem:Bp,NoData:Xt},props:{paymentType:{type:String,required:!0}},data(){return{filteredData:[],profileId:null}},computed:{...Object(y["e"])(pt,["addTransactions","addHasNextPage","addHasPreviousPage","pullTransactions","pullHasNextPage","pullHasPreviousPage","hidden"]),chosseRightData(){return"Add"===this.paymentType?this.addTransactions:"Pull"===this.paymentType?this.pullTransactions:[]},totalAmount(){return this.filteredData.reduce((t,e)=>t+(Number(e.amount)||0),0)}},methods:{...Object(y["d"])(pt,["fetchAddTransactions","fetchPullTransactions"]),filterData(){!1===this.hidden?this.filteredData=this.chosseRightData.filter(t=>!1===t.hidden||void 0===t.hidden):this.filteredData=this.chosseRightData}},watch:{hidden(){this.filterData()},chosseRightData(){this.filterData()},profileId(){this.filterData()}},mounted(){this.fetchAddTransactions(5,null,this.profileId),this.fetchPullTransactions(5,null,this.profileId),this.filterData()},async created(){this.profileId=this.$route.params.profileId}},Fp=Tp,qp=(a("9232"),Object(l["a"])(Fp,bp,yp,!1,null,"32a22354",null)),Lp=qp.exports,Np=function(){var t=this,e=t._self._c;return e("div",{},[e("div",{staticClass:"random__title"},[e("div",{staticClass:"random__title__text"},[t.userInfo?e("p",[t._v(" "+t._s("technical"==t.userInfo.role?"workers's":"clint's")+" accounting "),e("span",[t._v(t._s("technical"==t.userInfo.role?"Transiction":"More Than Place"))])]):t._e()]),e("div",{staticClass:"cont__title__totalChange"},[e("div",{staticClass:"random__title__total"},[t._m(0),e("div",{staticClass:"total__number"},[e("p",[t._v(t._s(t.balance)+" $")])])]),e("div",{staticClass:"random__title__change"},[e("div",{staticClass:"toggle"},[t._m(1),e("ToggleSwitch",{attrs:{isHidden:t.isHidden},on:{"update:isHiddenActive":t.updateHiddenStatus}})],1)])])])])},jp=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"total__text"},[e("p",[t._v("total Balance")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"toggle__chosse"},[e("span",[t._v("show")])])}],Mp=function(){var t=this,e=t._self._c;return e("div",{staticClass:"toggle-switch",on:{click:t.toggle}},[e("div",{staticClass:"toggle-circle",class:{active:t.isHidden}})])},Up=[],Ep={props:{isHidden:Boolean},methods:{...Object(y["d"])(pt,["toggleHidden"]),toggle(){const t=!this.isHidden;this.$emit("update:isHiddenActive",t),this.toggleHidden()}}},Rp=Ep,Qp=(a("e7e0"),Object(l["a"])(Rp,Mp,Up,!1,null,"f8653a2e",null)),Vp=Qp.exports,Hp={name:"TotalBalance",components:{ToggleSwitch:Vp},computed:{...Object(y["e"])(pt,["balance"])},methods:{updateHiddenStatus(){console.log("before",this.isHidden),this.isHidden=!this.isHidden,console.log("after",this.isHidden)},...Object(y["d"])(pt,["fetchTransactionsByProfile"]),...Object(y["d"])(x,["fetchSingleUser"])},data(){return{isHidden:!1,profileId:this.$route.params.profileId,userInfo:null}},async created(){await this.fetchTransactionsByProfile(this.profileId),this.userInfo=await this.fetchSingleUser(this.profileId)}},Gp=Hp,Wp=(a("24b5"),Object(l["a"])(Gp,Np,jp,!1,null,"6539004a",null)),zp=Wp.exports,$p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"add-payment"},[e("div",{staticClass:"form-container"},[e("div",{staticClass:"content-wrapper"},[e("div",{staticClass:"form-section"},[t._m(0),e("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function({invalid:s}){return[e("form",{on:{submit:function(e){return e.preventDefault(),t.setTransactionType("Add")}}},[e("div",{staticClass:"form-row"},[e("div",[e("label",{attrs:{for:"amount"}},[t._v("Amount")]),e("ValidationProvider",{attrs:{name:"Amount",rules:"required|numeric|min_value:1"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.amount,expression:"form.amount"}],attrs:{id:"amount",type:"number",placeholder:"Amount, Total",required:""},domProps:{value:t.form.amount},on:{input:function(e){e.target.composing||t.$set(t.form,"amount",e.target.value)}}}),e("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticStyle:{"margin-left":"7px"}},[e("label",{attrs:{for:"date"}},[t._v("Date")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.date,expression:"form.date"}],attrs:{id:"date",type:"date",required:""},domProps:{value:t.form.date},on:{input:function(e){e.target.composing||t.$set(t.form,"date",e.target.value)}}})])]),e("div",{staticClass:"form-row"},[e("div",[e("label",{attrs:{for:"notes"}},[t._v("Notes")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.notes,expression:"form.notes"}],attrs:{id:"notes",type:"text",placeholder:"Notes",required:""},domProps:{value:t.form.notes},on:{input:function(e){e.target.composing||t.$set(t.form,"notes",e.target.value)}}})])]),e("div",{staticClass:"actions"},[e("button",{staticClass:"upload-button",class:{"disabled-btn":s},attrs:{type:"button",disabled:s},on:{click:function(e){return t.setTransactionType("Add")}}},[e("img",{staticClass:"iconAwesome",attrs:{src:a("cfdf")}}),e("span",[t._v("Add")])]),e("button",{staticClass:"deduct-button",class:{"disabled-btn":s},attrs:{type:"button",disabled:s},on:{click:function(e){return t.setTransactionType("Pull")}}},[e("img",{staticClass:"iconAwesome",attrs:{src:a("45db")}}),e("span",[t._v("Pull")])]),"technical"==t.getRole?e("div",{staticClass:"confirmation-toggle"},[e("div",{staticClass:"toggle-container",on:{click:t.toggleReduce}},[e("div",{class:["toggle-ball",{active:t.form.reduce}]})]),e("span",[t._v(" Reduce")])]):t._e()])])]}}])})],1),t._m(1)])])])},Zp=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("div",{staticClass:"icon"},[t._v("✔️")]),e("h3",[t._v("Add Payment")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"image-section"},[e("img",{staticClass:"confirmation-image",attrs:{src:a("63d8"),alt:"Confirmation Icon"}})])}];Object(wa["c"])("required",{...Ia["g"],message:"{_field_} is Requered"});var Yp,Kp,Xp={name:"AddPayment",computed:{getRole(){return this.userInfo?this.userInfo.role:""}},methods:{...Object(y["d"])(pt,["addRandomTransaction"]),...Object(y["d"])(x,["fetchSingleUser"]),toggleReduce(){this.form.reduce=!this.form.reduce},setTransactionType(t){this.form.type=t,this.submitTransaction()},async submitTransaction(){const t={userId:this.profileId,role:this.userInfo.role,...this.form,createdAt:(new Date).toISOString(),category:"orderRandom"};await this.addRandomTransaction(t,this.profileId),this.resetForm(),alert("Transaction Added Successfully!")},resetForm(){this.form={amount:null,date:null,notes:"",reduce:!1,hidden:!1,type:""}}},data(){return{form:{amount:null,date:null,notes:"",reduce:!1,type:""},profileId:null,userInfo:null}},async created(){this.profileId=this.$route.params.profileId,this.userInfo=await this.fetchSingleUser(this.profileId),console.log("Fetched user info:",this.userInfo)}},Jp=Xp,th=(a("2471"),Object(l["a"])(Jp,$p,Zp,!1,null,"4540d072",null)),eh=th.exports,ah={name:"RandomFinancial",components:{FinancialList:Lp,TotalBalance:zp,AddPayment:eh},mixins:[yt],computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(ut,["userTransactions"]),getTransactions(){console.log(this.userTransactions);const t=this.filterByDate(this.userTransactions,this.selectedFilter);return console.log(t),t}},async created(){this.profileId=this.$route.params.profileId,await this.fetchTransactionsByUserId(this.profileId),this.isLoading=!1},methods:{...Object(y["d"])(ut,["fetchTransactionsByUserId"])},data(){return{selectedFilter:"lastMonth",profileId:null,isLoading:!0}}},sh=ah,rh=(a("13ca"),Object(l["a"])(sh,vp,gp,!1,null,"b14ba09c",null)),ih=rh.exports,oh=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page transactions"},[e("div",{staticClass:"title--pagesInProfile"},[e("div",[e("div",[t._m(0),t.isAdmin?e("router-link",[e("button",{staticClass:"add"},[t._v("+ add project")])]):t._e()],1)]),e("div",{staticClass:"filter_by_search",class:{"dark-mode-box":t.getDarkMode}},[e("div",{},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],class:{"dark-mode-search":t.getDarkMode},attrs:{placeholder:"search",type:"search"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedFilter,expression:"selectedFilter"}],staticClass:"filter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedFilter=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"date"}},[t._v("date")]),e("option",{attrs:{value:"adress"}},[t._v("adress")])])]),e("div",{class:{"dark-mode-box":t.getDarkMode}},[e("div",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectStatus,expression:"selectStatus"}],staticClass:"filter",attrs:{placeholder:"filter"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectStatus=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"all"}},[t._v("الكل")]),e("option",{attrs:{value:"مفتوح"}},[t._v("مفتوح")]),e("option",{attrs:{value:"منهى"}},[t._v("منهى")])])]),t._m(1)])])]),e("div",{staticClass:"allContent",class:{"dark-mode-box":t.getDarkMode}},[t.isLoading?e("TableSkeleton",{attrs:{rows:5,columns:6}}):e("NoData",{attrs:{context:"projects"}})],1),e("div",{staticClass:"scrollUp",attrs:{id:"scrollUp"}})])},nh=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"export"},[e("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmvEXj1Sr-tzeKuEP9PgzajIUDvR_-L-zfkg&usqp=CAU"}}),e("button",[t._v("export")])])},function(){var t=this,e=t._self._c;return e("div",[e("button",[t._v("last aded")]),e("img",{staticClass:"arroow aded",attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS_HHn9uGD0sPLHcGzdjI_WX8Au22ap-x1b1Q&usqp=CAU"}})])}],lh={name:"Transactions",components:{ListTable:up,NoData:Xt,TableSkeleton:Tt},computed:{getDarkMode(){return this.$store.state.darkMode},...Object(y["e"])(ut,["userTransactions"]),...Object(y["e"])(k,["isAdmin"]),getTransactions(){let t=this.userTransactions;return"all"!==this.selectStatus&&(t=t.filter(t=>t.status==this.selectStatus)),this.searchQuery&&(t=t.filter(t=>{const e=t[this.selectedFilter].toString().toLowerCase();return e.includes(this.searchQuery.toLowerCase())})),t}},async created(){this.profileId=this.$route.params.profileId,await this.fetchTransactionsByUserId(this.profileId),this.isLoading=!1},methods:{...Object(y["d"])(ut,["fetchTransactionsByUserId"]),generateRoute(t){const e=this.$route.meta.layout;return"DashboardLayout"===e||"profileInDashboardLayout"===e?`/dashboard/profile/${this.profileId}/${t}`:"profileOutDashboardLayout"===e?`/profile/${this.profileId}/${t}`:void 0},showScrollUp(){let t=document.getElementById("scrollUp");window.onscroll=function(){t.style.visibility=scrollY>=500?"visible":"hidden"}}},data(){return{searchQuery:"",selectStatus:"all",selectedFilter:"date",profileId:null,isLoading:!0}}},ch=lh,dh=(a("adb3"),Object(l["a"])(ch,oh,nh,!1,null,"95a62e4a",null)),uh=dh.exports,ph={},hh=Object(l["a"])(ph,Yp,Kp,!1,null,null,null),mh=hh.exports,fh=function(){var t=this,e=t._self._c;return e("div",{class:{"dark-mode":t.getDarkMode},attrs:{id:"login-page"}},[t._m(0),e("section",{staticClass:"main"},[e("div",{staticClass:"login-container"},[e("p",{staticClass:"title"},[t._v("Welcome back")]),e("div",{staticClass:"separator"}),e("p",{staticClass:"welcome-message"},[t._v(" Please, provide login credential to proceed and have access to all our services ")]),e("form",{staticClass:"login-form",on:{submit:function(e){return e.preventDefault(),t.handleLogin.apply(null,arguments)}}},[e("div",{staticClass:"form-control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:"user"}})],1),e("div",{staticClass:"form-control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),e("font-awesome-icon",{staticClass:"icon",attrs:{icon:"lock"}})],1),e("button",{staticClass:"submit",attrs:{type:"submit"}},[t._v("Login")])])])])])},vh=[function(){var t=this,e=t._self._c;return e("section",{staticClass:"side"},[e("img",{attrs:{src:a("4b72"),alt:""}})])}],gh={name:"Login",data(){return{email:"",password:""}},computed:{...Object(y["e"])(k,["role","isAdmin","isTechnical","isClint","MoreUserInfo"]),getDarkMode(){return this.$store.state.darkMode}},methods:{...Object(y["d"])(k,["login"]),async handleLogin(){try{var t,e,a;const s=await this.login(this.email,this.password);console.log("MoreUserInfo:",this.MoreUserInfo);const r=null===(t=this.MoreUserInfo)||void 0===t?void 0:t.role,i=null===(e=this.MoreUserInfo)||void 0===e?void 0:e.subscription_type,o=null===(a=this.MoreUserInfo)||void 0===a?void 0:a.company_name;"superAdmin"===r?this.$router.push("/dashboard/ManageTenants"):"admin"===r?"full system"===i?this.$router.push("/dashboard"):"Portfolio"===i?this.$router.push("/"+o):(console.error("Unknown subscription type for admin:",i),alert("Subscription type not supported. Please contact support.")):"technical"===r||"clint"===r?this.$router.push("/profile/"+s):(console.error("Unknown role:",r),alert("Role not recognized. Please contact support."))}catch(s){console.error("Login failed:",s),alert("Failed to login. Please check your credentials and try again.")}}}},bh=gh,yh=(a("19a2"),Object(l["a"])(bh,fh,vh,!1,null,"080b6209",null)),_h=yh.exports,Ch=function(){var t,e=this,a=e._self._c;return a("v-app",[a("v-container",{staticClass:"manageTemplates-view"},[a("v-row",{staticClass:"mb-2",staticStyle:{"margin-top":"16px"},attrs:{align:"center",justify:"space-between"}},[a("div",{staticClass:"text-Search"},[e._v("Search templates")]),a("v-btn",{staticClass:"btn-add-temp",staticStyle:{width:"180px","font-size":"13px","border-radius":"16px","margin-right":"20px"},attrs:{color:"blue darken-2",dark:""},on:{click:e.openAddDialog}},[e._v(" Add new template ")])],1),a("v-row",{staticClass:"mb-6"},[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search templates",solo:"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),a("v-row",e._l(e.filteredTemplates,(function(t){return a("v-col",{key:t.id,attrs:{cols:"12",sm:"6",md:"4"}},[a("v-card",{staticClass:"pa-3"},[a("v-img",{attrs:{src:t.image,height:"150px",contain:""}}),a("v-card-title",{staticClass:"text-h6"},[e._v(e._s(t.name))]),a("v-card-subtitle",[e._v(e._s(t.description))]),a("v-card-actions",{staticClass:"d-flex justify-space-between"},[a("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(a){return e.viewTemplate(t)}}},[a("v-icon",[e._v("mdi-eye")])],1),a("v-btn",{attrs:{icon:"",color:"blue darken-2"},on:{click:function(a){return e.openEditDialog(t)}}},[a("v-icon",[e._v("mdi-pencil")])],1),a("v-btn",{attrs:{icon:"",color:"red"},on:{click:function(a){return e.deleteTemplate(t.id)}}},[a("v-icon",[e._v("mdi-delete")])],1)],1)],1)],1)})),1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h6"},[e._v(e._s(e.isEdit?"Edit Template":"Add New Template"))])]),a("v-card-text",[a("v-text-field",{attrs:{label:"Template Name"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),a("v-combobox",{attrs:{items:e.availableComponents,label:"Components",multiple:""},model:{value:e.form.components,callback:function(t){e.$set(e.form,"components",t)},expression:"form.components"}}),a("v-text-field",{attrs:{label:"Description"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}}),a("v-file-input",{attrs:{label:"Upload Image",accept:"image/*"},on:{change:e.onFileChange}}),e.form.image?a("v-img",{attrs:{src:e.form.image,height:"150px",contain:""}}):e._e()],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-2",text:""},on:{click:e.saveTemplate}},[e._v(e._s(e.isEdit?"Update":"Save"))]),a("v-btn",{attrs:{text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Cancel")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.viewDialog,callback:function(t){e.viewDialog=t},expression:"viewDialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h6"},[e._v("Template Details")])]),a("v-card-text",[a("v-img",{attrs:{src:e.selectedTemplate.image,height:"150px",contain:""}}),a("p",[a("strong",[e._v("Name:")]),e._v(" "+e._s(e.selectedTemplate.name))]),a("p",[a("strong",[e._v("Description:")]),e._v(" "+e._s(e.selectedTemplate.description))]),a("p",[a("strong",[e._v("Components:")]),e._v(" "+e._s(null===(t=e.selectedTemplate)||void 0===t||null===(t=t.components)||void 0===t?void 0:t.join(", ")))])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.viewDialog=!1}}},[e._v("Close")])],1)],1)],1)],1)],1)},wh=[],Ih={data(){return{dialog:!1,viewDialog:!1,isEdit:!1,search:"",form:{name:"",components:[],description:"",image:""},selectedTemplate:{},file:null,availableComponents:["Catalog","Projects","Blog","Contact","About","Services","Team"]}},computed:{...Object(y["e"])(D,["templates"]),filteredTemplates(){if(!this.search)return this.templates;const t=this.search.toLowerCase();return this.templates.filter(e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t))}},methods:{...Object(y["d"])(D,["fetchTemplates","addTemplate","updateTemplate","deleteTemplate"]),openAddDialog(){this.resetForm(),this.isEdit=!1,this.dialog=!0},openEditDialog(t){this.form={...t},this.isEdit=!0,this.dialog=!0},viewTemplate(t){this.selectedTemplate=t,this.viewDialog=!0},onFileChange(t){this.file=t},async saveTemplate(){this.isEdit?await this.updateTemplate(this.form.id,this.form,this.file):await this.addTemplate(this.form,this.file),this.dialog=!1,this.resetForm()},resetForm(){this.form={name:"",components:[],description:"",image:""},this.file=null}},mounted(){this.fetchTemplates()}},Ph=Ih,kh=(a("5887"),Object(l["a"])(Ph,Ch,wh,!1,null,"3f3a178a",null)),xh=kh.exports,Dh=function(){var t=this,e=t._self._c;return t.loading?e("AnimatedLoader"):t.currentTemplate?e(t.currentTemplate,{tag:"component"}):t._e()},Oh=[],Sh=function(){var t=this,e=t._self._c;return e("v-app",[e("div",{staticClass:"portfolio-view"},[e("HeaderComponent"),e("HeroSection"),e("Services"),e("PortfolioContainer"),e("Baner"),e("InspectionReques"),e("Footer")],1)])},Ah=[],Bh=function(){var t=this,e=t._self._c;return e("nav",{staticClass:"navbar"},[e("div",{staticClass:"logo logo-portfolio"},[e("img",{attrs:{src:t.logoUrl,alt:"Craftsman"}})]),e("button",{staticClass:"menu-button",on:{click:t.toggleSidebar}},[e("font-awesome-icon",{attrs:{icon:["fas","bars"]}})],1),e("ul",{staticClass:"nav-links"},t._l(t.links,(function(a){return e("li",{key:a},[t._v(t._s(a))])})),0),e("div",{staticClass:"buttons-catalog"},[e("button",{staticClass:"request-catalog",style:{backgroundColor:t.settings.primaryColor||"#f57c00"},on:{click:function(e){t.dialogCatalog=!0}}},[t._v("Catalog")]),t.isAdmin?e("button",{staticClass:"add-button",on:{click:function(e){t.dialog=!0}}},[e("font-awesome-icon",{attrs:{icon:["fas","plus"]}})],1):t._e(),e("Catalog-dialog",{attrs:{visible:t.dialogCatalog},on:{close:function(e){t.dialogCatalog=!1}}}),e("v-avatar",{staticClass:"avatar",attrs:{size:"50"}},[e("img",{attrs:{src:t.logoUrl,alt:"User Avatar"}})])],1),e("div",{staticClass:"sidebar-portfolio",class:{"sidebar-open":t.isSidebarOpen}},[e("div",{staticClass:"sidebar-header"},[e("div",{staticClass:"logo"},[e("img",{attrs:{src:t.logoUrl,alt:"Craftsman"}})]),e("button",{staticClass:"close-button",on:{click:t.toggleSidebar}},[e("font-awesome-icon",{attrs:{icon:["fas","times"]}})],1)]),e("ul",t._l(t.links,(function(a){return e("li",{key:a,on:{click:t.toggleSidebar}},[t._v(" "+t._s(a)+" ")])})),0)]),t.isSidebarOpen?e("div",{staticClass:"overlay",on:{click:t.toggleSidebar}}):t._e(),e("dashboard-tem",{attrs:{visible:t.dialog},on:{close:function(e){t.dialog=!1}}})],1)},Th=[];const Fh=Object(y["c"])("templateSettingsStore",{state:()=>({settings:null,loading:!1}),actions:{async addDefaultTemplateSettings(t){const e={userId:t,logo:null,heroTitle:"Exquisite Décor, Perfect Details",heroDescription:"We bring artistic touches that blend creativity with quality, using the finest materials like Viotech, wood alternatives, marble, and GRP. With precision and expertise, we turn your vision into a stunning",email:"",phoneNumber:"",showWhatsapp:!1,whatsappNumber:"",primaryColor:"#1976D2",businessHours:[{day:"Monday - Friday",hours:"9:00 AM – 6:00 PM"},{day:"Saturday",hours:"10:00 AM – 4:00 PM"},{day:"Sunday",hours:"Closed"}],socialLinks:{facebook:"",instagram:"",website:""},location:""};try{await m.collection("portfolioHandelTemplate").doc(t).set(e),this.settings=e}catch(a){console.error("خطأ أثناء إنشاء إعدادات القالب:",a)}},async updateTemplateSettings(t){if(this.loading=!0,t.userId)try{await m.collection("portfolioHandelTemplate").doc(t.userId).update(t),this.settings=t}catch(e){console.error("خطأ أثناء تحديث إعدادات القالب:",e)}finally{this.loading=!1}},async fetchTemplateSettings(t){this.loading=!0;try{const e=await m.collection("portfolioHandelTemplate").doc(t).get();e.exists?this.settings={id:e.id,...e.data()}:this.settings=null}catch(e){console.error("خطأ أثناء جلب إعدادات القالب:",e)}finally{this.loading=!1}},async uploadImageToImgBB(t){const e="a70bc1d60d105c80b4eb207fb2ca3ba1",a=new FormData;a.append("image",t);const s=await fetch("https://api.imgbb.com/1/upload?key="+e,{method:"POST",body:a}),r=await s.json();if(!s.ok||!r.success)throw new Error("رفع الصورة فشل");return r.data.url}}});var qh=function(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{"max-width":"800",persistent:""},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[e("v-card",{staticClass:"pa-4",attrs:{dir:"rtl"}},[e("v-row",{staticClass:"mb-4 align-center justify-space-between"},[e("v-tabs",{attrs:{"background-color":"transparent",grow:""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[e("v-tab",{attrs:{value:"requests"}},[t._v("طلبات المعاينة")]),e("v-tab",{attrs:{value:"setup"}},[t._v("اعدادات الموقع")])],1),e("v-btn",{attrs:{icon:""},on:{click:function(e){return t.$emit("close")}}},[e("v-icon",[t._v("mdi-close")])],1)],1),e("v-tabs-items",{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[e("v-tab-item",[e("v-card-text",[e("HandelInspectionRequests")],1)],1),e("v-tab-item",[e("v-card-text",[e("v-row",t._l(t.filteredSetupOptions,(function(a){return e("v-col",{key:a.title,attrs:{cols:"6",md:"3"}},[e("v-card",{staticClass:"pa-3",class:{"active-box":t.selectedSection===a.key},on:{click:function(e){return t.selectSection(a.key)}}},[e("v-icon",{staticClass:"mb-2"},[t._v(t._s(a.icon))]),e("div",{staticClass:"text-center font-weight-bold"},[t._v(t._s(a.title))]),e("div",{staticClass:"text-center"},[e("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down")])],1)],1)],1)})),1),e(t.selectedSection,{tag:"component"})],1)],1)],1)],1)],1)},Lh=[],Nh=function(){var t=this,e=t._self._c;return e("div",{staticClass:"space-y-6"},[e("div",[e("div",{staticClass:"flex justify-between items-center"},[e("h3",{staticClass:"text-right text-lg font-bold"},[t._v("التصنيفات")]),e("v-btn",{staticStyle:{width:"120px"},attrs:{color:"primary"},on:{click:function(e){t.showCategoryDialog=!0}}},[t._v("➕ إضافة تصنيف")])],1),e("v-list",t._l(t.categories,(function(a){return e("v-list-item",{key:a.id},[e("v-list-item-title",[t._v(t._s(a.name))]),e("v-btn",{attrs:{icon:""},on:{click:function(e){return t.editCategory(a)}}},[e("v-icon",[t._v("mdi-pencil")])],1),e("v-btn",{attrs:{icon:""},on:{click:function(e){return t.deleteCategory(a.id)}}},[e("v-icon",[t._v("mdi-delete")])],1)],1)})),1)],1),e("div",[e("div",{staticClass:"flex justify-between items-center"},[e("h3",{staticClass:"text-right text-lg font-bold"},[t._v("المنتجات")]),e("div",{staticClass:"flex search-products-catalog justify-between items-center gap-2",staticStyle:{display:"flex !important","flex-direction":"row !important"}},[e("v-btn",{staticStyle:{width:"120px"},attrs:{color:"success"},on:{click:function(e){t.showProductDialog=!0}}},[t._v("➕ إضافة منتج")]),e("v-text-field",{staticClass:"w-64",staticStyle:{"margin-right":"10px"},attrs:{label:"بحث عن منتج",outlined:"",dense:"","hide-details":"",clearable:""},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}})],1)]),e("v-list",t._l(t.products,(function(a){return e("v-list-item",{key:a.id},[e("v-list-item-content",[e("v-list-item-title",[t._v(t._s(a.name))]),e("v-list-item-subtitle",[t._v(t._s(a.description))])],1),e("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[e("v-icon",[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e("v-list",[e("v-list-item",{on:{click:function(e){return t.editProduct(a)}}},[e("v-list-item-title",[t._v("تعديل")])],1),e("v-list-item",{on:{click:function(e){return t.HandeldeleteProduct(a.id)}}},[e("v-list-item-title",[t._v("حذف")])],1)],1)],1)],1)})),1),e("div",{staticClass:"text-center mt-4"},[t.endReached||t.searchQuery?t._e():e("v-btn",{staticStyle:{width:"120px"},attrs:{loading:t.loading,color:"primary",outlined:""},on:{click:function(e){return t.loadMore(t.tenantUid)}}},[t._v("عرض المزيد")])],1)],1),e("v-dialog",{staticClass:"add-product-dia",attrs:{"max-width":"800"},model:{value:t.showProductDialog,callback:function(e){t.showProductDialog=e},expression:"showProductDialog"}},[e("v-card",[e("v-card-title",{staticClass:"text-right"},[t._v("إضافة منتج جديد")]),e("v-card-text",[e("v-text-field",{attrs:{label:"اسم المنتج",outlined:"",dense:""},model:{value:t.productForm.name,callback:function(e){t.$set(t.productForm,"name",e)},expression:"productForm.name"}}),e("v-textarea",{attrs:{label:"الوصف",outlined:"",dense:""},model:{value:t.productForm.description,callback:function(e){t.$set(t.productForm,"description",e)},expression:"productForm.description"}}),e("v-text-field",{attrs:{label:"المقاس",outlined:"",dense:""},model:{value:t.productForm.size,callback:function(e){t.$set(t.productForm,"size",e)},expression:"productForm.size"}}),e("v-text-field",{attrs:{label:"السعر",outlined:"",dense:""},model:{value:t.productForm.price,callback:function(e){t.$set(t.productForm,"price",e)},expression:"productForm.price"}}),e("v-select",{attrs:{items:t.categories,"item-text":"name","item-value":"name",label:"التصنيف",outlined:"",dense:""},model:{value:t.productForm.category,callback:function(e){t.$set(t.productForm,"category",e)},expression:"productForm.category"}}),e("v-text-field",{attrs:{label:"الوحدة (مثل متر / لوح)",outlined:"",dense:""},model:{value:t.productForm.unit,callback:function(e){t.$set(t.productForm,"unit",e)},expression:"productForm.unit"}}),e("v-text-field",{attrs:{label:"الخصم (إن وجد)",outlined:"",dense:""},model:{value:t.productForm.discount,callback:function(e){t.$set(t.productForm,"discount",e)},expression:"productForm.discount"}}),e("v-file-input",{attrs:{label:"صور المنتج",multiple:"","show-size":"",outlined:"",dense:""},on:{change:t.handleImageUpload}}),e("div",{staticClass:"flex flex-wrap mt-2 gap-2"},t._l(t.productForm.images,(function(a,s){return e("div",{key:s,staticClass:"relative w-24 h-24"},[e("img",{attrs:{src:t.getImageSrc(a),height:"80",width:"80"}}),e("v-btn",{staticClass:"absolute top-0 right-0",attrs:{icon:"",small:""},on:{click:function(e){return t.removeImage(s)}}},[e("v-icon",{attrs:{small:""}},[t._v("mdi-close")])],1)],1)})),0),e("v-combobox",{attrs:{label:"الألوان المتوفرة",multiple:"",outlined:"",dense:"",clearable:"",chips:""},model:{value:t.productForm.colors,callback:function(e){t.$set(t.productForm,"colors",e)},expression:"productForm.colors"}}),e("v-combobox",{attrs:{label:"المميزات مثل : مقاوم لرطوبه ",multiple:"",outlined:"",dense:"",clearable:"",chips:""},model:{value:t.productForm.Feature,callback:function(e){t.$set(t.productForm,"Feature",e)},expression:"productForm.Feature"}})],1),e("v-card-actions",{staticClass:"justify-end"},[e("v-btn",{attrs:{text:""},on:{click:function(e){t.showProductDialog=!1}}},[t._v("إلغاء")]),e("v-btn",{attrs:{loading:t.loading,color:"primary"},on:{click:t.saveProduct}},[t._v("حفظ")])],1)],1)],1),e("v-dialog",{attrs:{"max-width":"500"},model:{value:t.showCategoryDialog,callback:function(e){t.showCategoryDialog=e},expression:"showCategoryDialog"}},[e("v-card",[e("v-card-title",{staticClass:"text-right"},[t._v("إضافة تصنيف")]),e("v-card-text",[e("v-text-field",{attrs:{label:"اسم التصنيف",outlined:"",dense:""},model:{value:t.categoryForm.name,callback:function(e){t.$set(t.categoryForm,"name",e)},expression:"categoryForm.name"}})],1),e("v-card-actions",{staticClass:"justify-end"},[e("v-btn",{attrs:{text:""},on:{click:function(e){t.showCategoryDialog=!1}}},[t._v("إلغاء")]),e("v-btn",{attrs:{loading:t.loading,color:"primary"},on:{click:t.saveCategory}},[t._v("حفظ")])],1)],1)],1)],1)},jh=[];a("88a7"),a("271a"),a("5494");const Mh=Object(y["c"])("portfolioStore",{state:()=>({categories:[],products:[],lastVisibleDoc:null,endReached:!1,loading:!1}),actions:{async fetchCategories(t){this.loading=!0;const e=await m.collection("portfolioCategories").where("userId","==",t).get();this.categories=e.docs.map(t=>({id:t.id,...t.data()})),this.loading=!1},async fetchProducts(t){this.loading=!0;try{const e=await m.collection("portfolioProducts").where("userId","==",t).limit(5).get();this.products=e.docs.map(t=>({id:t.id,...t.data()})),this.lastVisibleDoc=e.docs[e.docs.length-1],this.endReached=e.docs.length<5}catch(e){console.error("خطأ في جلب المنتجات:",e)}finally{this.loading=!1}},async loadMore(t){if(!this.endReached&&this.lastVisibleDoc){this.loading=!0;try{const e=await m.collection("portfolioProducts").where("userId","==",t).startAfter(this.lastVisibleDoc).limit(5).get(),a=e.docs.map(t=>({id:t.id,...t.data()}));this.products.push(...a),e.docs.length<5?this.endReached=!0:this.lastVisibleDoc=e.docs[e.docs.length-1]}catch(e){console.error("خطأ في تحميل المزيد:",e)}finally{this.loading=!1}}},async searchProducts(t,e,a="name"){if(!e)return this.products=[],this.lastVisibleDoc=null,this.endReached=!1,this.fetchProducts(t);this.loading=!0;try{let s=m.collection("portfolioProducts").where("userId","==",t);switch(a){case"name":s=s.where("keywords","array-contains",e);break;case"category":s=s.where("keywordsCategory","array-contains",e);break;case"color":s=s.where("keywordsColors","array-contains",e);break;case"Feature":s=s.where("keywordsFeature","array-contains",e);break;case"price":s=s.where("keywordsPrice","array-contains",e);break;default:s=s.where("keywords","array-contains",e);break}const r=await s.get();this.products=r.docs.map(t=>({id:t.id,...t.data()})),this.lastVisibleDoc=null,this.endReached=!0}catch(s){console.error("خطأ في البحث عن المنتجات:",s)}finally{this.loading=!1}},async addCategory(t){this.loading=!0;const e=await m.collection("portfolioCategories").add(t);this.categories.push({id:e.id,...t}),this.loading=!1},async deleteCategory(t){await m.collection("portfolioCategories").doc(t).delete(),this.categories=this.categories.filter(e=>e.id!==t)},async updateCategory(t,e){this.loading=!0,await m.collection("portfolioCategories").doc(t).update(e);const a=this.categories.findIndex(e=>e.id===t);-1!==a&&(this.categories[a]={id:t,...e}),this.loading=!1},async uploadImageToImgBB(t){const e="a70bc1d60d105c80b4eb207fb2ca3ba1",a=new FormData;a.append("image",t);const s=await fetch("https://api.imgbb.com/1/upload?key="+e,{method:"POST",body:a}),r=await s.json();if(!s.ok||!r.success)throw new Error("رفع الصورة فشل");return r.data.url},async addProduct(t){this.loading=!0;try{const e={...t,createdAt:new Date},a=await m.collection("portfolioProducts").add(e);this.products.push({id:a.id,...e})}catch(e){console.error("حدث خطأ أثناء إضافة المنتج:",e)}finally{this.loading=!1}},async deleteProduct(t){this.loading=!0;try{await m.collection("portfolioProducts").doc(t).delete(),this.products=this.products.filter(e=>e.id!==t)}catch(e){console.error("حدث خطأ أثناء حذف المنتج:",e)}finally{this.loading=!1}},async updateProduct(t,e){this.loading=!0,await m.collection("portfolioProducts").doc(t).update(e);const a=this.products.findIndex(e=>e.id===t);-1!==a&&(this.products[a]={id:t,...e}),this.loading=!1}}});var Uh={data(){return{tenant:null,tenantUid:null,loadingTenant:!0,tenantError:null}},computed:{companyName(){return this.$route.params.companyName}},methods:{...Object(y["d"])(k,["fetchTenantByCompanyName"]),async fetchTenantUid(){this.loadingTenant=!0;try{const t=await this.fetchTenantByCompanyName(this.companyName);this.tenant=t,this.tenantUid=(null===t||void 0===t?void 0:t.uid)||null}catch(t){this.tenantError=t,console.error("خطأ أثناء جلب بيانات التينانت:",t)}finally{this.loadingTenant=!1}}},created(){this.fetchTenantUid()}},Eh={methods:{generateKeywords(t){const e=t=>{const e=[];t=t.toLowerCase();for(let a=1;a<=t.length;a++)e.push(t.slice(0,a));return e},a=[];return Array.isArray(t)?(t.forEach(t=>{const s=e(t);a.push(...s)}),a):"string"===typeof t?e(t):[]}}},Rh={name:"HandelCatalog",mixins:[Eh,Uh],data(){return{searchQuery:"",visibleCount:5,showProductDialog:!1,showCategoryDialog:!1,productForm:{name:"",description:"",size:"",price:"",category:null,unit:"",colors:[],Feature:[],discount:"",images:[]},categoryForm:{name:""}}},computed:{...Object(y["e"])(Mh,["products","categories","loading","endReached"])},methods:{...Object(y["d"])(Mh,["fetchCategories","fetchProducts","addCategory","updateCategory","deleteCategory","addProduct","updateProduct","deleteProduct","searchProducts","loadMore","uploadImageToImgBB"]),async saveProduct(){const t={...this.productForm};t.userId=this.tenantUid,t.keywords=this.generateKeywords(t.name),t.keywordsCategory=this.generateKeywords(t.category),t.keywordsPrice=this.generateKeywords(t.price),t.keywordsColors=this.generateKeywords(t.colors),t.keywordsFeature=this.generateKeywords(t.Feature);const e=[];if(t.images&&t.images.length>0)for(const a of t.images)if("string"===typeof a)e.push(a);else if(a instanceof File){const t=await this.uploadImageToImgBB(a);e.push(t)}else console.warn("صورة غير صالحة في المعرض:",a);else console.warn("لا توجد صور في المعرض للرفع");t.images=e,t.id?await this.updateProduct(t.id,t):await this.addProduct(t),this.resetProductForm(),this.showProductDialog=!1},async saveCategory(){const t={...this.categoryForm};t.userId=this.tenantUid,t.id?await this.updateCategory(t.id,t):await this.addCategory(t),this.categoryForm={name:""},this.showCategoryDialog=!1},editProduct(t){this.productForm={...t},this.showProductDialog=!0},async HandeldeleteProduct(t){confirm("هل أنت متأكد من حذف المنتج؟")&&await this.deleteProduct(t)},editCategory(t){this.categoryForm={...t},this.showCategoryDialog=!0},async deleteCategory(t){confirm("هل أنت متأكد من حذف التصنيف؟")&&await this.deleteCategory(t)},handleImageUpload(t){if(!t)return;const e=this.productForm.images.length+t.length;if(e>4){const e=4-this.form.gallery.length,a=t.slice(0,e);this.productForm.images(...a)}else this.productForm.images.push(...t)},resetProductForm(){this.productForm={name:"",description:"",size:"",price:"",category:null,unit:"",colors:[],Feature:[],discount:"",images:[]}},getImageSrc(t){return"string"===typeof t?t:URL.createObjectURL(t)},removeImage(t){this.productForm.images.splice(t,1)}},watch:{tenantUid(t){t&&(console.log("userId",t),this.fetchCategories(t),this.fetchProducts(t))},searchQuery:function(){this.searchProducts(this.tenantUid,this.searchQuery)}}},Qh=Rh,Vh=Object(l["a"])(Qh,Nh,jh,!1,null,"86a1d292",null),Hh=Vh.exports,Gh=function(){var t=this,e=t._self._c;return e("div",[e("v-row",{staticClass:"mb-4"},[e("v-col",{attrs:{cols:"12"}},[e("h3",{staticClass:"text-right"},[t._v("الخدمات المتاحة")])])],1),e("v-row",{staticClass:"mb-4"},[e("v-col",{attrs:{cols:"12"}},[e("v-btn",{staticStyle:{width:"120px"},attrs:{color:"primary"},on:{click:function(e){t.dialogAddService=!0}}},[t._v("+ إضافة خدمة")])],1)],1),e("v-list",{attrs:{"two-line":""}},t._l(t.services,(function(a,s){return e("v-list-item",{key:s,staticClass:"mb-2"},[e("v-list-item-content",[e("v-list-item-title",[t._v(t._s(a.name))]),e("v-list-item-subtitle",[t._v(t._s(a.description)+" - "+t._s(a.price))])],1),e("v-list-item-action",{staticStyle:{display:"flex !important","flex-direction":"row !important","justify-content":"space-evenly"}},[e("v-btn",{attrs:{icon:"",small:""},on:{click:function(e){return t.viewService(a)}}},[e("v-icon",[t._v("mdi-eye")])],1),e("v-btn",{attrs:{icon:"",small:""},on:{click:function(e){return t.editService(a,s)}}},[e("v-icon",[t._v("mdi-pencil")])],1),e("v-btn",{attrs:{icon:"",small:"",color:"red"},on:{click:function(e){return t.handeldeleteService(s)}}},[e("v-icon",[t._v("mdi-delete")])],1)],1)],1)})),1),e("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialogAddService,callback:function(e){t.dialogAddService=e},expression:"dialogAddService"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"text-h6"},[t._v(t._s(null!==t.editedIndex?"تعديل خدمة":"إضافة خدمة"))])]),e("v-card-text",[e("v-text-field",{attrs:{label:"اسم الخدمة",outlined:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),e("v-text-field",{attrs:{label:"وصف الخدمة",outlined:""},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}}),e("v-text-field",{attrs:{label:"السعر",outlined:""},model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}}),e("v-divider",{staticClass:"my-4"}),e("h4",{staticClass:"mb-2"},[t._v("تفاصيل إضافية")]),t._l(t.form.specifications,(function(a,s){return e("v-row",{key:s,staticClass:"mb-2"},[e("v-col",{attrs:{cols:"5"}},[e("v-text-field",{attrs:{label:"العنصر"},model:{value:a.label,callback:function(e){t.$set(a,"label",e)},expression:"spec.label"}})],1),e("v-col",{attrs:{cols:"5"}},[e("v-text-field",{attrs:{label:"القيمة"},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"spec.value"}})],1),e("v-col",{attrs:{cols:"2"}},[e("v-btn",{attrs:{icon:""},on:{click:function(e){return t.removeSpecification(s)}}},[e("v-icon",[t._v("mdi-delete")])],1)],1)],1)})),e("v-btn",{staticStyle:{width:"140px"},attrs:{text:"",small:""},on:{click:t.addSpecification}},[t._v("+ إضافة عنصر إضافي")]),e("v-divider",{staticClass:"my-4"}),e("v-textarea",{attrs:{label:"العرض الترويجي (اختياري)",outlined:""},model:{value:t.form.offer,callback:function(e){t.$set(t.form,"offer",e)},expression:"form.offer"}})],2),e("v-card-actions",{staticClass:"justify-end"},[e("v-btn",{attrs:{text:""},on:{click:t.resetForm}},[t._v("إلغاء")]),e("v-btn",{attrs:{loading:t.loading,color:"primary"},on:{click:t.saveService}},[t._v("حفظ")])],1)],1)],1),e("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialogViewService,callback:function(e){t.dialogViewService=e},expression:"dialogViewService"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"text-h6"},[t._v("عرض الخدمة")])]),e("v-card-text",[e("p",[e("strong",[t._v("الاسم:")]),t._v(" "+t._s(t.selectedService.name))]),e("p",[e("strong",[t._v("الوصف:")]),t._v(" "+t._s(t.selectedService.description))]),e("p",[e("strong",[t._v("السعر:")]),t._v(" "+t._s(t.selectedService.price))]),t.selectedService.specifications&&t.selectedService.specifications.length?e("div",[e("h4",{staticClass:"mt-4 mb-2"},[t._v("المواصفات الإضافية:")]),e("ul",t._l(t.selectedService.specifications,(function(a,s){return e("li",{key:s},[t._v(" "+t._s(a.label)+": "+t._s(a.value)+" ")])})),0)]):t._e(),t.selectedService.offer?e("div",[e("h4",{staticClass:"mt-4 mb-2"},[t._v("العرض الترويجي:")]),e("p",[t._v(t._s(t.selectedService.offer))])]):t._e()]),e("v-card-actions",{staticClass:"justify-end"},[e("v-btn",{attrs:{text:""},on:{click:function(e){t.dialogViewService=!1}}},[t._v("إغلاق")])],1)],1)],1)],1)},Wh=[];const zh=Object(y["c"])("services",{state:()=>({services:[],loading:!1,paginatedServices:[],lastVisibleDoc:null,endReached:!1}),actions:{async fetchServices(t){this.loading=!0;try{const e=await m.collection("portfolioServices").where("userId","==",t).get();this.services=e.docs.map(t=>({id:t.id,...t.data()}))}catch(e){console.error("خطأ أثناء جلب الخدمات:",e)}finally{this.loading=!1}},async fetchInitialServices(t){this.loading=!0;try{const e=await m.collection("portfolioServices").where("userId","==",t).limit(4).get();this.paginatedServices=e.docs.map(t=>({id:t.id,...t.data()})),this.lastVisibleDoc=e.docs[e.docs.length-1],this.endReached=e.docs.length<4}catch(e){console.error("❌ فشل في جلب أول دفعة من الخدمات",e)}finally{this.loading=!1}},async loadMoreServices(t){if(!this.endReached&&this.lastVisibleDoc){this.loading=!0;try{const e=await m.collection("portfolioServices").where("userId","==",t).startAfter(this.lastVisibleDoc).limit(4).get(),a=e.docs.map(t=>({id:t.id,...t.data()}));this.paginatedServices.push(...a),this.lastVisibleDoc=e.docs[e.docs.length-1],this.endReached=e.docs.length<4}catch(e){console.error("❌ خطأ في تحميل المزيد من الخدمات",e)}finally{this.loading=!1}}},async resetServices(t){await this.fetchInitialServices(t)},async addService(t){this.loading=!0;try{const e={...t,createdAt:new Date},a=await m.collection("portfolioServices").add(e);this.services.push({id:a.id,...e})}catch(e){console.error("خطأ أثناء إضافة الخدمة:",e)}finally{this.loading=!1}},async updateService(t,e){this.loading=!0;try{await m.collection("portfolioServices").doc(t).update(e);const a=this.services.findIndex(e=>e.id===t);-1!==a&&(this.services[a]={id:t,...e})}catch(a){console.error("خطأ أثناء تحديث الخدمة:",a)}finally{this.loading=!1}},async deleteService(t){try{await m.collection("portfolioServices").doc(t).delete(),this.services=this.services.filter(e=>e.id!==t)}catch(e){console.error("خطأ أثناء حذف الخدمة:",e)}}}});var $h={mixins:[Uh],data(){return{dialogAddService:!1,dialogViewService:!1,editedIndex:null,selectedService:{},form:{name:"",description:"",price:"",specifications:[],offer:""}}},computed:{...Object(y["e"])(zh,["services","loading"])},methods:{...Object(y["d"])(zh,["fetchServices","addService","updateService","deleteService"]),resetForm(){this.form={name:"",description:"",price:"",specifications:[],offer:""},this.dialogAddService=!1,this.editedIndex=null},async saveService(){const t={...this.form};if(t.userId=this.tenantUid,null!==this.editedIndex){const e=this.services[this.editedIndex].id;await this.updateService(e,t)}else await this.addService(t);this.resetForm()},editService(t,e){this.form={...t,specifications:[...t.specifications||[]]},this.editedIndex=e,this.dialogAddService=!0},async handeldeleteService(t){const e=this.services[t].id;await this.deleteService(e)},viewService(t){this.selectedService=t,this.dialogViewService=!0},addSpecification(){this.form.specifications.push({label:"",value:""})},removeSpecification(t){this.form.specifications.splice(t,1)}},watch:{tenantUid(t){t&&(console.log("userId",t),this.fetchServices(t))}}},Zh=$h,Yh=(a("e963"),Object(l["a"])(Zh,Gh,Wh,!1,null,"3e050b32",null)),Kh=Yh.exports,Xh=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"flex justify-between items-center",staticStyle:{"margin-bottom":"20px"}},[e("h3",{staticClass:"text-right text-lg font-bold"},[t._v("المشاريع")]),e("div",{staticClass:"flex search-products-catalog justify-between items-center gap-2",staticStyle:{display:"flex !important","flex-direction":"row !important"}},[e("v-btn",{staticStyle:{width:"120px","margin-left":"10px"},attrs:{color:"orange darken-2",dark:""},on:{click:function(e){return t.openForm()}}},[e("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" إضافة مشروع ")],1),e("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"ابحث بعنوان المشروع","hide-details":"",dense:"",solo:""},on:{input:t.handleSearch},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}})],1)]),t.loading?e("div",{staticClass:"d-flex justify-center my-5"},[e("v-progress-circular",{attrs:{indeterminate:"",color:"primary",size:"50"}})],1):t._e(),e("v-row",t._l(t.projects,(function(a){return e("v-col",{key:a.id,attrs:{cols:"12",sm:"6",md:"4"}},[e("v-card",[e("v-img",{attrs:{src:a.cover,height:"200px"}}),e("v-card-title",[t._v(t._s(a.title))]),e("v-card-subtitle",[e("v-chip",{attrs:{color:"amber lighten-4",small:""}},[t._v(t._s(a.category))]),e("v-icon",{staticClass:"ml-1",attrs:{small:""}},[t._v("mdi-map-marker")]),t._v(" "+t._s(a.location)+" ")],1),e("v-card-actions",{staticClass:"justify-end"},[e("v-btn",{attrs:{icon:""},on:{click:function(e){return t.viewProject(a)}}},[e("v-icon",[t._v("mdi-eye")])],1),e("v-btn",{attrs:{icon:""},on:{click:function(e){return t.editProject(a,a.id)}}},[e("v-icon",[t._v("mdi-pencil")])],1),e("v-btn",{attrs:{icon:""},on:{click:function(e){return t.handelDeleteProjects(a.id)}}},[e("v-icon",{attrs:{color:"red"}},[t._v("mdi-delete")])],1)],1)],1)],1)})),1),t.endReached||t.loading?t._e():e("v-btn",{staticClass:"mt-4",attrs:{block:"",color:"primary"},on:{click:t.handelloadMore}},[t._v(" تحميل المزيد ")]),t.selectedProject?e("ProjectDialog",{attrs:{visible:t.viewDialog,project:t.selectedProject,index:t.selectedIndex,loadingNext:t.loading},on:{close:function(e){t.viewDialog=!1},next:t.handleNextProject,prev:t.handlePrevProject}}):t._e(),e("v-dialog",{attrs:{"max-width":"800"},model:{value:t.formDialog,callback:function(e){t.formDialog=e},expression:"formDialog"}},[e("v-card",{staticStyle:{direction:"rtl"}},[e("v-form",{ref:"formRef"},[e("v-card-title",[t._v(t._s(t.form.id?"تعديل مشروع":"إضافة مشروع"))]),e("v-card-text",[e("v-container",[e("v-text-field",{attrs:{rules:[t=>!!t||"هذا الحقل مطلوب"],required:"",label:"عنوان المشروع"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}}),e("v-text-field",{attrs:{rules:[t=>!!t||"هذا الحقل مطلوب"],label:"عنوان فرعي",required:""},model:{value:t.form.subtitle,callback:function(e){t.$set(t.form,"subtitle",e)},expression:"form.subtitle"}}),e("v-select",{attrs:{rules:[t=>!!t||"من فضلك أدخل تصنيف المشروع"],items:t.services,"item-text":"name","item-value":"name",label:"التصنيف المشروع مثل مظابخ ",outlined:"",dense:""},model:{value:t.form.category,callback:function(e){t.$set(t.form,"category",e)},expression:"form.category"}}),e("v-text-field",{attrs:{rules:[t=>!!t||"من فضلك أدخل موقع المشروع"],label:"الموقع"},model:{value:t.form.location,callback:function(e){t.$set(t.form,"location",e)},expression:"form.location"}}),e("v-textarea",{attrs:{rules:[t=>!!t||"من فضلك أدخل وصف المشروع"],label:"الوصف"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}}),e("v-text-field",{attrs:{label:"الخامات المستخدمة"},model:{value:t.form.materials,callback:function(e){t.$set(t.form,"materials",e)},expression:"form.materials"}}),e("v-text-field",{attrs:{label:"مدة المشروع"},model:{value:t.form.duration,callback:function(e){t.$set(t.form,"duration",e)},expression:"form.duration"}}),e("v-textarea",{attrs:{label:"رأي العميل"},model:{value:t.form.testimonial,callback:function(e){t.$set(t.form,"testimonial",e)},expression:"form.testimonial"}}),e("v-text-field",{attrs:{label:"اسم العميل"},model:{value:t.form.client,callback:function(e){t.$set(t.form,"client",e)},expression:"form.client"}}),e("v-file-input",{attrs:{label:"صورة الغلاف",accept:"image/*","prepend-icon":"mdi-image","show-size":"",clearable:""},on:{"click:clear":function(e){t.form.cover=null}},model:{value:t.form.cover,callback:function(e){t.$set(t.form,"cover",e)},expression:"form.cover"}}),e("v-file-input",{attrs:{label:"صور إضافية (حد أقصى 4 صور)",accept:"image/*",multiple:"",counter:t.galleryCounter,"prepend-icon":"mdi-image-multiple","show-size":"",clearable:"",rules:[t=>!t||t.length<=4||"مسموح بحد أقصى ٤ صور"]},on:{"click:clear":function(e){t.form.gallery=[]},change:t.handleGalleryUpload}}),t.form.gallery&&t.form.gallery.length?e("div",{staticClass:"mt-2"},[e("div",{staticClass:"d-flex flex-wrap"},t._l(t.form.gallery,(function(a,s){return e("div",{key:s,staticClass:"mr-2 mb-2"},[e("v-img",{attrs:{src:t.getImageSrc(a),height:"80",width:"80",contain:""}}),e("v-btn",{attrs:{"x-small":"",color:"red",icon:""},on:{click:function(e){return t.removeImage(s)}}},[e("v-icon",{attrs:{small:""}},[t._v("mdi-close")])],1)],1)})),0)]):t._e(),e("v-text-field",{attrs:{label:"روابط فيديوهات (اختياري)","prepend-icon":"mdi-video",rules:[e=>!e||t.validURL(e)||"الرابط غير صحيح"]},model:{value:t.newVideoUrl,callback:function(e){t.newVideoUrl=e},expression:"newVideoUrl"}}),e("button",{staticStyle:{width:"80px","background-color":"blue",color:"white","margin-bottom":"15px"},attrs:{dark:""},on:{click:t.addVideo}},[t._v("اضافة الرابط")]),e("div",[e("label",[t._v("روابط الفيديو:")]),t._l(t.form.videoUrls,(function(a,s){return e("div",{key:s,staticClass:"mb-2 flex items-center gap-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.videoUrls[s],expression:"form.videoUrls[index]"}],staticClass:"input-style",attrs:{type:"text",placeholder:"Video URL"},domProps:{value:t.form.videoUrls[s]},on:{input:function(e){e.target.composing||t.$set(t.form.videoUrls,s,e.target.value)}}}),e("button",{on:{click:function(e){return t.removeVideo(s)}}},[t._v("❌")])])}))],2)],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"grey"},on:{click:function(e){t.formDialog=!1}}},[t._v("إلغاء")]),e("v-btn",{attrs:{loading:t.saving,disabled:t.saving,color:"orange darken-2",dark:""},on:{click:t.saveProject}},[t._v("حفظ")])],1)],1)],1)],1)],1)},Jh=[];const tm=Object(y["c"])("projectsStore",{state:()=>({projects:[],lastVisibleDoc:null,endReached:!1,loading:!1}),actions:{async fetchProjects(t){this.loading=!0;try{const e=await m.collection("portfolioProjects").where("userId","==",t).limit(5).get();this.projects=e.docs.map(t=>({...t.data(),id:t.id})),this.lastVisibleDoc=e.docs[e.docs.length-1],this.endReached=e.docs.length<5,console.log("pro",this.projects)}catch(e){console.error("❌ فشل في جلب المشاريع",e)}finally{this.loading=!1}},async loadMore(t){if(!this.endReached&&this.lastVisibleDoc){this.loading=!0;try{const e=await m.collection("portfolioProjects").where("userId","==",t).startAfter(this.lastVisibleDoc).limit(5).get(),a=e.docs.map(t=>({id:t.id,...t.data()}));this.projects.push(...a),this.lastVisibleDoc=e.docs[e.docs.length-1],this.endReached=e.docs.length<5}catch(e){console.error("❌ خطأ في تحميل المزيد من المشاريع",e)}finally{this.loading=!1}}},async searchProjects(t,e){this.loading=!0;try{const a=await m.collection("portfolioProjects").where("userId","==",t).where("keywords","array-contains",e.toLowerCase()).get();this.projects=a.docs.map(t=>({id:t.id,...t.data()})),this.lastVisibleDoc=null,this.endReached=!0}catch(a){console.error("❌ خطأ في البحث عن المشاريع",a)}finally{this.loading=!1}},async searchProjectsByService(t,e){this.loading=!0;try{const a=await m.collection("portfolioProjects").where("userId","==",t).where("keywordsService","array-contains",e.toLowerCase()).get();this.projects=a.docs.map(t=>({id:t.id,...t.data()})),this.lastVisibleDoc=null,this.endReached=!0}catch(a){console.error("❌ خطأ في البحث عن المشاريع",a)}finally{this.loading=!1}},async addProject(t){try{const e=await m.collection("portfolioProjects").add({...t,createdAt:new Date});this.projects.unshift({id:e.id,...t})}catch(e){console.error("❌ فشل في إضافة المشروع",e)}},async updateProject(t){try{const{id:e,...a}=t;await m.collection("portfolioProjects").doc(e).update(a);const s=this.projects.findIndex(t=>t.id===e);-1!==s&&(this.projects[s]={id:e,...a})}catch(e){console.error("❌ فشل في تعديل المشروع",e)}},async deleteProject(t){try{await m.collection("portfolioProjects").doc(t).delete(),this.projects=this.projects.filter(e=>e.id!==t)}catch(e){console.error("❌ فشل في حذف المشروع",e)}},async uploadImageToImgBB(t){const e="a70bc1d60d105c80b4eb207fb2ca3ba1",a=new FormData;a.append("image",t);const s=await fetch("https://api.imgbb.com/1/upload?key="+e,{method:"POST",body:a}),r=await s.json();if(!s.ok||!r.success)throw new Error("رفع الصورة فشل");return r.data.url}}});var em=function(){var t,e,a,s=this,r=s._self._c;return r("v-dialog",{attrs:{"max-width":"960",scrollable:""},model:{value:s.visible,callback:function(t){s.visible=t},expression:"visible"}},[r("v-card",[r("v-card-title",{staticClass:"text-h6 font-weight-bold"},[s._v(" "+s._s(s.project.title)+" "),r("v-spacer"),r("v-btn",{attrs:{icon:""},on:{click:function(t){return s.$emit("close")}}},[r("v-icon",[s._v("mdi-close")])],1)],1),r("v-card-text",[r("v-container",{attrs:{fluid:""}},[r("v-row",[r("v-col",{attrs:{cols:"12",md:"6"}},[r("div",{staticClass:"main-preview mb-4",on:{click:s.handleMainClick}},["image"===(null===(t=s.currentMedia)||void 0===t?void 0:t.type)?r("v-img",{attrs:{src:null===(e=s.currentMedia)||void 0===e?void 0:e.url,height:"250",contain:""}}):"video"===(null===(a=s.currentMedia)||void 0===a?void 0:a.type)?r("div",{staticClass:"video-thumb-main"},[r("v-img",{attrs:{src:s.project.cover,height:"250",cover:""}}),r("div",{staticClass:"video-overlay-main"},[r("v-icon",{attrs:{color:"white",size:"48"}},[s._v("mdi-play-circle")])],1)],1):s._e()],1),r("v-row",{attrs:{dense:""}},s._l(s.mediaItems,(function(t,e){var a;return r("v-col",{key:e,staticClass:"clickable",class:{bordered:t.url===(null===(a=s.currentMedia)||void 0===a?void 0:a.url)},attrs:{cols:"4"},on:{click:function(e){s.currentMedia=t}}},["image"===t.type?r("v-img",{attrs:{src:t.url,height:"80",contain:""}}):"video"===t.type?r("div",{staticClass:"video-thumb",on:{click:function(e){return s.openVideoInNewTab(t.url)}}},[r("div",{staticClass:"video-overlay"},[r("v-icon",{attrs:{color:"white"}},[s._v("mdi-play-circle")])],1),r("v-img",{attrs:{src:s.project.cover,height:"80",cover:""}})],1):s._e()],1)})),1)],1),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-chip",{staticClass:"mb-1",attrs:{color:"amber lighten-4",small:""}},[s._v(s._s(s.project.category))]),r("v-icon",{staticClass:"ml-1",attrs:{small:""}},[s._v("mdi-map-marker")]),s._v(" "+s._s(s.project.location)+" "),r("p",{staticClass:"mt-2"},[s._v(s._s(s.project.description))]),r("div",{staticClass:"mt-2"},[r("strong",[s._v("Materials Used")]),r("br"),s._v(" "+s._s(s.project.materials)+" ")]),r("div",{staticClass:"mt-2"},[r("strong",[s._v("Project Duration")]),r("br"),s._v(" "+s._s(s.project.duration)+" ")]),r("div",{staticClass:"mt-2"},[r("strong",[s._v("Client Testimonial")]),r("v-card",{staticClass:"mt-1 pa-2",attrs:{color:"grey lighten-4",outlined:""}},[r("em",[s._v('"'+s._s(s.project.testimonial)+'"')]),r("br"),r("strong",[s._v("— "+s._s(s.project.client))])])],1)],1)],1)],1)],1),r("v-card-actions",{staticClass:"justify-space-between"},[r("v-btn",{staticClass:"Previous",attrs:{color:"grey",disabled:!s.canGoPrev},on:{click:function(t){return s.$emit("prev")}}},[s._v("Previous")]),r("v-btn",{attrs:{color:"orange darken-1",dark:"",loading:s.loadingNext},on:{click:function(t){return s.$emit("next")}}},[s._v("Next")])],1)],1)],1)},am=[],sm={props:{visible:Boolean,project:Object,index:Number,loadingNext:Boolean},data(){return{currentMedia:null}},methods:{openVideoInNewTab(t){window.open(t,"_blank")},handleMainClick(){var t;"video"===(null===(t=this.currentMedia)||void 0===t?void 0:t.type)&&this.openVideoInNewTab(this.currentMedia.url)}},watch:{project:{handler(t){var e,a;null!==t&&void 0!==t&&null!==(e=t.gallery)&&void 0!==e&&e.length?this.currentMedia={url:t.gallery[0],type:"image"}:null!==t&&void 0!==t&&null!==(a=t.videoUrls)&&void 0!==a&&a.length?this.currentMedia={url:t.videoUrls[0],type:"video"}:this.currentMedia=null},immediate:!0}},computed:{mediaItems(){const t=(this.project.gallery||[]).map(t=>({url:t,type:"image"})),e=(this.project.videoUrls||[]).map(t=>({url:t,type:"video"}));return[...t,...e]},canGoPrev(){return this.index>0}}},rm=sm,im=(a("fc09"),Object(l["a"])(rm,em,am,!1,null,"c81eee12",null)),om=im.exports,nm={mixins:[Eh,Uh],components:{ProjectDialog:om},data(){return{searchQuery:"",formDialog:!1,viewDialog:!1,selectedProject:null,selectedIndex:null,saving:!1,form:{id:null,title:"",subtitle:"",category:"",location:"",description:"",materials:"",duration:"",testimonial:"",client:"",cover:null,gallery:[],videoUrls:[]},newVideoUrl:"",oldCover:null}},computed:{...Object(y["e"])(tm,["projects","loading","endReached"]),...Object(y["e"])(zh,["services"]),galleryCounter(){var t;return(null===(t=this.form.gallery)||void 0===t?void 0:t.length)||0}},methods:{...Object(y["d"])(tm,["fetchProjects","loadMore","searchProjects","deleteProject","addProject","updateProject","uploadImageToImgBB"]),...Object(y["d"])(zh,["fetchServices"]),openForm(){this.resetForm(),this.formDialog=!0},resetForm(){this.form={id:null,title:"",subtitle:"",category:"",location:"",description:"",materials:"",duration:"",testimonial:"",client:"",cover:null,gallery:[],videoUrls:[]},this.newVideoUrl="",this.oldCover=""},handleGalleryUpload(t){if(!t)return;const e=this.form.gallery.length+t.length;if(e>4){const e=4-this.form.gallery.length,a=t.slice(0,e);this.form.gallery.push(...a)}else this.form.gallery.push(...t)},editProject(t,e){this.form={...t,gallery:[...t.gallery||[]],cover:null,id:e},console.log("id",e),this.oldCover=t.cover,this.formDialog=!0},async handleSearch(){this.searchQuery.trim()?await this.searchProjects(this.tenantUid,this.searchQuery.trim()):await this.fetchProjects(this.tenantUid)},async handelloadMore(){await this.loadMore(this.tenantUid)},async handelDeleteProjects(t){confirm("هل أنت متأكد من حذف الطلب؟")&&await this.deleteProject(t)},viewProject(t){this.selectedProject=t,this.selectedIndex=this.projects.findIndex(e=>e.id===t.id),this.viewDialog=!0},handleNextProject(){this.selectedIndex<this.projects.length-1?(this.selectedIndex+=1,this.selectedProject=this.projects[this.selectedIndex]):this.handelloadMore()},handlePrevProject(){this.selectedIndex>0&&(this.selectedIndex-=1,this.selectedProject=this.projects[this.selectedIndex])},async saveProject(){const t=this.$refs.formRef.validate();if(t){this.saving=!0,console.log("start");try{const t={...this.form};let e;t.userId=this.tenantUid,t.keywords=this.generateKeywords(t.title),t.keywordsService=this.generateKeywords(t.category),e=t.cover&&"string"!==typeof t.cover?await this.uploadImageToImgBB(t.cover):"string"===typeof t.cover||this.oldCover?this.oldCover:null,t.cover=e,console.log("after upload cover",t);const a=[];if(t.gallery&&t.gallery.length>0)for(const s of t.gallery)if("string"===typeof s)a.push(s);else if(s instanceof File){const t=await this.uploadImageToImgBB(s);a.push(t)}else console.warn("صورة غير صالحة في المعرض:",s);else console.warn("لا توجد صور في المعرض للرفع");console.log("after upload images"),t.gallery=a,t.id?await this.updateProject(t):await this.addProject(t),console.log("after add / edit"),this.formDialog=!1,this.resetForm()}catch(e){console.error("فشل حفظ المشروع:",e)}finally{this.saving=!1}}},getImageSrc(t){return"string"===typeof t?t:URL.createObjectURL(t)},removeImage(t){this.form.gallery.splice(t,1)},addVideo(){this.newVideoUrl&&this.validURL(this.newVideoUrl)&&(this.form.videoUrls.push(this.newVideoUrl),this.newVideoUrl="")},removeVideo(t){this.project.videoUrls.splice(t,1)},validURL(t){const e=/^(https?:\/\/)?(www\.)?([^\s.]+\.[^\s]{2,}|localhost[:?\d]*)\S*$/;return e.test(t)}},watch:{tenantUid(t){t&&(console.log("userId",t),this.fetchProjects(t),this.fetchServices(t))},searchQuery:function(){this.handleSearch(this.tenantUid,this.searchQuery)}}},lm=nm,cm=Object(l["a"])(lm,Xh,Jh,!1,null,"0cc9de14",null),dm=cm.exports,um=function(){var t=this,e=t._self._c;return e("v-container",{staticClass:"mt-8",staticStyle:{padding:"0px"},attrs:{fluid:""}},[e("v-row",{attrs:{justify:"center","no-gutters":""}},[e("v-col",{attrs:{cols:"12"}},[e("v-card",{staticClass:"pa-6",attrs:{elevation:"4"}},[e("h2",{staticClass:"mb-6"},[t._v("🎨 إعدادات القالب الخاصة بك")]),e("v-divider",{staticClass:"mb-4"}),e("h4",{staticClass:"mb-3"},[t._v("معلومات عامة")]),e("v-file-input",{attrs:{label:"ارفع لوجو شركتك","prepend-icon":"mdi-upload",accept:"image/*"},model:{value:t.form.logo,callback:function(e){t.$set(t.form,"logo",e)},expression:"form.logo"}}),e("v-text-field",{attrs:{label:"عنوان الهيرو (Hero Section)",outlined:""},model:{value:t.form.heroTitle,callback:function(e){t.$set(t.form,"heroTitle",e)},expression:"form.heroTitle"}}),e("v-textarea",{attrs:{label:"الوصف تحت العنوان",rows:"3",outlined:""},model:{value:t.form.heroDescription,callback:function(e){t.$set(t.form,"heroDescription",e)},expression:"form.heroDescription"}}),e("div",{staticClass:"text-subtitle-2 font-weight-medium mb-2"},[t._v(" لون الهوية البصرية (اختر لونًا قريبًا من شعارك) ")]),e("v-color-picker",{staticClass:"mt-6",attrs:{flat:"","hide-canvas":""},model:{value:t.form.primaryColor,callback:function(e){t.$set(t.form,"primaryColor",e)},expression:"form.primaryColor"}}),e("v-divider",{staticClass:"my-6"}),e("v-btn",{staticClass:"mb-3",attrs:{block:"",color:"secondary","prepend-icon":"mdi-chevron-down"},on:{click:t.toggleAdditionalInfo}},[t._v(" "+t._s(t.showAdditionalInfo?"إخفاء المعلومات الإضافية":"عرض معلومات إضافية")+" ")]),e("v-expand-transition",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showAdditionalInfo,expression:"showAdditionalInfo"}]},[e("h4",{staticClass:"mb-3"},[t._v("معلومات إضافية")]),e("v-text-field",{attrs:{label:"عنوان موقع البيزنس",outlined:""},model:{value:t.form.location,callback:function(e){t.$set(t.form,"location",e)},expression:"form.location"}}),e("v-text-field",{attrs:{label:"البريد الإلكتروني",outlined:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),e("v-text-field",{attrs:{label:"رقم الهاتف الأساسي للتواصل",outlined:""},model:{value:t.form.phoneNumber,callback:function(e){t.$set(t.form,"phoneNumber",e)},expression:"form.phoneNumber"}}),e("h5",{staticClass:"mt-6 mb-2"},[t._v("مواعيد العمل")]),t._l(t.form.businessHours,(function(a,s){return e("v-row",{key:s,attrs:{dense:""}},[e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-text-field",{attrs:{label:"اليوم",outlined:""},model:{value:a.day,callback:function(e){t.$set(a,"day",e)},expression:"item.day"}})],1),e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-text-field",{attrs:{label:"من",outlined:""},model:{value:a.from,callback:function(e){t.$set(a,"from",e)},expression:"item.from"}})],1),e("v-col",{attrs:{cols:"12",md:"4"}},[e("v-text-field",{attrs:{label:"إلى",outlined:""},model:{value:a.to,callback:function(e){t.$set(a,"to",e)},expression:"item.to"}})],1)],1)})),e("h5",{staticClass:"mt-6 mb-2"},[t._v("روابط السوشيال ميديا")]),e("v-text-field",{attrs:{label:"رابط فيسبوك",outlined:""},model:{value:t.form.socialLinks.facebook,callback:function(e){t.$set(t.form.socialLinks,"facebook",e)},expression:"form.socialLinks.facebook"}}),e("v-text-field",{attrs:{label:"رابط انستجرام",outlined:""},model:{value:t.form.socialLinks.instagram,callback:function(e){t.$set(t.form.socialLinks,"instagram",e)},expression:"form.socialLinks.instagram"}}),e("v-text-field",{attrs:{label:"رابط بينترست",outlined:""},model:{value:t.form.socialLinks.pinterest,callback:function(e){t.$set(t.form.socialLinks,"pinterest",e)},expression:"form.socialLinks.pinterest"}})],2)]),e("v-divider",{staticClass:"my-6"}),e("h4",{staticClass:"mb-4 mr-4"},[t._v("خيارات التواصل واتساب")]),e("v-switch",{staticClass:"mb-4",attrs:{inset:""},scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"mr-2"},[t._v("تفعيل زر الواتساب")])]},proxy:!0}]),model:{value:t.form.showWhatsApp,callback:function(e){t.$set(t.form,"showWhatsApp",e)},expression:"form.showWhatsApp"}}),t.form.showWhatsApp?e("v-text-field",{attrs:{label:"رقم الواتساب (مع كود الدولة)",placeholder:"+201234567890",outlined:""},model:{value:t.form.whatsappNumber,callback:function(e){t.$set(t.form,"whatsappNumber",e)},expression:"form.whatsappNumber"}}):t._e(),e("div",{staticClass:"coming-soon mt-8 text-center"},[e("v-icon",{attrs:{color:"deep-purple",size:"36"}},[t._v("mdi-rocket-launch")]),e("h4",{staticClass:"mb-1"},[t._v("مفاجآت قادمة! 🚀")]),e("p",{staticClass:"text-caption"},[t._v(" قريبًا هتقدر تختار من قوالب متعددة تناسب ذوقك واحتياج شركتك ✨ ")])],1),e("v-btn",{staticClass:"mt-6",attrs:{color:"primary",large:"",block:"",loading:t.loading,disabled:t.loading},on:{click:t.saveSettings}},[t._v(" حفظ الإعدادات ")])],1)],1)],1)],1)},pm=[],hm={name:"TemplateSettings",mixins:[Uh],data(){return{showAdditionalInfo:!1,oldLogo:null,form:{logo:null,heroTitle:"",heroDescription:"",primaryColor:"#f57c00",location:"",email:"",phoneNumber:"",businessHours:[{day:"Monday - Friday",from:"09:00 AM",to:"06:00 PM"},{day:"Saturday",from:"10:00 AM",to:"04:00 PM"},{day:"Sunday",from:"",to:"Closed"}],socialLinks:{facebook:"",instagram:"",pinterest:"",website:""},showWhatsApp:!1,whatsappNumber:""}}},computed:{...Object(y["e"])(Fh,["settings","loading"])},methods:{...Object(y["d"])(Fh,["uploadImageToImgBB","updateTemplateSettings","fetchTemplateSettings"]),toggleAdditionalInfo(){this.showAdditionalInfo=!this.showAdditionalInfo},async loadSettings(t){try{var e,a,s,r;if(await this.fetchTemplateSettings(t),this.settings)this.form={...this.settings,logo:this.settings.logo||null,businessHours:this.settings.businessHours||[{day:"Monday - Friday",from:"09:00 AM",to:"06:00 PM"},{day:"Saturday",from:"10:00 AM",to:"04:00 PM"},{day:"Sunday",from:"",to:"Closed"}],socialLinks:{facebook:(null===(e=this.settings.socialLinks)||void 0===e?void 0:e.facebook)||"",instagram:(null===(a=this.settings.socialLinks)||void 0===a?void 0:a.instagram)||"",pinterest:(null===(s=this.settings.socialLinks)||void 0===s?void 0:s.pinterest)||"",website:(null===(r=this.settings.socialLinks)||void 0===r?void 0:r.website)||""},showWhatsApp:this.settings.showWhatsApp||!1,whatsappNumber:this.settings.whatsappNumber||""},this.oldLogo=this.settings.logo||null}catch(i){console.error("فشل تحميل الإعدادات:",i)}},async saveSettings(){let t=null;t=this.form.logo&&"string"!==typeof this.form.logo?await this.uploadImageToImgBB(this.form.logo):"string"===typeof this.form.logo||this.oldLogo?this.oldLogo:null;const e={...this.form,logo:t,userId:this.tenantUid};this.updateTemplateSettings(e).then(()=>{console.log("تم حفظ الإعدادات:",e),this.$toast.success("تم تحديث الإعدادات بنجاح"),this.$emit("settings-updated",e)}).catch(t=>{console.error("خطأ أثناء حفظ الإعدادات:",t),this.$toast.error("حدث خطأ أثناء تحديث الإعدادات")})}},watch:{tenantUid(t){t&&this.loadSettings(t)}}},mm=hm,fm=(a("7ee3"),Object(l["a"])(mm,um,pm,!1,null,"51ac4707",null)),vm=fm.exports,gm=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"flex justify-between items-center"},[e("div",{staticClass:"flex search-products-catalog justify-between items-center gap-2",staticStyle:{display:"flex !important","flex-direction":"row !important"}},[e("v-btn",{staticClass:"mb-4",staticStyle:{width:"120px"},attrs:{color:"success"},on:{click:t.openAddDialog}},[e("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" إضافة طلب ")],1),e("v-text-field",{staticClass:"mb-4",attrs:{label:"بحث بالاسم أو التاريخ","prepend-icon":"mdi-magnify",outlined:"",dense:""},on:{input:t.handleSearch},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}})],1)]),e("v-list",{attrs:{"two-line":""}},t._l(t.requests,(function(a){return e("v-list-item",{key:a.id},[e("v-list-item-content",[e("v-list-item-title",[t._v(t._s(a.name))]),e("v-list-item-subtitle",[t._v(" "+t._s(a.date)+" - "+t._s(a.location)+" ")])],1),e("v-list-item-action",[e("v-chip",{staticClass:"mr-2",attrs:{color:"جاري"===a.status?"orange":"green","text-color":"white"},on:{click:function(e){return t.toggleStatus(a)}}},[t._v(" "+t._s(a.status)+" ")]),e("v-btn",{attrs:{icon:""},on:{click:function(e){return t.viewDetails(a)}}},[e("v-icon",[t._v("mdi-eye")])],1),e("v-btn",{attrs:{icon:""},on:{click:function(e){return t.handelDeleteRequest(a.id)}}},[e("v-icon",{attrs:{color:"red"}},[t._v("mdi-delete")])],1)],1)],1)})),1),t.loading||0!==t.requests.length?t._e():e("div",{staticClass:"text-center mt-4"},[e("v-icon",{attrs:{color:"grey"}},[t._v("mdi-information-outline")]),e("p",[t._v("لا يوجد طلبات حالياً")])],1),t.endReached||t.loading?t._e():e("v-btn",{staticClass:"mt-4",attrs:{block:"",color:"primary"},on:{click:t.hadelloadMore}},[t._v(" تحميل المزيد ")]),t.loading?e("v-progress-linear",{staticClass:"mt-2",attrs:{indeterminate:"",color:"primary"}}):t._e(),e("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.detailsDialog,callback:function(e){t.detailsDialog=e},expression:"detailsDialog"}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[t._v(" تفاصيل طلب المعاينة ")]),e("v-card-text",{attrs:{dir:"rtl"}},[e("v-list",{attrs:{dense:""}},[e("v-list-item",[e("v-list-item-content",[e("v-list-item-title",[t._v("الاسم:")]),e("v-list-item-subtitle",[t._v(t._s(t.selectedRequest.name))])],1)],1),e("v-list-item",[e("v-list-item-content",[e("v-list-item-title",[t._v("نوع الخدمة:")]),e("v-list-item-subtitle",[t._v(t._s(t.selectedRequest.service))])],1)],1),e("v-list-item",[e("v-list-item-content",[e("v-list-item-title",[t._v("العنوان:")]),e("v-list-item-subtitle",[t._v(t._s(t.selectedRequest.location))])],1)],1),e("v-list-item",[e("v-list-item-content",[e("v-list-item-title",[t._v("رقم الهاتف:")]),e("v-list-item-subtitle",[t._v(t._s(t.selectedRequest.phone))])],1)],1),e("v-list-item",[e("v-list-item-content",[e("v-list-item-title",[t._v("التاريخ:")]),e("v-list-item-subtitle",[t._v(t._s(t.selectedRequest.date))])],1)],1),t.selectedRequest.projectDescription?e("v-list-item",[e("v-list-item-content",[e("v-list-item-title",[t._v("وصف المضروع:")]),e("v-list-item-subtitle",[t._v(t._s(t.selectedRequest.projectDescription))])],1)],1):t._e()],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.detailsDialog=!1}}},[t._v("إغلاق")])],1)],1)],1),e("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.showRequestDialog,callback:function(e){t.showRequestDialog=e},expression:"showRequestDialog"}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[t._v("إضافة طلب جديد")]),e("v-form",{ref:"requestForm",model:{value:t.formValid,callback:function(e){t.formValid=e},expression:"formValid"}},[e("v-card-text",[e("v-text-field",{attrs:{rules:[t=>!!t||"الاسم مطلوب"],label:"الاسم"},model:{value:t.selectedRequest.name,callback:function(e){t.$set(t.selectedRequest,"name",e)},expression:"selectedRequest.name"}}),e("v-text-field",{attrs:{rules:[t=>!!t||"العنوان مطلوب"],label:"العنوان"},model:{value:t.selectedRequest.location,callback:function(e){t.$set(t.selectedRequest,"location",e)},expression:"selectedRequest.location"}}),e("v-text-field",{attrs:{rules:[t=>!!t||"رقم الهاتف مطلوب"],label:"رقم الهاتف"},model:{value:t.selectedRequest.phone,callback:function(e){t.$set(t.selectedRequest,"phone",e)},expression:"selectedRequest.phone"}}),e("v-select",{attrs:{items:t.services,"item-text":"name","item-value":"name",label:"نوع الخدمه",outlined:"",dense:""},model:{value:t.selectedRequest.service,callback:function(e){t.$set(t.selectedRequest,"service",e)},expression:"selectedRequest.service"}}),e("v-text-field",{attrs:{rules:[t=>!!t||"التاريخ مطلوب"],label:"التاريخ"},model:{value:t.selectedRequest.date,callback:function(e){t.$set(t.selectedRequest,"date",e)},expression:"selectedRequest.date"}}),e("v-textarea",{attrs:{label:"وصف المشروع"},model:{value:t.selectedRequest.projectDescription,callback:function(e){t.$set(t.selectedRequest,"projectDescription",e)},expression:"selectedRequest.projectDescription"}})],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{text:""},on:{click:function(e){t.showRequestDialog=!1}}},[t._v("إغلاق")]),e("v-btn",{attrs:{color:"primary"},on:{click:t.saveRequest}},[t._v("حفظ")])],1)],1)],1)],1)],1)},bm=[];const ym=Object(y["c"])("inspectionStore",{state:()=>({requests:[],lastVisibleDoc:null,endReached:!1,loading:!1}),actions:{async fetchRequests(t){this.loading=!0;try{const e=await m.collection("portfolioInspectionRequests").where("userId","==",t).limit(5).get();this.requests=e.docs.map(t=>({id:t.id,...t.data()})),this.lastVisibleDoc=e.docs[e.docs.length-1],this.endReached=e.docs.length<5}catch(e){console.error("فشل في جلب الطلبات",e)}finally{this.loading=!1}},async loadMore(t){if(!this.endReached&&this.lastVisibleDoc){this.loading=!0;try{const e=await m.collection("portfolioInspectionRequests").where("userId","==",t).startAfter(this.lastVisibleDoc).limit(5).get(),a=e.docs.map(t=>({id:t.id,...t.data()}));this.requests.push(...a),this.lastVisibleDoc=e.docs[e.docs.length-1],this.endReached=e.docs.length<5}catch(e){console.error("خطأ في تحميل المزيد",e)}finally{this.loading=!1}}},async searchRequests(t,e){this.loading=!0;try{let a=await m.collection("portfolioInspectionRequests").where("userId","==",t).where("keywords","array-contains",e.toLowerCase()).get();this.requests=a.docs.map(t=>({id:t.id,...t.data()})),this.lastVisibleDoc=null,this.endReached=!0}catch(a){console.error("خطأ في البحث",a)}finally{this.loading=!1}},async addRequest(t){try{const e=await m.collection("portfolioInspectionRequests").add({...t,createdAt:new Date});this.requests.unshift({id:e.id,...t})}catch(e){console.error("فشل في إضافة الطلب",e)}},async editRequest(t){try{const{id:e,...a}=t;await m.collection("portfolioInspectionRequests").doc(e).update(a);const s=this.requests.findIndex(t=>t.id===e);-1!==s&&(this.requests[s]={id:e,...a})}catch(e){console.error("فشل في تعديل الطلب",e)}},async deleteRequest(t){try{await m.collection("portfolioInspectionRequests").doc(t).delete(),this.requests=this.requests.filter(e=>e.id!==t)}catch(e){console.error("فشل في حذف الطلب",e)}},async updateRequestStatus(t,e){try{await m.collection("portfolioInspectionRequests").doc(t).update({status:e});const a=this.requests.find(e=>e.id===t);a&&(a.status=e)}catch(a){console.error("فشل في تحديث الحالة",a)}}}});var _m={mixins:[Eh,Uh],data(){return{searchQuery:"",detailsDialog:!1,selectedRequest:{},showRequestDialog:!1,isEditing:!1,formValid:!1}},methods:{...Object(y["d"])(ym,["fetchRequests","loadMore","searchRequests","deleteRequest","updateRequestStatus","addRequest","editRequest"]),...Object(y["d"])(zh,["fetchServices"]),openAddDialog(){this.selectedRequest={name:"",location:"",phone:"",date:"",projectDescription:"",status:"جاري",createdAt:new Date},this.isEditing=!1,this.showRequestDialog=!0},async saveRequest(){const t=await this.$refs.requestForm.validate();if(!t)return;const e={...this.selectedRequest};e.userId=this.tenantUid,e.keywords=this.generateKeywords(e.name),this.isEditing?await this.editRequest(e):await this.addRequest(e),this.showRequestDialog=!1,this.fetchRequests(this.tenantUid)},async handleSearch(){this.searchQuery.trim()?await this.searchRequests(this.tenantUid,this.searchQuery.trim()):await this.fetchRequests(this.tenantUid)},async hadelloadMore(){await this.loadMore(this.tenantUid)},async handelDeleteRequest(t){confirm("هل أنت متأكد من حذف الطلب؟")&&await this.deleteRequest(t)},toggleStatus(t){const e="جاري"===t.status?"تم":"جاري";this.updateRequestStatus(t.id,e)},viewDetails(t){this.selectedRequest={...t},this.isEditing=!0,this.detailsDialog=!0}},computed:{...Object(y["e"])(ym,["requests","loading","endReached"]),...Object(y["e"])(zh,["services"])},watch:{tenantUid(t){t&&(console.log("userId",t),this.fetchRequests(t),this.fetchServices(t))},searchQuery:function(){this.searchProducts(this.tenantUid,this.searchQuery)}}},Cm=_m,wm=Object(l["a"])(Cm,gm,bm,!1,null,null,null),Im=wm.exports,Pm={props:{visible:Boolean},components:{HandelCatalog:Hh,HandelService:Kh,HandelProjects:dm,HandelTemplate:vm,HandelInspectionRequests:Im},data(){return{dialog:!0,activeTab:1,selectedSection:null,allowedComponents:null,componentMap:{Catalog:"HandelCatalog",Projects:"HandelProjects",Services:"HandelService",Contact:"HandelContact"},setupOptions:[{key:"HandelCatalog",title:"الكاتالوج",icon:"mdi-folder"},{key:"HandelProjects",title:"المشاريع",icon:"mdi-briefcase"},{key:"HandelService",title:"الخدمات",icon:"mdi-cog"},{key:"HandelTemplate",title:"إعدادات القالب",icon:"mdi-tune"}]}},methods:{selectSection(t){this.selectedSection=t},...Object(y["d"])(k,["fetchTenantByCompanyName"]),...Object(y["d"])(D,["fetchTemplateById"]),async fetchAllowedComponents(t){try{const e=await this.fetchTenantByCompanyName(t),a=e.template_id,s=await this.fetchTemplateById(a);this.allowedComponents=s.components,console.log(this.allowedComponents)}catch(e){console.error(e)}}},computed:{filteredSetupOptions(){if(!this.allowedComponents)return[];const t=this.allowedComponents.map(t=>this.componentMap[t]);return t.includes("HandelTemplate")||t.push("HandelTemplate"),this.setupOptions.filter(e=>t.includes(e.key))}},mounted(){const t=this.$route.params.companyName;this.fetchAllowedComponents(t)}},km=Pm,xm=(a("17de"),Object(l["a"])(km,qh,Lh,!1,null,"1f162bea",null)),Dm=xm.exports,Om=function(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{"max-width":"650",scrollable:""},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[e("v-card",{staticClass:"rounded-xl pa-2",staticStyle:{height:"90vh","overflow-y":"auto"}},[e("v-card-title",{staticClass:"d-flex justify-space-between align-center"},[e("div",{staticClass:"catalog-label"},[t._v("Catalog")]),e("v-btn",{attrs:{icon:""},on:{click:function(e){return t.$emit("close")}}},[e("v-icon",[t._v("mdi-close")])],1)],1),e("v-row",{staticClass:"mb-4 filter-buttons",attrs:{"no-gutters":""}},t._l(t.filterOptions,(function(a){return e("v-col",{key:a.value,staticClass:"mr-2",attrs:{cols:"auto"}},[e("v-btn",{staticClass:"filter-btn",attrs:{large:"",rounded:"",color:t.selectedFilter===a.value?"orange darken-2":"grey lighten-1"},on:{click:function(e){t.selectedFilter=a.value}}},[t._v(" "+t._s(a.label)+" ")])],1)})),1),e("v-row",{staticClass:"mb-4"},[e("v-col",{staticClass:"Search-Input-Select",attrs:{cols:"12"}},[e("div",{staticClass:"search-label mb-1"},[t._v(" Search by "+t._s(t.selectedFilter))]),"category"!==t.selectedFilter?e("v-text-field",{staticClass:"full-width-input search-input",attrs:{label:"write here","hide-details":"",solo:"",flat:"",dense:"",clearable:""},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}}):e("v-select",{staticClass:"full-width-input search-input",attrs:{items:t.categories,"item-text":"name","item-value":"name",label:"Select Category",solo:"",flat:"",dense:"","hide-details":"",clearable:""},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}})],1)],1),e("v-expansion-panels",{attrs:{multiple:"",accordion:"",focusable:"",inset:""},model:{value:t.expandedPanel,callback:function(e){t.expandedPanel=e},expression:"expandedPanel"}},t._l(t.products,(function(a){return e("v-expansion-panel",{key:a.id,staticClass:"mb-2"},[e("v-expansion-panel-header",{staticClass:"pa-0"},[e("v-card",{staticClass:"d-flex align-center justify-space-between px-3 py-2",staticStyle:{width:"100%","border-radius":"16px","background-color":"#f7f7f7"},attrs:{flat:"",tile:""}},[e("div",{staticClass:"d-flex align-center over-hid"},[e("v-list-item-avatar",[e("v-img",{attrs:{src:a.images[0]}})],1),e("v-list-item-content",[e("v-list-item-title",[t._v(t._s(a.name))]),e("v-list-item-subtitle",{staticClass:"text-caption description-limited"},[t._v(t._s(a.description))]),e("div",{staticClass:"text-caption grey--text"},[t._v(t._s(a.size))])],1)],1),e("div",{staticClass:"text-right d-flex align-center"},[e("div",{staticClass:"font-weight-bold mr-2"},[t._v(t._s(a.price))]),e("v-icon",[t._v("mdi-chevron-down")])],1)])],1),e("v-expansion-panel-content",{staticClass:"py-3"},[e("ProductDetails",{attrs:{product:a}})],1)],1)})),1),t.loading?e("v-progress-linear",{staticClass:"mt-2",attrs:{indeterminate:"",color:"primary"}}):t._e(),e("div",{staticClass:"par-btns"},[t.endReached||t.loading||t.searchQuery?t._e():e("v-icon",{staticClass:"arrow-icon-portfolio down-arrow mt-4",attrs:{loading:t.loading},on:{click:function(e){return t.loadMore(t.tenantUid)}}},[t._v(" mdi-chevron-down ")])],1)],1)],1)},Sm=[],Am=function(){var t=this,e=t._self._c;return e("div",{staticClass:"product-details"},[e("h2",{staticClass:"title-catlog-details"},[t._v(t._s(t.product.name))]),e("p",{staticClass:"description-catlog-details"},[t._v(t._s(t.product.description))]),e("div",{staticClass:"colors-section"},[e("h3",{staticClass:"section-title"},[t._v("Images")]),e("div",{staticClass:"color-previews"},t._l(t.product.images,(function(t,a){return e("div",{key:a,staticClass:"color-box"},[e("img",{attrs:{src:t,alt:"Color image"}})])})),0),e("div",{staticClass:"color-select"},[e("h3",{staticClass:"section-title"},[t._v("Colors & Shapes")]),e("div",{staticClass:"color-circles"},t._l(t.product.colors,(function(a,s){return e("span",{key:s,staticClass:"circle",attrs:{title:a}},[t._v(" "+t._s(a)+" ")])})),0)])]),e("div",{staticClass:"features"},[e("h3",{staticClass:"section-title"},[t._v("Features :")]),e("ul",t._l(t.product.Feature,(function(a,s){return e("li",{key:s},[e("span",{staticClass:"arrow-catlog-details"},[t._v("▶")]),t._v(" "+t._s(a)+" ")])})),0)])])},Bm=[],Tm={name:"ProductDetails",props:{product:Object},methods:{}},Fm=Tm,qm=(a("5d2d"),Object(l["a"])(Fm,Am,Bm,!1,null,"aab232b8",null)),Lm=qm.exports,Nm={name:"CatalogDialog",mixins:[Uh],components:{ProductDetails:Lm},props:{visible:Boolean},data(){return{selectedFilter:"name",searchQuery:"",expandedProductId:null,expandedPanel:[],filterOptions:[{label:"By name",value:"name"},{label:"By category",value:"category"},{label:"By color",value:"color"},{label:"By price",value:"price"},{label:"By Feature",value:"Feature"}]}},computed:{...Object(y["e"])(Mh,["products","categories","loading","endReached"])},methods:{...Object(y["d"])(Mh,["fetchCategories","fetchProducts","searchProducts","loadMore"]),toggleProduct(t){this.expandedProductId=this.expandedProductId===t?null:t}},watch:{tenantUid(t){t&&(console.log("userId",t),this.fetchCategories(t),this.fetchProducts(t))},searchQuery:function(){this.searchProducts(this.tenantUid,this.searchQuery,this.selectedFilter)}}},jm=Nm,Mm=(a("554e"),Object(l["a"])(jm,Om,Sm,!1,null,"0b004aa6",null)),Um=Mm.exports,Em={data(){return{links:["Moonst","Cuotioos","Faltcos","Bolps","Doctiors"],isSidebarOpen:!1,dialog:!1,dialogCatalog:!1}},computed:{...Object(y["e"])(k,["isAdmin"]),...Object(y["e"])(Fh,["settings"]),logoUrl(){var t;return(null===(t=this.settings)||void 0===t?void 0:t.logo)||a("e347")}},components:{dashboardTem:Dm,CatalogDialog:Um},methods:{toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen}}},Rm=Em,Qm=(a("38dc"),Object(l["a"])(Rm,Bh,Th,!1,null,"57b72b48",null)),Vm=Qm.exports,Hm=function(){var t=this,e=t._self._c;return e("v-container",{staticClass:"hero-section d-flex align-center",attrs:{fluid:""}},[e("v-row",{staticClass:"align-center hero-content"},[e("v-col",{staticClass:"hero-text",attrs:{cols:"12",md:"6"}},[e("h1",[t._v(t._s(t.settings.heroTitle))]),e("p",[t._v(" "+t._s(t.settings.heroDescription)+" ")]),e("div",{staticClass:"action-container"},[e("v-btn",{staticClass:"catalog-btn",style:{backgroundColor:t.settings.primaryColor||"#f57c00"},on:{click:function(e){t.dialog=!0}}},[t._v("Catalog")]),e("v-avatar",{staticClass:"avatar",attrs:{size:"50"}},[e("img",{attrs:{src:t.avatarUrl||"https://i.pravatar.cc/300",alt:"User Avatar"}})])],1),e("Catalog-dialog",{attrs:{visible:t.dialog},on:{close:function(e){t.dialog=!1}}})],1),e("v-col",{staticClass:"cont-imag-hero-res",attrs:{cols:"12",md:"6"}})],1)],1)},Gm=[],Wm={props:{},components:{CatalogDialog:Um},computed:{...Object(y["e"])(Fh,["settings"]),avatarUrl(){var t;return(null===(t=this.settings)||void 0===t?void 0:t.logo)||a("e347")}},data(){return{dialog:!1}}},zm=Wm,$m=(a("9895"),Object(l["a"])(zm,Hm,Gm,!1,null,"e7b28f62",null)),Zm=$m.exports,Ym=function(){var t=this,e=t._self._c;return e("div",{staticClass:"services-section pa-5"},[e("h2",{staticClass:"font-weight-bold mb-4"},[t._v("Services")]),e("div",[t._l(t.paginatedServices,(function(a){return e("div",{key:a.id,staticClass:"mb-4 service-card-cont",staticStyle:{"border-radius":"12px !important","background-color":"#f3f4f6"}},[e("ServiceCard",{attrs:{title:a.name,price:a.price,icon:t.getRandomIcon(a.id)},on:{click:function(e){return t.toggleService(a.id)}}}),e("ServiceDetails",{attrs:{service:a,expanded:t.expandedServiceId===a.id}})],1)})),e("div",{staticClass:"par-btns"},[t.endReached||t.loading?t._e():e("v-icon",{staticClass:"arrow-icon-portfolio down-arrow mt-4",on:{click:t.loadMore}},[t._v(" mdi-chevron-down ")]),t.paginatedServices.length>4?e("v-icon",{staticClass:"arrow-icon-portfolio up-arrow mt-2",on:{click:t.resetToFirst}},[t._v(" mdi-chevron-up ")]):t._e()],1)],2)])},Km=[],Xm=function(){var t=this,e=t._self._c;return e("v-card",{staticClass:"service-card d-flex justify-space-between align-center",staticStyle:{"border-radius":"12px !important","background-color":"#f3f4f6"},attrs:{flat:"",tile:""},on:{click:function(e){return t.$emit("click")}}},[e("div",{staticClass:"d-flex align-center"},[e("v-avatar",{staticClass:"icon-wrapper",attrs:{size:"40"}},[e("v-icon",[t._v(t._s(t.icon))])],1),e("span",{staticClass:"service-title ml-4"},[t._v(t._s(t.title))])],1),e("div",{staticClass:"d-flex align-center"},[e("span",{staticClass:"service-price mr-2"},[t._v(t._s(t.price))]),e("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-right")])],1)])},Jm=[],tf={name:"ServiceCard",props:{icon:{type:String,default:"mdi-cog"},title:{type:String,required:!0},price:{type:String,required:!0}}},ef=tf,af=(a("1b8a"),Object(l["a"])(ef,Xm,Jm,!1,null,"6cb132e2",null)),sf=af.exports,rf=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.expanded,expression:"expanded"}],staticClass:"service-details-box"},[e("div",{staticClass:"details-layout"},[e("div",{staticClass:"main-content"},[e("h3",{staticClass:"section-title"},[t._v("Service Description")]),e("p",{staticClass:"mb-4"},[t._v(" "+t._s(t.service.description)+" ")]),e("ul",{staticClass:"benefits mb-4"},[e("li",[e("v-icon",{attrs:{color:"orange",small:""}},[t._v("mdi-check-circle")]),t._v(" Professional installation by certified technicians ")],1),e("li",[e("v-icon",{attrs:{color:"orange",small:""}},[t._v("mdi-check-circle")]),t._v(" Premium materials and components ")],1),e("li",[e("v-icon",{attrs:{color:"orange",small:""}},[t._v("mdi-check-circle")]),t._v(" 2-year warranty on all installations ")],1)]),e("h3",{staticClass:"section-title"},[t._v("Installation Details")]),e("div",{staticClass:"install-box mb-4"},[e("strong",[t._v("Standard Installation")]),e("p",{staticClass:"mb-0"},[t._v("Includes basic setup and configuration")]),e("p",{staticClass:"install-price"},[t._v(t._s(t.service.price))])]),e("h3",{staticClass:"section-title"},[t._v("Additional Specifications")]),e("ul",{staticClass:"specs-list mb-4"},t._l(t.service.specifications,(function(a,s){var r;return e("li",{key:s},[e("span",[t._v(t._s(a.label))]),e("span",{staticClass:"service-price"},[t._v(" "+t._s("included"===(null===(r=a.value)||void 0===r?void 0:r.toLowerCase())?"included":a.value)+" ")])])})),0)]),e("div",{staticClass:"side-box"},[e("div",{staticClass:"highlights-box"},[e("h3",{staticClass:"section-title mb-3"},[t._v("Service Highlights")]),e("ul",{staticClass:"highlight-points mb-3"},[e("li",[e("v-icon",{attrs:{left:"",color:"orange",small:""}},[t._v("mdi-timer")]),t._v(" Average completion time: 4–6 hours ")],1),e("li",[e("v-icon",{attrs:{left:"",color:"orange",small:""}},[t._v("mdi-calendar")]),t._v(" Scheduling available 7 days a week ")],1),e("li",[e("v-icon",{attrs:{left:"",color:"orange",small:""}},[t._v("mdi-tools")]),t._v(" All tools and materials provided ")],1)]),e("div",{staticClass:"limited-offer-box"},[e("h4",[t._v("Limited Time Offer")]),e("p",[t._v(" "+t._s(t.service.offer)+" ")]),e("v-btn",{staticClass:"limited-offer-btn",attrs:{color:"orange",dark:"",small:""}},[t._v(" Claim Offer ")])],1)])])])])},of=[],nf={name:"ServiceDetails",props:{service:Object,expanded:Boolean}},lf=nf,cf=(a("dee2"),Object(l["a"])(lf,rf,of,!1,null,"150f1998",null)),df=cf.exports,uf={mixins:[Uh],components:{ServiceCard:sf,ServiceDetails:df},data(){return{expandedServiceId:null,icons:["mdi-saw-blade","mdi-wall","mdi-ceiling-light","mdi-texture-box","mdi-hammer","mdi-paint","mdi-ruler","mdi-brush","mdi-lightbulb","mdi-screwdriver"]}},computed:{...Object(y["e"])(zh,["paginatedServices","endReached","loading"])},methods:{...Object(y["d"])(zh,["fetchInitialServices","loadMoreServices","resetServices"]),loadMore(){this.loadMoreServices(this.tenantUid)},resetToFirst(){this.resetServices(this.tenantUid)},toggleService(t){this.expandedServiceId=this.expandedServiceId===t?null:t},getRandomIcon(t){const e=t%this.icons.length;return this.icons[e]}},watch:{tenantUid(t){t&&this.fetchInitialServices(t)}}},pf=uf,hf=(a("a1a0"),Object(l["a"])(pf,Ym,Km,!1,null,"306fa0e8",null)),mf=hf.exports,ff=function(){var t=this,e=t._self._c;return e("div",{staticClass:"portfolio-section pa-5"},[e("div",{staticClass:"portfolio-header d-flex justify-space-between align-center mb-4"},[e("h2",{staticClass:"font-weight-bold"},[t._v("Portfolio")]),e("div",{staticClass:"custom-select"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.searchQuery=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:""}},[t._v("All")]),t._l(t.services,(function(a,s){return e("option",{key:s,domProps:{value:a.name}},[t._v(" "+t._s(a.name)+" ")])}))],2)])]),e("v-container",{attrs:{fluid:""}},[e("v-row",t._l(t.projects,(function(a,s){return e("v-col",{key:s,staticClass:"mb-4",attrs:{cols:"12",sm:"6",md:"3"}},[e("portfolio-card",{attrs:{project:a},on:{open:function(e){return t.viewProject(a)}}})],1)})),1)],1),t.endReached||t.loading?t._e():e("v-icon",{staticClass:"arrow-icon-portfolio down-arrow mt-4",on:{click:t.handelloadMore}},[t._v(" mdi-chevron-down ")]),t.selectedProject?e("project-dialog",{attrs:{visible:t.viewDialog,project:t.selectedProject,index:t.selectedIndex,loadingNext:t.loading},on:{close:function(e){t.viewDialog=!1},next:t.handleNextProject,prev:t.handlePrevProject}}):t._e()],1)},vf=[],gf=function(){var t=this,e=t._self._c;return e("v-card",{staticClass:"project-card",on:{click:function(e){return t.$emit("open",t.project)}}},[e("v-img",{attrs:{src:t.project.cover,height:"160px"}}),e("v-card-title",{staticClass:"text-truncate"},[t._v(t._s(t.project.title))]),e("v-card-subtitle",[t._v(t._s(t.project.subtitle))])],1)},bf=[],yf={props:["project"]},_f=yf,Cf=(a("ea44"),Object(l["a"])(_f,gf,bf,!1,null,"97470a10",null)),wf=Cf.exports,If={mixins:[Eh,Uh],components:{PortfolioCard:wf,ProjectDialog:om},data(){return{searchQuery:"",viewDialog:!1,selectedProject:null,selectedIndex:null}},computed:{...Object(y["e"])(tm,["projects","loading","endReached"]),...Object(y["e"])(zh,["services"])},methods:{...Object(y["d"])(tm,["fetchProjects","loadMore","searchProjectsByService","deleteProject","addProject","updateProject","uploadImageToImgBB"]),...Object(y["d"])(zh,["fetchServices"]),async handelloadMore(){await this.loadMore(this.tenantUid)},async handleSearch(){this.searchQuery.trim()?await this.searchProjectsByService(this.tenantUid,this.searchQuery.trim()):await this.fetchProjects(this.tenantUid)},viewProject(t){this.selectedProject=t,this.selectedIndex=this.projects.findIndex(e=>e.id===t.id),this.viewDialog=!0},handleNextProject(){this.selectedIndex<this.projects.length-1?(this.selectedIndex+=1,this.selectedProject=this.projects[this.selectedIndex]):this.handelloadMore()},handlePrevProject(){this.selectedIndex>0&&(this.selectedIndex-=1,this.selectedProject=this.projects[this.selectedIndex])}},watch:{tenantUid(t){t&&(console.log("userId",t),this.fetchProjects(t),this.fetchServices(t))},searchQuery:function(){this.handleSearch(this.tenantUid,this.searchQuery)}}},Pf=If,kf=(a("c6cb"),Object(l["a"])(Pf,ff,vf,!1,null,"40935ff2",null)),xf=kf.exports,Df=function(){var t=this,e=t._self._c;return e("div",{staticClass:"banner-section"},[e("div",{staticClass:"banner-overlay"},[e("div",{staticClass:"banner-content"},[e("h1",{staticClass:"banner-title"},[t._v("Transforming Spaces with Elegance")]),e("p",{staticClass:"banner-subtitle"},[t._v(" Where craftsmanship meets design to create timeless beauty in every detail. ")]),e("v-btn",{staticClass:"mt-4 explore-design",staticStyle:{width:"270px","background-color":"orange"},attrs:{color:"orange-darken-2",size:"large",dark:""}},[e("v-icon",{attrs:{start:""}},[t._v("mdi-wrench")]),t._v(" Explore Design Services ")],1)],1)])])},Of=[],Sf=(a("633b"),{}),Af=Object(l["a"])(Sf,Df,Of,!1,null,"703708ee",null),Bf=Af.exports,Tf=function(){var t=this,e=t._self._c;return e("section",{staticClass:"inspection-request"},[t._m(0),e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function({handleSubmit:a}){return[e("v-card",{staticClass:"form-card mx-auto",attrs:{elevation:"2"}},[e("v-container",[e("form",{on:{submit:function(e){return e.preventDefault(),a(t.onSubmit)}}},[e("v-row",{attrs:{dense:""}},[e("v-col",{attrs:{cols:"12",md:"6"}},[e("ValidationProvider",{attrs:{name:"Full Name",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("v-text-field",{attrs:{label:"Full Name","error-messages":a,outlined:"",dense:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})]}}],null,!0)})],1),e("v-col",{attrs:{cols:"12",md:"6"}},[e("ValidationProvider",{attrs:{name:"location",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("v-text-field",{attrs:{label:"location","error-messages":a,outlined:"",dense:""},model:{value:t.form.location,callback:function(e){t.$set(t.form,"location",e)},expression:"form.location"}})]}}],null,!0)})],1),e("v-col",{attrs:{cols:"12",md:"6"}},[e("ValidationProvider",{attrs:{name:"Phone",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("v-text-field",{attrs:{label:"Phone Number","error-messages":a,outlined:"",dense:""},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})]}}],null,!0)})],1),e("v-col",{attrs:{cols:"12",md:"6"}},[e("ValidationProvider",{attrs:{name:"Service Type",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("v-select",{attrs:{label:"Service Type",items:t.services,"item-text":"name","item-value":"name","error-messages":a,outlined:"",dense:""},model:{value:t.form.service,callback:function(e){t.$set(t.form,"service",e)},expression:"form.service"}})]}}],null,!0)})],1),e("v-col",{attrs:{cols:"12"}},[e("ValidationProvider",{attrs:{name:"Project Description",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("v-textarea",{attrs:{label:"Project Description","error-messages":a,outlined:"",rows:"4"},model:{value:t.form.projectDescription,callback:function(e){t.$set(t.form,"projectDescription",e)},expression:"form.projectDescription"}})]}}],null,!0)})],1),e("v-col",{attrs:{cols:"12",md:"6"}},[e("ValidationProvider",{attrs:{name:"Preferred Date",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("v-text-field",{attrs:{label:"Preferred Date",type:"date","error-messages":a,outlined:"",dense:""},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})]}}],null,!0)})],1),e("v-col",{attrs:{cols:"12"}},[e("ValidationProvider",{attrs:{name:"Agreement",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("v-checkbox",{attrs:{"error-messages":a,label:"I agree to the terms and conditions privacy policy.",required:"","hide-details":""},model:{value:t.form.agree,callback:function(e){t.$set(t.form,"agree",e)},expression:"form.agree"}})]}}],null,!0)})],1),e("v-col",{attrs:{cols:"12"}},[e("v-btn",{attrs:{block:"",color:"orange darken-2",size:"large",dark:"",type:"submit"}},[e("v-icon",{attrs:{start:""}},[t._v("mdi-send")]),t._v(" Submit Request ")],1)],1)],1)],1)])],1)]}}])})],1)},Ff=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center mb-8"},[e("h2",{staticClass:"section-title"},[t._v("Request an Inspection")]),e("p",{staticClass:"section-subtitle"},[t._v(" Fill out the form below to request an inspection or consultation. I’ll get back to you within 24 hours. ")])])}];Object(wa["c"])("required",{...Ia["g"],message:"{_field_} is required to create a product."});var qf={mixins:[Eh,Uh],components:{},data(){return{form:{name:"",location:"",phone:"",service:"",projectDescription:"",date:"",status:"جاري",agree:!1}}},methods:{...Object(y["d"])(ym,["addRequest"]),...Object(y["d"])(zh,["fetchServices"]),async onSubmit(){try{const t=this.tenantUid,e={...this.form,userId:t,keywords:this.generateKeywords(this.form.name)};await this.addRequest(e),this.$toast.success("تم إرسال الطلب بنجاح سيتم التواصل معك قريبا"),this.form={name:"---",location:"---",phone:"---",service:"---",projectDescription:"---",date:"---",agree:!1}}catch(t){console.error("فشل في إرسال الطلب",t),this.$toast.error("حدث خطأ أثناء إرسال الطلب")}}},computed:{...Object(y["e"])(zh,["services"])},watch:{tenantUid(t){t&&(console.log("userId",t),this.fetchServices(t))}}},Lf=qf,Nf=(a("d799"),Object(l["a"])(Lf,Tf,Ff,!1,null,"55e1c9c3",null)),jf=Nf.exports,Mf=function(){var t,e,a,s,r,i,o,n,l,c,d,u,p=this,h=p._self._c;return h("footer",{staticClass:"footer"},[h("v-container",[h("v-row",{staticClass:"footer-top",attrs:{"no-gutters":""}},[h("v-col",{staticClass:"mb-6",attrs:{cols:"12",md:"4"}},[h("h3",{staticClass:"footer-title"},[p._v(p._s((null===(t=p.settings)||void 0===t?void 0:t.heroTitle)||"Our Business"))]),h("p",{staticClass:"footer-desc"},[p._v(" "+p._s((null===(e=p.settings)||void 0===e?void 0:e.heroDescription)||"High quality craftsmanship and service.")+" ")]),h("div",{staticClass:"footer-socials"},[null!==(a=p.settings)&&void 0!==a&&null!==(a=a.socialLinks)&&void 0!==a&&a.facebook?h("a",{attrs:{href:p.settings.socialLinks.facebook,target:"_blank",rel:"noopener noreferrer"}},[h("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"amber lighten-2"}},[p._v("mdi-facebook")])],1):p._e(),null!==(s=p.settings)&&void 0!==s&&null!==(s=s.socialLinks)&&void 0!==s&&s.instagram?h("a",{attrs:{href:p.settings.socialLinks.instagram,target:"_blank",rel:"noopener noreferrer"}},[h("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"amber lighten-2"}},[p._v("mdi-instagram")])],1):p._e(),null!==(r=p.settings)&&void 0!==r&&null!==(r=r.socialLinks)&&void 0!==r&&r.pinterest?h("a",{attrs:{href:p.settings.socialLinks.pinterest,target:"_blank",rel:"noopener noreferrer"}},[h("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"amber lighten-2"}},[p._v("mdi-pinterest")])],1):p._e(),null!==(i=p.settings)&&void 0!==i&&null!==(i=i.socialLinks)&&void 0!==i&&i.website?h("a",{attrs:{href:p.settings.socialLinks.website,target:"_blank",rel:"noopener noreferrer"}},[h("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"amber lighten-2"}},[p._v("mdi-web")])],1):p._e()]),h("div",{staticClass:"footer-contact mt-3"},[null!==(o=p.settings)&&void 0!==o&&o.email?h("p",[h("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"amber darken-2"}},[p._v("mdi-email")]),p._v(" "+p._s(p.settings.email)+" ")],1):p._e(),null!==(n=p.settings)&&void 0!==n&&n.phoneNumber?h("p",[h("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"amber darken-2"}},[p._v("mdi-phone")]),p._v(" "+p._s(p.settings.phoneNumber)+" ")],1):p._e(),null!==(l=p.settings)&&void 0!==l&&l.showWhatsApp&&null!==(c=p.settings)&&void 0!==c&&c.whatsappNumber?h("p",[h("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"amber darken-2"}},[p._v("mdi-whatsapp")]),p._v(" "+p._s(p.settings.whatsappNumber)+" ")],1):p._e()])]),h("v-col",{staticClass:"mb-6",attrs:{cols:"12",md:"4"}},[h("h4",{staticClass:"footer-heading"},[p._v("Quick Links")]),h("ul",{staticClass:"footer-links"},[h("li",[h("a",{attrs:{href:"#"}},[h("span",[p._v("›")]),p._v(" Services")])]),h("li",[h("a",{attrs:{href:"#"}},[h("span",[p._v("›")]),p._v(" Portfolio")])]),h("li",[h("a",{attrs:{href:"#"}},[h("span",[p._v("›")]),p._v(" About Me")])]),h("li",[h("a",{attrs:{href:"#"}},[h("span",[p._v("›")]),p._v(" Testimonials")])]),h("li",[h("a",{attrs:{href:"#"}},[h("span",[p._v("›")]),p._v(" Blog")])]),h("li",[h("a",{attrs:{href:"#"}},[h("span",[p._v("›")]),p._v(" Contact")])])])]),h("v-col",{staticClass:"mb-6",attrs:{cols:"12",md:"4"}},[h("h4",{staticClass:"footer-heading"},[p._v("Business Hours")]),h("ul",{staticClass:"footer-hours"},p._l((null===(d=p.settings)||void 0===d?void 0:d.businessHours)||[],(function(t,e){return h("li",{key:e},[h("span",[p._v(p._s(t.day)+":")]),h("span",[p._v(p._s(t.from&&t.to?`${t.from} – ${t.to}`:t.to))])])})),0),null!==(u=p.settings)&&void 0!==u&&u.location?h("div",{staticClass:"footer-location mt-4"},[h("strong",[p._v("Workshop Location")]),h("p",[p._v(p._s(p.settings.location))]),h("p",{staticClass:"footer-payment"},[h("span",{staticClass:"text-warning"},[p._v("Payment Methods (soon):")]),h("v-icon",{staticClass:"ml-1",attrs:{small:"",color:"amber lighten-2"}},[p._v("mdi-credit-card")]),h("v-icon",{staticClass:"ml-1",attrs:{small:"",color:"amber lighten-2"}},[p._v("mdi-credit-card-outline")]),h("v-icon",{staticClass:"ml-1",attrs:{small:"",color:"amber lighten-2"}},[p._v("mdi-paypal")])],1)]):p._e()])],1),h("v-divider",{staticClass:"mb-4"}),h("v-row",{staticClass:"footer-bottom",attrs:{justify:"space-between",align:"center"}},[h("p",{staticClass:"text-caption mb-0"},[p._v(" © 2025 John Carpenter Woodworks. All rights reserved. ")]),h("div",{staticClass:"footer-policy text-caption"},[h("a",{staticClass:"mr-4",attrs:{href:"#"}},[p._v("Privacy Policy")]),h("a",{staticClass:"mr-4",attrs:{href:"#"}},[p._v("Terms of Service")]),h("a",{attrs:{href:"#"}},[p._v("Sitemap")])])])],1)],1)},Uf=[],Ef={data(){return{}},computed:{...Object(y["e"])(Fh,["settings"]),logoUrl(){var t;return(null===(t=this.settings)||void 0===t?void 0:t.logo)||a("e347")}}},Rf=Ef,Qf=(a("8445"),Object(l["a"])(Rf,Mf,Uf,!1,null,"285245bd",null)),Vf=Qf.exports,Hf={components:{HeaderComponent:Vm,HeroSection:Zm,PortfolioContainer:xf,Services:mf,Baner:Bf,InspectionReques:jf,Footer:Vf}},Gf=Hf,Wf=(a("a597"),Object(l["a"])(Gf,Sh,Ah,!1,null,null,null)),zf=Wf.exports,$f=function(){var t=this,e=t._self._c;return e("v-app",[e("v-container",{staticClass:"d-flex flex-column align-center justify-center loader-background",attrs:{fluid:""}},[e("v-img",{staticClass:"mb-6",attrs:{src:a("e347"),"max-width":"120","aspect-ratio":"1",contain:""}}),e("v-progress-circular",{attrs:{size:70,width:6,color:"deep-purple-accent-2",indeterminate:""}})],1)],1)},Zf=[],Yf={name:"AnimatedLoader"},Kf=Yf,Xf=(a("7a67"),Object(l["a"])(Kf,$f,Zf,!1,null,"8a071e72",null)),Jf=Xf.exports,tv={name:"CompanyPortfolio",components:{Modern:zf,AnimatedLoader:Jf},data(){return{currentTemplate:null,tenantData:null,loading:!0}},methods:{...Object(y["d"])(k,["fetchTenantByCompanyName"]),...Object(y["d"])(D,["fetchTemplateById"]),...Object(y["d"])(Fh,["fetchTemplateSettings"]),async resolveTemplate(){try{const t=this.$route.params.companyName,e=await this.fetchTenantByCompanyName(t),a=["Portfolio","Full System"],s=a.includes(e.subscription_type),r=new Date,i=new Date(e.subscription_start),o=new Date(e.subscription_end),n=e.is_active,l=r>=i&&r<o;if(!s||!n||!l)return console.warn("هذا الاشتراك غير مفعل أو غير صالح لعرض البورتفوليو."),void this.$router.replace({name:"PortfolioAlert"});const c=e.template_id,d=await this.fetchTemplateById(c),u=d.name.toLowerCase(),p={modern:"Modern"};this.currentTemplate=p[u]||null,this.currentTemplate||console.warn("لم يتم العثور على تيمبلت مناسب"),await this.fetchTemplateSettings(e.uid),this.tenantData=e}catch(t){console.error("خطأ أثناء تحميل التيمبلت:",t),this.$router.replace({name:"PortfolioNotFound"})}finally{this.loading=!1}}},mounted(){this.resolveTemplate()}},ev=tv,av=Object(l["a"])(ev,Dh,Oh,!1,null,null,null),sv=av.exports,rv=function(){var t=this,e=t._self._c;return e("v-container",{attrs:{fluid:"","fill-height":""}},[e("v-row",{staticClass:"fill-height",attrs:{align:"center",justify:"center"}},[e("v-col",{staticClass:"text-center"},[e("v-icon",{staticClass:"icon",attrs:{large:""}},[t._v("mdi-alert-circle")]),e("p",{staticClass:"message"},[t._v(" You do not have the necessary permissions or your subscription has expired. ")]),e("v-btn",{staticStyle:{width:"120px",color:"white","background-color":"blue","margin-top":"20px"},attrs:{color:"primary",large:""},on:{click:t.goBack}},[t._v(" Go Back ")])],1)],1)],1)},iv=[],ov={methods:{goBack(){this.$router.push("/")}}},nv=ov,lv=(a("c996"),Object(l["a"])(nv,rv,iv,!1,null,"894455a2",null)),cv=lv.exports,dv=function(){var t=this,e=t._self._c;return e("div",{staticClass:"subscription-invalid"},[e("h1",[t._v("🚫 عذرًا، لا يمكن عرض البورتفوليو")]),t.isAdmin?e("div",[e("p",[t._v("انتهت صلاحية اشتراك البورتفوليو الخاص بك.")]),e("p",[t._v("يرجى التواصل مع المسؤول لتجديد الاشتراك عبر الواتساب:")]),e("a",{staticClass:"whatsapp-link",attrs:{href:"https://wa.me/1152449706",target:"_blank"}},[t._v(" 💬 تواصل معنا الآن ")])]):e("p",[t._v(" الاشتراك الخاص بهذه الشركة غير مفعل، أو انتهت صلاحيته، أو لا يسمح بعرض البورتفوليو. ")])])},uv=[],pv={name:"SubscriptionInvalid",computed:{...Object(y["e"])(k,["isAdmin"])}},hv=pv,mv=(a("3019"),Object(l["a"])(hv,dv,uv,!1,null,"078abea8",null)),fv=mv.exports,vv=function(){var t=this,e=t._self._c;return e("v-app",[e("v-container",{staticClass:"d-flex align-center justify-center",staticStyle:{height:"100vh","background-color":"#f5f5f5"}},[e("v-img",{staticClass:"not-found-image",attrs:{src:a("7a63"),"max-width":"500",contain:""}})],1)],1)},gv=[],bv={name:"PortfolioNotFound"},yv=bv,_v=(a("2ecf"),Object(l["a"])(yv,vv,gv,!1,null,"ec85baea",null)),Cv=_v.exports;s["default"].use(u["a"]);const wv=[{path:"/access-denied/:reason",name:"AccessDenied",component:cv},{path:"/Portfolio-alert",name:"PortfolioAlert",component:fv},{path:"/Portfolio-not-found",name:"PortfolioNotFound",component:Cv},{path:"/",redirect:"/dashboard"},{path:"/dashboard",component:et,children:[{path:"",name:"Dashboard",component:Qe,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"]}},{path:"ManageTenants",name:"ManageTenants",component:B,meta:{requiresAuth:!0,roles:["superAdmin"]}},{path:"ManagePortfolios",name:"ManagePortfolios",component:xh,meta:{requiresAuth:!0,roles:["superAdmin"]}},{path:"Product",name:"Product",component:ds,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"]}},{path:"AddNewProduct",name:"AddNewProduct",component:gs,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"]}},{path:"addcatagory",name:"AddCatagory",component:Fa,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"]}},{path:"Category",name:"Category",component:ya,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"]}},{path:"EditCategory/:id",name:"EditCategory",component:Ua,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"]}},{path:"EditProduct/:id",name:"EditProduct",component:Is,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"]}},{path:"EditUnit/:unitId",name:"EditUnit",component:Js,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"]}},{path:"Units",name:"Units",component:Rs,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"]}},{path:"AddUnit",name:"AddUnit",component:zs,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"]}},{path:"Order",name:"Order",component:oi,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"DashboardLayout"}},{path:"AddNewOrder",name:"AddNewOrder",component:dr,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"]}},{path:"v1/AddNewOrder",name:"AddNewOrder",component:Io,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"]}},{path:"EditOrder/:orderId",name:"EditOrder",component:vr,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"]}},{path:"v1/EditOrder/:orderId",name:"EditOrderNewDesign",component:Jo,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"]}},{path:"DetailsOrder/:orderId",name:"DetailsOrder",component:ti,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"DashboardLayout"}},{path:"Fatora/:orderId/:isCustom",name:"Fatora",component:Nr,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"DashboardLayout"}},{path:"CustomInvoice/:orderId",name:"CustomInvoice",component:Qr,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"DashboardLayout"}},{path:"test",name:"test",component:ln,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"DashboardLayout"}},{path:"Branches",name:"Branches",component:xn,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"DashboardLayout"}},{path:"AddNewBranch",name:"AddNewBranch",component:Tn,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"DashboardLayout"}},{path:"EditBranch/:branchId",name:"EditBranch",component:Mn,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"DashboardLayout"}},{path:"DetailsBranch/:branchId",name:"DetailsBranch",component:Yn,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"DashboardLayout"}},{path:"Transfer",name:"Transfer",component:fl,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"DashboardLayout"}},{path:"AddTransfer",name:"AddTransfer",component:Cl,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"DashboardLayout"}},{path:"StockAlerts",name:"StockAlerts",component:Dl,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"DashboardLayout"}},{path:"Purchases",name:"Purchases",component:Fl,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"DashboardLayout"}},{path:"AddPurchase",name:"AddPurchase",component:Ul,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"DashboardLayout"}},{path:"DetailsPurchases/:purchasesId",name:"DetailsPurchase",component:Kl,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"DashboardLayout"}},{path:"Returns",name:"Returns",component:fc,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"DashboardLayout"}},{path:"Returns/:purchaseId",name:"ReturnsWithId",component:fc,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"DashboardLayout"}},{path:"PurchaseReturn/:purchasesId",name:"PurchaseReturn",component:Cc,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"DashboardLayout"}},{path:"DetailsReturn/:returnId",name:"DetailsReturn",component:Fc,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"DashboardLayout"}},{path:"Reviews",name:"Reviews",component:$e,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"]}},{path:"users/technicalPages/Technical",name:"Technical",component:Kc,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"]}},{path:"users/technical/AddTechnical",name:"AddTechnical",component:sd,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"]}},{path:"users/clintPages/Clint",name:"Clint",component:cd,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"]}},{path:"users/clint/AddClint",name:"AddClint",component:fd,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"]}},{path:"users/clint/deleteUser/:profileId",name:"deleteUser",component:Cd,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"]}},{path:"profile/:profileId",component:Fd,children:[{path:"",name:"AdminUserOrder",component:Ud,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"profileInDashboardLayout"}},{path:"financial",name:"AdminUserFinancial",component:fu,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"profileInDashboardLayout"}},{path:"ListOfTransaction",name:"ListOfTransaction",component:fp,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"profileInDashboardLayout"}},{path:"AddFinancial",name:"AdminAddFinancial",component:Gu,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"profileInDashboardLayout"}},{path:"EditTransaction/:transactionId",name:"EditTransaction",component:Ku,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"profileInDashboardLayout"}},{path:"RandomFinancial",name:"RandomFinancial",component:ih,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"profileInDashboardLayout"}},{path:"projects",name:"AdminUserProjects",component:uh,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"profileInDashboardLayout"}},{path:"settings",name:"AdminUserSetting",component:mh,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"profileInDashboardLayout"}},{path:"DetailsOrder/:orderId",name:"AdminOrderDetails",component:ti,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"profileInDashboardLayout"}},{path:"Fatora/:orderId/:isCustom",name:"AdminOrderFatora",component:Nr,meta:{requiresAuth:!0,roles:["admin","superAdmin"],subscription_type:["Full System"],layout:"profileInDashboardLayout"}}]}]},{path:"/login",name:"Login",component:_h},{path:"/:companyName",name:"companyPortfolio",component:sv},{path:"/profile/:profileId",component:Fd,children:[{path:"",name:"UserOrder",component:Ud,meta:{requiresAuth:!0,roles:["technical","clint","admin","superAdmin"],layout:"profileOutDashboardLayout"}},{path:"financial",name:"UserFinancial",component:fu,meta:{requiresAuth:!0,roles:["technical","clint","admin","superAdmin"],layout:"profileOutDashboardLayout"}},{path:"ListOfTransaction",name:"ListOfTransaction",component:fp,meta:{requiresAuth:!0,roles:["technical","clint","admin","superAdmin"],layout:"profileOutDashboardLayout"}},{path:"/transactions/edit/:transactionId/:profileId",name:"EditFinancial",component:Ku,meta:{requiresAuth:!0,roles:["technical","clint","admin"],layout:"profileOutDashboardLayout"}},{path:"projects",name:"UserProjects",component:uh,meta:{requiresAuth:!0,roles:["technical","clint","admin","superAdmin"],layout:"profileOutDashboardLayout"}},{path:"settings",name:"UserSetting",component:mh,meta:{requiresAuth:!0,roles:["technical","clint","admin","superAdmin"],layout:"profileOutDashboardLayout"}},{path:"DetailsOrder/:orderId",name:"OrderDetails",component:ti,meta:{requiresAuth:!0,roles:["technical","clint","admin","superAdmin"],layout:"profileOutDashboardLayout"}},{path:"Fatora/:orderId/:isCustom",name:"OrderFatora",component:Nr,meta:{requiresAuth:!0,roles:["technical","clint","admin","superAdmin"],layout:"profileOutDashboardLayout"}}]}],Iv=new u["a"]({mode:"hash",base:"https://ahmedabdosoftware.github.io/system-decorating/",routes:wv});Iv.beforeEach((t,e,a)=>{const s=()=>new Promise(t=>{const e=f.onAuthStateChanged(a=>{e(),t(a)})});s().then(async e=>{let s=!1,r=null,i=null,o=null,n=null,l=!1;if(e){s=!0;const t=await m.collection("users").doc(e.uid).get();if(t.exists){const e=t.data();r=e.role,i=e.subscription_type,o=e.subscription_start,n=e.subscription_end,l=e.isActive}}const c=t.meta.requiresAuth,d=t.meta.roles||[],u=t.meta.subscription_type||[],p=new Date;return"superAdmin"===r&&s?a():c&&!s?(console.log("go login"),a("/login")):c&&s&&(d.length&&!d.includes(r)||u.length&&!u.includes(i)||o&&new Date(o)>p||n&&new Date(n)<p||!l)?a("/access-denied/no-permission"):a()})});var Pv=Iv,kv=a("6c42"),xv=(a("da96"),a("2f62"));s["default"].use(xv["a"]);var Dv=new xv["a"].Store({state:{darkMode:!1,mood:"normal",langNow:localStorage.getItem("ourLangauge")||"En",mapbranche:"Jeddah",showHeader:!0,lan:{Ar:{askByWats:"اطلب عبر الواتساب",detailsProduct:"التفاصيل",detailsOfProduct:"تفاصيل المنتج",relatedOfProduct:"شاهد ايضا",home:"الرئيسية",about:"من نحن",service:"خداماتنا",contact:"تواصل معنا ",textBackground:" نبتكر حلولًا مخصصة لمشاريع الديكور الأنيقة",textBackgroundDown:".نحن ملتزمون بتقديم حلول تصميم أنيقة ومخصصة لمشاريع الديكور، مع التركيز على بناء علاقات دائمة ومتميزة مع عملائنا الكرام",lastestProjects:"الاطلاع على اخر الاعمال",branches:"الفروع",catalog:"كاتلوج",serviceUnder:": نمتلك خبرات كبيرة فى عدة خدمات ",catalogUnder:"يمكنك الاطلاع على الكاتلوج وعمل فلترة للخدمة التى تهتم بها",placeholder:"ادخل رقم الطلب الخاص بك ",packageDel:"تم تسليم الطرد",HappyClinnts:"عملاء سعداء",ReviewStar:"تقييمات 5 نجوم",track:"تتبع الشحنة ",aboutContent:".نحن شركة متخصصة في مجال الديكورات، نقدم حلولاً مبتكرة وفريدة من نوعها لتلبية احتياجات العملاء من الكرانيش وبديل الرخام بفضل فريق عمل متميز يلتزم بأعلى معايير الجودة",message:"رسالتنا",ourMessageContent:"هدف شركتنا هو أن تكون الرائدة في مجال الديكور الداخلي والخارجي وتقديم تصاميم متميزة تضيف قيمة وجمال لكل مشروع",through:"من خلالنا",throughContent:" تقديم خدمات تصميم وتنفيذ تغطي معظم أنحاء الجمهورية وتتميز بأعلى مستويات الجودة- الاستثمار في موظفينا ومنحهم الصلاحيات التي تساعدهم على أداء مهامهم بكفاءة وإبداع",Quality:"سياسة الجودة",QualityContent:"تلتزم إدارتنا بتقديم خدمات تتميز بأعلى مستويات الجودة لعملائنا، مع السعي الدائم لتجاوز توقعاتهم من خلال تحسين مستمر في الأداء وتقديم خدمات مهنية وفعالة من حيث التكلفة باستخدام أحدث الأساليب",means:"وسائل",meansContent:"الجودة في شركتنا هي مسؤولية شخصية لكل موظف. لضمان الحفاظ على مستويات الجودة والأداء، نوفر كافة الوسائل اللازمة والتدريب المستمر والدعم. هذا يساهم في خلق بيئة عمل مثالية تحفز الموظفين على الإبداع والتفاني. قيمنا تشمل: المبادرة، الجودة، الشفافية، التعاون، والولاء",Commitments:"التزاماتنا",CommitmentsContent:"نحن ملتزمون بتقديم أفضل الخدمات في مجال الديكور، ونضمن رضا عملائنا من خلال الالتزام بأعلى معايير الجودة والاحترافية. عملاؤنا هم محور اهتمامنا، ونسعى دائماً لتقديم حلول مخصصة تلبي احتياجاتهم الفريدة.",tow:"هدفنا",towContent:"نسعى لبناء علاقات طويلة الأمد مع عملائنا من خلال تقديم خدمات متميزة تلبي احتياجاتهم وتفوق توقعاتهم",three:"معايير الجودة",threeContent:"نؤمن بأن الجودة هي مفتاح النجاح، لذلك نحرص على اتباع أعلى معايير الجودة في جميع مراحل العمل",four:"الابتكار",fourContent:"نسعى دائماً لتقديم حلول مبتكرة تلبي احتياجات العملاء وتتماشى مع أحدث الاتجاهات في مجال الديكور",five:"التواصل المستمر",fiveContent:"نحرص على التواصل المستمر مع عملائنا لضمان تحقيق رؤيتهم وتصميماتهم بأفضل شكل ممكن",six:"خدمات ما بعد البيع",sixContent:"نحن ملتزمون بتقديم خدمات ما بعد البيع لدعم عملائنا وضمان رضاهم التام عن خدماتنا",siven:"الالتزام بالمواعيد",sivenContent:"ندرك أهمية الالتزام بالمواعيد النهائية ونسعى لتحقيق ذلك في جميع مشاريعنا",seeMore:"المزيد",seeLess:"اقل",howToSendYourOrder:"كيف تقوم بارسال طلبك",placeOrder:"قم بتقديم الطلب",orderDescription:"اطلب شحنتك لتسليمها إلى أي مكان بأمان وبسرعة",waitForArrival:"انتظر الوصول",arrivalDescription:"انتظر وصول شحنتك في الوقت المحدد بكل هدوء وسلام",finishAndRate:"انهاء الطلب وتقييمنا",finishAndRateDescription:"تصل شحنتك بأمان إلى الموقع المحدد دون تأخير",reviews:"التقييمات",review1:"شكرًا لكم راسيل على هذه الخدمة الرائعة",review1Author:"فارس كنان",review1Role:"عميل",review1Text:"شركة محترمة ومنظمين في عملهم، نأمل أن يكون هذا ليس آخر تعامل معكم. حياكم الله",review2:"العامل جدا خدوم و الشركة كتير منظمة ",review2Author:"محسن راجح",review2Role:"عميل",review3:" العامل في التوصيل محترم للغاية. هذه الشركة منظمة وآمنة",review3Author:"شذى حمد",review3Role:"عميل",review4:"شركة محترمة تلتزم بالمواعيد ولن يكون اخر تعامل ان شاء الله ",review4Author:"محمد سعيد",review4Role:"عميل",review5:"تعامل راقى وشركة محترمة للامانة",review5Role:"Client",review5Author:"ابو نواف",review6:"حياكم الله على هذا التنظيم ",review6Role:"عميل",review6Author:" صادق احمد",contactUs:"التواصل معنا",contactUsText:"اتصل بنا",contactUsEmail:"Example@gmail.com",contactUsPhone:"8002480022",quickLinks:"روابط سريعة",quickLinksHome:"الرئيسية",quickLinksServices:"الخدمات",quickLinksAbout:"حول",quickLinksBranches:"الفروع",location:"الموقع",locationMainCenter:"المركز الرئيسي: جدة - منطقة المهجر",locationHours:"07:00 صباحًا - 03:00 مساءً",copyright:"RASIL لتكنولوجيا المعلومات — 2024 ©",branchesInfo:"الفروع",Jeddah:{name:"جــــدة",phone:"0569286392",phone1:"0569286398",phone2:"",map:"https://goo.gl/maps/5FZECFMtfuhKsXCA8",address:"أضف عنوان هنا",schedule:"أضف جدول زمني هنا"},AlQunfudhah:{name:"القنفــــذة",phone:"0569286258",phone1:"0569286264",phone2:"",map:"https://goo.gl/maps/JwaWq66bxJygXyPg7",address:"أضف عنوان هنا",schedule:"أضف جدول زمني هنا"},Samtah:{name:"صـــامــطة",phone:"0569286405",phone1:"0569286435",phone2:"",map:"https://goo.gl/maps/h9JPNpchp6s8tYgs9",address:"أضف عنوان هنا",schedule:"أضف جدول زمني هنا"},AhadAlMasarihah:{name:"أحد المسارحة/الحصمة",phone:"0569286408",phone1:"",phone2:"",map:"https://goo.gl/maps/h9JPNpchp6s8tYgs9",address:"أضف عنوان هنا",schedule:"أضف جدول زمني هنا"},BishaDarab:{name:"بيــش/الــدرب",phone:"0569286462",phone1:"",phone2:"",map:"https://goo.gl/maps/neDgiXi9mjJqqGRy9",address:"أضف عنوان هنا",schedule:"أضف جدول زمني هنا"},Jizan:{name:"جازان",phone:"0569286332",phone1:"",phone2:"",map:"https://goo.gl/maps/w1j2quVhijWYhpvJA",address:"أضف عنوان هنا",schedule:"أضف جدول زمني هنا"},Sabya:{name:"صبيــــا",phone:"0569286309",phone1:"0569286367",phone2:"0569286475",map:"https://goo.gl/maps/neDgiXi9mjJqqGRy9",address:"أضف عنوان هنا",schedule:"أضف جدول زمني هنا"},AbuArish:{name:"أبو عريـــش",phone:"0569286402",phone1:"0569286458",phone2:"0569286459",map:"https://goo.gl/maps/h9JPNpchp6s8tYgs9",address:"أضف عنوان هنا",schedule:"أضف جدول زمني هنا"},SakakaArarDumatalJandal:{name:"سكاكا/عرعر/دومة الجندل",phone:"0534758525",phone1:"0534758527",phone2:"0534758579",map:"https://goo.gl/maps/2qPWiUqyXUwvq6Qf6",address:"أضف عنوان هنا",schedule:"أضف جدول زمني هنا"}},En:{detailsProduct:"details",askByWats:"ask by whats",detailsOfProduct:"Product Details",relatedOfProduct:"related products",catalog:"catalog",placeholder:"enter your order for search",packageDel:"package delivered",HappyClinnts:"Happy clients",ReviewStar:"5 stars Reviews",track:"Track Order",home:"home",about:"about",service:"service",contact:" contact us",textBackground:"Creating tailored solutions for elegant décor projects.",textBackgroundDown:"We’re dedicated to delivering elegant design solutions and building lasting customer relationships.",lastestProjects:"Check out our latest projects",branches:"branches",serviceUnder:" we have a great export in multi service :",catalogUnder:" you can see our catalog and make filtring for your interest :",aboutContent:"We are a specialized company in décor, providing innovative and unique solutions to meet the needs of our customers in cornices and marble alternatives through a dedicated team committed to the highest quality standards.",message:"Our Message",ourMessageContent:"Our goal is to be the leader in interior and exterior décor, offering distinguished designs that add value and beauty to every project.",through:"Through Us",throughContent:"1- Providing design and implementation services that cover most regions of the Republic with the highest quality standards.\n2- Investing in our employees and empowering them to perform their duties with efficiency and creativity.",Quality:"Quality Policy",QualityContent:"Our management is fully committed to providing services characterized by the highest quality standards to our clients, continually striving to exceed their expectations through continuous improvement in performance and offering professional and cost-effective services using the latest methods.",means:"Means",meansContent:"Quality in our company is a personal responsibility for every employee. To ensure maintaining quality and performance levels, we provide all necessary means, continuous training, and support. This contributes to creating an ideal work environment that motivates employees to be creative and dedicated. Our values include: Initiative, Quality, Transparency, Cooperation, and Loyalty.",Commitments:"Our Commitments",CommitmentsContent:"We are committed to providing the best services in the field of décor, ensuring customer satisfaction through adherence to the highest standards of quality and professionalism. Our clients are our top priority, and we always strive to deliver customized solutions that meet their unique needs.",tow:"Our Goal",towContent:"We aim to build long-term relationships with our clients by providing exceptional services that meet their needs and exceed their expectations.",three:"Quality Standards",threeContent:"We believe that quality is the key to success, and therefore we adhere to the highest quality standards at all stages of our work.",four:"Innovation",fourContent:"We always strive to provide innovative solutions that meet the needs of our clients and align with the latest trends in the décor field.",five:"Continuous Communication",fiveContent:"We ensure continuous communication with our clients to realize their vision and designs in the best possible way.",six:"After-Sales Services",sixContent:"We are committed to providing after-sales services to support our clients and ensure their complete satisfaction with our services.",siven:"Timely Delivery",sivenContent:"We recognize the importance of meeting deadlines and strive to achieve this in all our projects.",seeMore:"see more",seeLess:"see less",howToSendYourOrder:"how to send your order",placeOrder:"Place an order",orderDescription:"Request your shipment to be delivered to anywhere safely and faster.",waitForArrival:"Wait for arrival",arrivalDescription:"Wait for your shipment to arrive on time with complete peace of mind.",finishAndRate:"Finish and rate us",finishAndRateDescription:"Your shipment arrives safely at the specified location without delay.",branchesInfo:"BRANCHES",Jeddah:{name:"Jeddah",phone:"0569286392",phone1:"0569286398",phone2:"",map:"https://goo.gl/maps/5FZECFMtfuhKsXCA8",address:"add your address here",schedule:"add your time table here"},AlQunfudhah:{name:"Al Qunfudhah",phone:"0569286258",phone1:"0569286264",phone2:"",map:"https://goo.gl/maps/JwaWq66bxJygXyPg7",address:"add your address here",schedule:"add your time table here"},Samtah:{name:"Samtah",phone:"0569286405",phone1:"0569286435",phone2:"",map:"https://goo.gl/maps/h9JPNpchp6s8tYgs9",address:"add your address here",schedule:"add your time table here"},AhadAlMasarihah:{name:"Ahad Al-Masarihah",phone:"0569286408",phone1:"",phone2:"",map:"https://goo.gl/maps/h9JPNpchp6s8tYgs9",address:"add your address here",schedule:"add your time table here"},BishaDarab:{name:"Bisha/Darab",phone:"0569286462",phone1:"",phone2:"",map:"https://goo.gl/maps/neDgiXi9mjJqqGRy9",address:"add your address here",schedule:"add your time table here"},Jizan:{name:"Jizan",phone:"0569286332",phone1:"",phone2:"",map:"https://goo.gl/maps/w1j2quVhijWYhpvJA",address:"add your address here",schedule:"add your time table here"},Sabya:{name:"Sabya",phone:"0569286309",phone1:"0569286367",phone2:"0569286475",map:"https://goo.gl/maps/neDgiXi9mjJqqGRy9",address:"add your address here",schedule:"add your time table here"},AbuArish:{name:"Abu Arish",phone:"0569286402",phone1:"0569286458",phone2:"0569286459",map:"https://goo.gl/maps/h9JPNpchp6s8tYgs9",address:"add your address here",schedule:"add your time table here"},SakakaArarDumatalJandal:{name:"Sakaka/Arar/Dumat al-Jandal",phone:"0534758525",phone1:"0534758527",phone2:"0534758579",map:"https://goo.gl/maps/2qPWiUqyXUwvq6Qf6",address:"add your address here",schedule:"add your time table here"},reviews:"REVIEWS",review1:"Thank you RASIL for this wonderful service.",review1Author:"Fares Kenan",review1Role:"Client",review1Text:"شركة محترمة ومنظمين في شغلهم ان شاء الله لن يكون اخر تعامل معكم حياكم الله.",review2:"The delivery worker is very respectable. This company is organized and safe.",review2Author:"Mohsen Raje",review2Role:"Client",review3:"The delivery worker is very respectable. This company is organized and safe",review3Role:"Client",review3Author:"Shaza Hamd",review4:"A respectable company that adheres to deadlines, and this will not be the last interaction, God willing",review4Role:"Client",review4Author:"mohamed said",review5:"Classy dealings and a respectable, honest company",review5Role:"Client",review5Author:"abu noaf",review6:"May God bless you for this organization",review6Role:"Client",review6Author:"sadik ahmed",contactUs:"CONTACT WITH US",contactUsText:"Contact us",contactUsEmail:"Example@gmail.com",contactUsPhone:"8002480022",quickLinks:"Quick links",quickLinksHome:"HOME",quickLinksServices:"SERVICES",quickLinksAbout:"ABOUT",quickLinksBranches:"BRANCHES",location:"Location",locationMainCenter:"Main center: Jeddah - Al Mahjar district",locationHours:"07:00 AM - 03:00 PM",copyright:"RASIL for information technology—2024 ©"}}},mutations:{toggleDarkMode(t){t.darkMode=!t.darkMode,1==t.darkMode?t.mood="dark":t.mood="normal"},changeTheLang(t,e){localStorage.setItem("ourLangauge",e),t.langNow=e},changeMapbranche(t,e){t.mapbranche=e}},getters:{catchLang(t){return"En"===t.langNow?t.lan.En:"Ar"===t.langNow?t.lan.Ar:void 0},myLanguage(t){return"En"===t.langNow?"En":"Ar"===t.langNow?"Ar":void 0}},actions:{},modules:{}}),Ov=a("be33"),Sv=a("11ca"),Av=a("4ab5");Ov["c"].add(Sv["Y"],Sv["ab"],Sv["H"],Sv["K"],Sv["D"],Sv["R"],Sv["h"],Sv["P"],Sv["b"],Sv["A"],Sv["p"],Sv["a"],Sv["bb"],Sv["m"],Sv["l"],Sv["k"],Sv["n"],Sv["I"],Sv["S"],Sv["W"],Sv["db"],Sv["L"],Sv["E"],Sv["Q"],Sv["f"],Sv["T"],Sv["cb"],Sv["u"],Sv["v"],Sv["w"],Sv["s"],Sv["X"],Sv["x"],Av["a"],Sv["y"],Sv["O"],Sv["o"],Sv["r"],Sv["j"],Sv["c"],Sv["fb"],Sv["g"],Sv["z"],Sv["t"],Sv["e"],Sv["U"],Sv["G"],Sv["i"],Sv["Z"],Sv["F"],Sv["C"],Sv["N"],Sv["gb"],Sv["d"],Sv["B"],Sv["q"],Sv["M"],Sv["eb"],Sv["J"],Sv["V"]);var Bv=ui["a"],Tv=a("ce5b"),Fv=a.n(Tv);a("bf40"),a("5363"),a("b107");s["default"].filter("sub",(function(t){return t.substring(0,35)+"..."})),s["default"].filter("subName",(function(t){return t.substring(0,25)+"..."})),s["default"].filter("formatDate",(function(t){if(!t)return"";const e=new Date(t),a=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${a}-${s}-${r}`})),s["default"].use(kv["a"],{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),s["default"].component("font-awesome-icon",Bv),s["default"].use(Fv.a),s["default"].config.productionTip=!1,s["default"].use(y["a"]);const qv=Object(y["b"])();s["default"].component("ValidationObserver",wa["a"]),s["default"].component("ValidationProvider",wa["b"]),s["default"].directive("font",{bind:function(t){t.style.fontSize="13px"}});const Lv=new Fv.a;new s["default"]({render:t=>t(d),pinia:qv,router:Pv,store:Dv,vuetify:Lv}).$mount("#app");const Nv=k();Nv.handleAuthStateChanged()},"56e8":function(t,e,a){"use strict";a("056f")},5770:function(t,e,a){"use strict";a("67e7")},5887:function(t,e,a){"use strict";a("11cf")},"58c0":function(t,e,a){"use strict";a("9059")},"599a":function(t,e,a){t.exports=a.p+"img/homepage.95780a74.png"},"5a7a":function(t,e,a){},"5ceb":function(t,e,a){"use strict";a("c7f8")},"5ced":function(t,e,a){"use strict";a("dcf8")},"5d2d":function(t,e,a){"use strict";a("09a6")},"5d36":function(t,e,a){},"5da7":function(t,e,a){},"5ddc":function(t,e,a){"use strict";a("61ee")},6174:function(t,e,a){"use strict";a("fcfe")},"61a6":function(t,e,a){t.exports=a.p+"img/dark-mode.fca1494f.png"},"61dc":function(t,e,a){"use strict";a("0eae")},"61ee":function(t,e,a){},"62df":function(t,e,a){},"633b":function(t,e,a){"use strict";a("b9f6")},6384:function(t,e,a){"use strict";a("76b8")},"63d8":function(t,e,a){t.exports=a.p+"img/Addpayment.f7a10ee9.png"},6441:function(t,e,a){"use strict";a("49c6")},"650d":function(t,e,a){},6664:function(t,e,a){"use strict";a("b60c")},"675e":function(t,e,a){},"67e7":function(t,e,a){},6988:function(t,e,a){},"6df2":function(t,e,a){t.exports=a.p+"img/products.9a0049e8.png"},"716b":function(t,e,a){"use strict";a("e90b")},"74bb":function(t,e,a){"use strict";a("e3e1")},"75a9":function(t,e,a){"use strict";a("4441")},"768b":function(t,e,a){},"76b8":function(t,e,a){},"77ca":function(t,e,a){},"77cf":function(t,e,a){},"783f":function(t,e,a){},7879:function(t,e,a){"use strict";a("79de")},7989:function(t,e,a){"use strict";a("ddad")},"79de":function(t,e,a){},"7a63":function(t,e,a){t.exports=a.p+"img/portfolio-not-found.3c85dd12.svg"},"7a67":function(t,e,a){"use strict";a("77ca")},"7bf5":function(t,e,a){},"7c6d":function(t,e,a){},"7d7c":function(t,e,a){"use strict";a("0eda")},"7de5":function(t,e,a){"use strict";a("9dd4")},"7ee3":function(t,e,a){"use strict";a("c217")},"80b2":function(t,e,a){},8201:function(t,e,a){"use strict";a("1bf5")},8445:function(t,e,a){"use strict";a("5a7a")},8512:function(t,e,a){"use strict";a("a3ce")},"860a":function(t,e,a){"use strict";a("2bde")},8658:function(t,e,a){"use strict";a("f171")},"868b":function(t,e,a){"use strict";a("b8ce")},"86d6":function(t,e,a){},8719:function(t,e,a){},8771:function(t,e,a){"use strict";a("9d46")},"87e1":function(t,e,a){"use strict";a("9365")},"88dd":function(t,e,a){},8942:function(t,e,a){},"8abd":function(t,e,a){"use strict";a("aebb")},"8b11":function(t,e,a){},"8ca4":function(t,e,a){"use strict";a("2419")},"8cf3":function(t,e,a){},"8d31":function(t,e,a){"use strict";a("3667")},"8d48":function(t,e,a){},"8e27":function(t,e,a){t.exports=a.p+"img/logo.bccad3fe.jpg"},"8f76":function(t,e,a){"use strict";a("3b5d")},9056:function(t,e,a){},9059:function(t,e,a){},"91fc":function(t,e,a){},9232:function(t,e,a){"use strict";a("eb05")},9365:function(t,e,a){},"94e4":function(t,e,a){"use strict";a("c8c8")},9552:function(t,e,a){},9727:function(t,e,a){},"97ad":function(t,e,a){},9895:function(t,e,a){"use strict";a("17f4")},"9a04":function(t,e,a){},"9b78":function(t,e,a){},"9d46":function(t,e,a){},"9d5a":function(t,e,a){t.exports=a.p+"img/active.a621c2d2.png"},"9d8b":function(t,e,a){},"9db0":function(t,e,a){},"9dd4":function(t,e,a){},"9f1c":function(t,e,a){},"9f56":function(t,e,a){},"9f70":function(t,e,a){},a024:function(t,e,a){"use strict";a("54c8")},a0bc:function(t,e,a){},a1a0:function(t,e,a){"use strict";a("468d")},a22d:function(t,e,a){"use strict";a("0519")},a3ce:function(t,e,a){},a419:function(t,e,a){},a4cc:function(t,e,a){},a597:function(t,e,a){"use strict";a("675e")},a63c:function(t,e,a){},a7ef:function(t,e,a){},a939:function(t,e,a){},abed:function(t,e,a){"use strict";a("af00")},ac13:function(t,e,a){},acf0:function(t,e,a){"use strict";a("97ad")},adb3:function(t,e,a){"use strict";a("8cf3")},ae0a:function(t,e,a){"use strict";a("a939")},aebb:function(t,e,a){},aed0:function(t,e,a){},af00:function(t,e,a){},b107:function(t,e,a){},b2eb:function(t,e,a){"use strict";a("217e")},b412:function(t,e,a){},b60c:function(t,e,a){},b8b2:function(t,e,a){},b8ce:function(t,e,a){},b9f6:function(t,e,a){},ba58:function(t,e,a){},bce1:function(t,e,a){},bdb4:function(t,e,a){t.exports=a.p+"img/warehouse.60d1a706.png"},bdeb:function(t,e,a){},bdfe:function(t,e,a){"use strict";a("45dc")},bedb:function(t,e,a){"use strict";a("4690")},bf5b:function(t,e,a){"use strict";a("043d")},c136:function(t,e,a){"use strict";a("e587")},c1d3:function(t,e,a){"use strict";a("ba58")},c217:function(t,e,a){},c2f7:function(t,e,a){},c42a:function(t,e,a){"use strict";a("9db0")},c4c0:function(t,e,a){},c4c7:function(t,e,a){t.exports=a.p+"img/practice_2.7388046b.png"},c4d1:function(t,e,a){"use strict";a("d084")},c628:function(t,e,a){"use strict";a("efa0")},c6b3:function(t,e,a){"use strict";a("4752")},c6cb:function(t,e,a){"use strict";a("dd42")},c7ba:function(t,e,a){"use strict";a("b8b2")},c7f8:function(t,e,a){},c84a:function(t,e,a){t.exports=a.p+"img/Addpayment2.d89525c2.png"},c8c8:function(t,e,a){},c91b:function(t,e,a){},c996:function(t,e,a){"use strict";a("9b78")},caaa:function(t,e,a){},cb91:function(t,e,a){t.exports=a.p+"img/ManageUsers.357064e4.png"},ccef:function(t,e,a){t.exports=a.p+"img/search.ac8ed8bf.png"},cd5b:function(t,e,a){},ce80:function(t,e,a){"use strict";a("91fc")},cf91:function(t,e,a){},cfb5:function(t,e,a){"use strict";a("1baa")},cfdf:function(t,e,a){t.exports=a.p+"img/push.86c0e73e.png"},d084:function(t,e,a){},d121:function(t,e,a){"use strict";a("d753")},d281:function(t,e,a){"use strict";a("768b")},d372:function(t,e,a){"use strict";a("c2f7")},d3a6:function(t,e,a){"use strict";a("783f")},d3c7:function(t,e,a){"use strict";a("e5aa")},d64e:function(t,e,a){},d753:function(t,e,a){},d799:function(t,e,a){"use strict";a("3f0d")},d807:function(t,e,a){},d8c1:function(t,e,a){},da1b:function(t,e,a){"use strict";a("0fee")},daa2:function(t,e,a){"use strict";a("48f5")},dab3:function(t,e,a){"use strict";a("a7ef")},dcf8:function(t,e,a){},dd42:function(t,e,a){},ddad:function(t,e,a){},dee2:function(t,e,a){"use strict";a("9a04")},e1776:function(t,e,a){"use strict";a("8942")},e185:function(t,e,a){},e28a:function(t,e,a){"use strict";a("9d8b")},e2be:function(t,e,a){},e32b:function(t,e,a){"use strict";a("3ddf")},e333:function(t,e,a){"use strict";a("86d6")},e347:function(t,e,a){t.exports=a.p+"img/logo.145a137e.svg"},e36c:function(t,e,a){"use strict";a("0a4e")},e3e1:function(t,e,a){},e55d:function(t,e,a){},e587:function(t,e,a){},e5aa:function(t,e,a){},e721:function(t,e,a){"use strict";a("caaa")},e7e0:function(t,e,a){"use strict";a("2f7c")},e85a:function(t,e,a){"use strict";a("f341")},e90b:function(t,e,a){},e963:function(t,e,a){"use strict";a("e185")},ea44:function(t,e,a){"use strict";a("ec75")},ea86:function(t,e,a){"use strict";a("bdeb")},eb05:function(t,e,a){},ec75:function(t,e,a){},ed28:function(t,e,a){"use strict";a("650d")},efa0:function(t,e,a){},f0e4:function(t,e,a){},f131:function(t,e,a){},f139:function(t,e,a){"use strict";a("f6df")},f171:function(t,e,a){},f341:function(t,e,a){},f361:function(t,e,a){"use strict";a("208a")},f4df:function(t,e,a){"use strict";a("77cf")},f608:function(t,e,a){t.exports=a.p+"img/portfolio-icon.f1cbd182.png"},f6ce:function(t,e,a){},f6df:function(t,e,a){},f8fd:function(t,e,a){"use strict";a("cd5b")},f9a1:function(t,e,a){},f9bf:function(t,e,a){"use strict";a("45d9")},fabe:function(t,e,a){"use strict";a("d8c1")},fc09:function(t,e,a){"use strict";a("20a1")},fc46:function(t,e,a){},fca9:function(t,e,a){"use strict";a("52af")},fcfe:function(t,e,a){},fe28:function(t,e,a){}});
//# sourceMappingURL=app.c6e09d79.js.map